<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title>setting.org</title>
  <style type="text/css">code{white-space: pre;}</style>
  <style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
  </style>
  <script src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<div id="header">
<h1 class="title">setting.org</h1>
</div>
<h1>Emacs startup</h1>
<h2>save custom configs in a seperate file</h2>
<p>to save the custom configs in a seperate file from init.el</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> custom-file <span class="st">&quot;~/.emacs.d/custom.el&quot;</span>)
  (<span class="kw">load</span> custom-file &#39;noerror)</code></pre></div>
<p>$Note The first function just reloads the Emacs configuration. The second function opens the configuration up for editing.$</p>
<h2>Check which OS your on</h2>
<pre><code>  ; Check if system is windows
  (defun system-type-is-win ()
  (interactive)
  &quot;Return true if system is windows&quot;
  (string-equal system-type &quot;windows-nt&quot;)
  )

  ;; Check if system is GNU/Linux
  (defun system-type-is-gnu ()
  (interactive)
  &quot;Return true if system is GNU/Linux-based&quot;
  (string-equal system-type &quot;gnu/linux&quot;)
  )
</code></pre>
<h2>set main theme</h2>
<p>To edit the theme <a href="~/.emacs.d/themes/zprime-theme.el">file:~/.emacs.d/themes/zprime-theme.el</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">    <span class="co">;;;add custom themes to list</span>
    (add-to-list &#39;custom-theme-load-path <span class="st">&quot;/home/zeltak/.emacs.d/themes&quot;</span>)
    <span class="co">;to load a specifc theme </span>
    <span class="co">;(load-file &quot;~/.emacs.d/themes/zprime-theme.el&quot;)</span>
    <span class="co">;load the choosen theme at startup </span>
    (load-theme &#39;zprime <span class="kw">t</span>)

  <span class="co">;;;; below works but changes GUI apps theme when launching term..not good..maybe look into this in future  </span>

  <span class="co">;; ;; last t is for NO-ENABLE</span>
    <span class="co">;;   (load-theme &#39;zprime t t)</span>
    <span class="co">;;   (load-theme &#39;tango-dark t t)</span>

    <span class="co">;;   (defun mb/pick-color-theme (frame)</span>
    <span class="co">;;     (select-frame frame)</span>
    <span class="co">;;     (if (window-system frame)</span>
    <span class="co">;;         (progn  </span>
    <span class="co">;;           (disable-theme &#39;tango-dark) ; in case it was active</span>
    <span class="co">;;           (enable-theme &#39;zprime))</span>
    <span class="co">;;       (progn  </span>
    <span class="co">;;         (disable-theme &#39;zprime) ; in case it was active</span>
    <span class="co">;;         (enable-theme &#39;tango-dark))))</span>
    <span class="co">;;   (add-hook &#39;after-make-frame-functions &#39;mb/pick-color-theme)</span>

    <span class="co">;;   ;; For when started with emacs or emacs -nw rather than emacs --daemon</span>
    <span class="co">;;   (if window-system</span>
    <span class="co">;;       (enable-theme &#39;zprime)</span>
    <span class="co">;;     (enable-theme &#39;tango-dark))</span>
</code></pre></div>
<h2>Fonts</h2>
<pre><code>  ; fonts in linux
  (if (system-type-is-gnu)
  ;(add-to-list &#39;default-frame-alist &#39;(font . &quot;Inconsolata-16&quot;))
  ;(add-to-list &#39;default-frame-alist &#39;(font . &quot;Source Code Pro-14&quot;))
  (add-to-list &#39;default-frame-alist &#39;(font . &quot;Pragmata Pro-16&quot;))
  )

  ;; fontso in Win
  (if (system-type-is-win)
  (add-to-list &#39;default-frame-alist &#39;(font . &quot;Consolas-14&quot;))
  )

  (prefer-coding-system &#39;utf-8)
  (set-default-coding-systems &#39;utf-8)
  (set-terminal-coding-system &#39;utf-8)
  (set-keyboard-coding-system &#39;utf-8)
  ;; UTF-8 as default encoding
  (set-language-environment &quot;UTF-8&quot;)

  ;; backwards compatibility as default-buffer-file-coding-system
  ;; is deprecated in 23.2.
  (if (boundp &#39;buffer-file-coding-system)
      (setq-default buffer-file-coding-system &#39;utf-8)
    (setq default-buffer-file-coding-system &#39;utf-8))

  ;; Treat clipboard input as UTF-8 string first; compound text next, etc.
  (setq x-select-request-type &#39;(UTF8_STRING COMPOUND_TEXT TEXT STRING))
</code></pre>
<h1>Packages</h1>
<p><span class="math inline">\(Note\)</span> the sign !package! means the package is disbaled</p>
<h2>key-chord</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> key-chord 
    :ensure <span class="kw">t</span>
    :config
  (<span class="kw">setq</span> key-chord-two-keys-delay <span class="fl">0.16</span>)
  (<span class="kw">setq</span> key-chord-one-key-delay <span class="fl">0.20</span>)
  )</code></pre></div>
<h2>Helm</h2>
<h3>load Helm</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> helm
  :ensure <span class="kw">t</span>
  :config
  (<span class="kw">require</span> &#39;helm-config)
  (helm-mode <span class="dv">1</span>)
  (global-set-key (kbd <span class="st">&quot;M-x&quot;</span>) &#39;helm-M-x)
  (<span class="kw">setq</span> helm-M-x-fuzzy-match <span class="kw">t</span>) <span class="co">;; optional fuzzy matching for helm-M-x</span>
  )</code></pre></div>
<h3>Helm configuration</h3>
<h4>Helm viewing options config</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> helm-split-window-in-side-p           <span class="kw">t</span> <span class="co">; open helm buffer inside current window, not occupy whole other window</span>
         helm-move-to-line-cycle-in-source     <span class="kw">t</span> <span class="co">; move to end or beginning of source when reaching top or bottom of source.</span>
        helm-scroll-amount                    <span class="dv">8</span> <span class="co">; scroll 8 lines other window using M-&lt;next&gt;/M-&lt;prior&gt;</span>
         helm-ff-file-name-history-use-recentf <span class="kw">t</span>
  )</code></pre></div>
<h4>helm mini</h4>
<p>enable fuzzy matching:</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> helm-buffers-fuzzy-matching <span class="kw">t</span>
        helm-recentf-fuzzy-match    <span class="kw">t</span>)</code></pre></div>
<h4>search org folders</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> helm-cmd-t
  :ensure <span class="kw">t</span>
  :config
  (<span class="kw">defvar</span><span class="fu"> my-org-folders </span>(<span class="kw">list</span>  <span class="st">&quot;~/org/files/&quot;</span>)
    <span class="st">&quot;my permanent folders for helm-mini&quot;</span>)

  (<span class="kw">defun</span><span class="fu"> helm-my-org </span>(&amp;optional arg)
    <span class="st">&quot;Use C-u arg to work with repos.&quot;</span>
    (interactive <span class="st">&quot;P&quot;</span>)
    (<span class="kw">if</span> (<span class="kw">consp</span> arg)
        (call-interactively &#39;helm-cmd-t-repos)
      (<span class="kw">let</span> ((helm-ff-transformer-show-only-basename <span class="kw">nil</span>))
        (helm :sources (<span class="kw">mapcar</span> (<span class="kw">lambda</span> (dir)
                   (helm-cmd-t-get-create-source-dir dir))
                 my-org-folders)
        :candidate-number-limit <span class="dv">20</span>
        :buffer <span class="st">&quot;*helm-my-org:*&quot;</span>
        <span class="kw">:input</span> <span class="st">&quot;org$ &quot;</span>))))
  )</code></pre></div>
<h4>google suggest</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">when</span> (executable-find <span class="st">&quot;curl&quot;</span>)
    (<span class="kw">setq</span> helm-google-suggest-use-curl-p <span class="kw">t</span>))</code></pre></div>
<h4>helm man-woman (man doc reader)</h4>
<p>enable at point</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;helm-sources-using-default-as-input &#39;helm-source-man-pages)</code></pre></div>
<h4>helm locate</h4>
<p>enable fuzzy</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> helm-locate-fuzzy-match <span class="kw">t</span>)           </code></pre></div>
<h4>helm occur</h4>
<p>no config needed</p>
<h2>helm bibtex</h2>
<p><a href="https://github.com/tmalsburg/helm-bibtex" class="uri">https://github.com/tmalsburg/helm-bibtex</a></p>
<h3>settings</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> helm-bibtex
   :ensure <span class="kw">t</span>
   :config

  (autoload &#39;helm-bibtex <span class="st">&quot;helm-bibtex&quot;</span> <span class="st">&quot;&quot;</span> <span class="kw">t</span>)

  (<span class="kw">setq</span> helm-bibtex-biblSSiography <span class="st">&quot;/home/zeltak/org/files/Uni/papers/kloog.2015.bib&quot;</span>)
  <span class="co">;(setq helm-bibtex-notes-path &quot;/home/zeltak/org/files/Uni/papers/notes/&quot;)</span>
  (<span class="kw">setq</span> helm-bibtex-library-path (<span class="kw">list</span> <span class="st">&quot;/home/zeltak/Sync/Uni/pdf_lib/&quot;</span> <span class="st">&quot;/home/zeltak/Sync/Uni/pdf_lib_gen/&quot;</span>) ) 
  (<span class="kw">setq</span> helm-bibtex-notes-extension <span class="st">&quot;.org&quot;</span>)

  (<span class="kw">setq</span> helm-bibtex-format-citation-functions
    &#39;((org-mode      . helm-bibtex-format-citation-org-link-to-PDF)
      (latex-mode    . helm-bibtex-format-citation-cite)
      (markdown-mode . helm-bibtex-format-citation-pandoc-citeproc)
      (default       . helm-bibtex-format-citation-default)))

  <span class="co">;(setq helm-bibtex-additional-search-fields &#39;(tags))</span>
  (<span class="kw">setq</span> helm-bibtex-additional-search-fields &#39;(pubstate tags))



  (<span class="kw">setq</span> helm-bibtex-browser-function
    (<span class="kw">lambda</span> (url _) (start-process <span class="st">&quot;chromium&quot;</span> <span class="st">&quot;*chromium*&quot;</span> <span class="st">&quot;chromium&quot;</span> url)))

  <span class="co">;(setq helm-bibtex-pdf-open-function</span>
  <span class="co">; (lambda (fpath)</span>
   <span class="co">;  (start-process &quot;evince&quot; &quot;*helm-bibtex-evince*&quot; &quot;/usr/bin/evince&quot; fpath)))</span>
   )</code></pre></div>
<h3>my papers</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  <span class="co">;; Define helm-search with predefined search expression:</span>
  (<span class="kw">defun</span><span class="fu"> helm-bibtex-ikloog-publications </span>()
    <span class="st">&quot;Search BibTeX entries authored by me&quot;</span>
    (interactive)
    (helm :sources &#39;(helm-source-bibtex)
    :full-frame <span class="kw">t</span>
    <span class="kw">:input</span> <span class="st">&quot;kloog !prep article&quot;</span>
    :candidate-number-limit <span class="dv">500</span>))

  <span class="co">;; Bind this search function to Ctrl-x p:</span>
  <span class="co">;(global-set-key (kbd &quot;C-x p&quot;) &#39;helm-bibtex-my-publications)</span></code></pre></div>
<h3>my papers (all)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  <span class="co">;; Define helm-search with predefined search expression:</span>
  (<span class="kw">defun</span><span class="fu"> helm-bibtex-ikloog-publications-all </span>()
    <span class="st">&quot;Search BibTeX entries authored by me (ALL including prep)&quot;</span>
    (interactive)
    (helm :sources &#39;(helm-source-bibtex)
    :full-frame <span class="kw">t</span>
    <span class="kw">:input</span> <span class="st">&quot;kloog&quot;</span>
    :candidate-number-limit <span class="dv">500</span>))

  <span class="co">;; Bind this search function to Ctrl-x p:</span>
  <span class="co">;(global-set-key (kbd &quot;C-x p&quot;) &#39;helm-bibtex-my-publications)</span></code></pre></div>
<h3>my prep make it match on pubstate</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  <span class="co">;; Define helm-search with predefined search expression:</span>
  (<span class="kw">defun</span><span class="fu"> helm-bibtex-ikloog-prep         </span>()
    <span class="st">&quot;Search BibTeX entries in preperation with me&quot;</span>
    (interactive)
    (helm :sources &#39;(helm-source-bibtex)
    :full-frame <span class="kw">t</span>
    <span class="kw">:input</span> <span class="st">&quot;kloog prep&quot;</span>
    :candidate-number-limit <span class="dv">500</span>))
</code></pre></div>
<h2>helm mu</h2>
<p><a href="https://github.com/emacs-helm/helm-mu" class="uri">https://github.com/emacs-helm/helm-mu</a></p>
<p>When you would like to read an email without finishing the helm session, you can select the email and press <code>Ctrl-z</code> To search for contacts use `helm-mu-contacts`</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> helm-mu
   :ensure <span class="kw">t</span>
   :config
    )</code></pre></div>
<h2>ebib</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> ebib
   :ensure <span class="kw">t</span>
   :config
  (<span class="kw">setq</span> ebib-preload-bib-files &#39;(<span class="st">&quot;/home/zeltak/org/files/Uni/papers/kloog.2015.bib&quot;</span>)) 

  (<span class="kw">setq</span> ebib-common-optional-fields
        &#39;(translator keywords origlanguage url file location
    partinfo subtitle edition abstract note annotator
    crossref urldate address subtitle language))

  (<span class="kw">setq</span> ebib-file-associations &#39;((<span class="st">&quot;pdf&quot;</span> . <span class="st">&quot;okular&quot;</span>) (<span class="st">&quot;djvu&quot;</span> . <span class="st">&quot;okular&quot;</span>)))
  (<span class="kw">setq</span> ebib-uniquify-keys <span class="kw">t</span>)
  (<span class="kw">setq</span> ebib-autogenerate-keys <span class="kw">t</span>)
  (<span class="kw">setq</span> ebib-index-window-size <span class="dv">20</span>)
  (<span class="kw">setq</span> ebib-print-multiline <span class="kw">t</span>)

  <span class="co">;index view</span>
  (<span class="kw">setq</span> ebib-index-display-fields (<span class="kw">quote</span> (year author)))
  (<span class="kw">setq</span> ebib-sort-order (<span class="kw">quote</span> ((year) (author) )))

   )</code></pre></div>
<h2>hydra</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> hydra
  :ensure <span class="kw">t</span> )</code></pre></div>
<h2>async</h2>
<p><span class="math inline">\(Note this is needed for org-download\)</span></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> async
  :ensure <span class="kw">t</span>)</code></pre></div>
<h2>EVIL</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> evil
  :ensure <span class="kw">t</span>
  :config
  )</code></pre></div>
<pre><code>  ;; (require &#39;evil)
  ;; (evil-mode 1)

  ;; ;for normal undo
  ;; (setq evil-want-fine-undo t)

  ;; ;;; esc quits
  ;; (define-key evil-normal-state-map [escape] &#39;keyboard-quit)
  ;; (define-key evil-visual-state-map [escape] &#39;keyboard-quit)
  ;; (define-key minibuffer-local-map [escape] &#39;minibuffer-keyboard-quit)
  ;; (define-key minibuffer-local-ns-map [escape] &#39;minibuffer-keyboard-quit)
  ;; (define-key minibuffer-local-completion-map [escape] &#39;minibuffer-keyboard-quit)
  ;; (define-key minibuffer-local-must-match-map [escape] &#39;minibuffer-keyboard-quit)
  ;; (define-key minibuffer-local-isearch-map [escape] &#39;minibuffer-keyboard-quit)

  ;; ;searches
  ;; (global-set-key (kbd &quot;C-*&quot;) &#39;evil-search-symbol-forward)
  ;; (global-set-key (kbd &quot;C-#&quot;) &#39;evil-search-symbol-backward)



</code></pre>
<h2>EVIL NERD Commenter</h2>
<p><a href="https://github.com/redguardtoo/evil-nerd-commenter" class="uri">https://github.com/redguardtoo/evil-nerd-commenter</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> evil-nerd-commenter
  :ensure <span class="kw">t</span>
  :config
  )
  <span class="co">;(evilnc-default-hotkeys)</span>
  <span class="co">;(setq evilnc-hotkey-comment-operator &quot;,,&quot;)</span></code></pre></div>
<h2>edit-server (for chrome interaction)</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (require &#39;edit-server)</span>
  <span class="co">;;  (edit-server-start)</span>
  <span class="co">;; (autoload &#39;edit-server-maybe-dehtmlize-buffer &quot;edit-server-htmlize&quot; &quot;edit-server-htmlize&quot; t)</span>
  <span class="co">;; (autoload &#39;edit-server-maybe-htmlize-buffer   &quot;edit-server-htmlize&quot; &quot;edit-server-htmlize&quot; t)</span>
  <span class="co">;; (add-hook &#39;edit-server-start-hook &#39;edit-server-maybe-dehtmlize-buffer)</span>
  <span class="co">;; (add-hook &#39;edit-server-done-hook  &#39;edit-server-maybe-htmlize-buffer)</span></code></pre></div>
<h2>yasnippet</h2>
<h3>load yasnippet</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> yasnippet
   :config 
  (yas-global-mode <span class="dv">1</span>)
  <span class="co">;; Use custom snippets.</span>
  <span class="co">;(setq yas-snippet-dirs &#39;(&quot;~/.emacs.d/snippets&quot;))</span>
  (yas-reload-all)
  (<span class="kw">setq</span> yas-snippet-dirs &#39;(<span class="st">&quot;~/.emacs.d/snippets/&quot;</span>))
  )</code></pre></div>
<h3>function helm</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> shk-yas/helm-prompt </span>(prompt choices &amp;optional display-fn)
    <span class="st">&quot;Use helm to select a snippet. Put this into `yas/prompt-functions.&#39;&quot;</span>
    (interactive)
    (<span class="kw">setq</span> display-fn (<span class="kw">or</span> display-fn &#39;identity))
    (<span class="kw">if</span> (<span class="kw">require</span> &#39;helm-config)
        (<span class="kw">let</span> (tmpsource cands result rmap)
    (<span class="kw">setq</span> cands (<span class="kw">mapcar</span> (<span class="kw">lambda</span> (x) (<span class="kw">funcall</span> display-fn x)) choices))
    (<span class="kw">setq</span> rmap (<span class="kw">mapcar</span> (<span class="kw">lambda</span> (x) (<span class="kw">cons</span> (<span class="kw">funcall</span> display-fn x) x)) choices))
    (<span class="kw">setq</span> tmpsource
          (<span class="kw">list</span>
           (<span class="kw">cons</span> &#39;name prompt)
           (<span class="kw">cons</span> &#39;candidates cands)
           &#39;(action . ((<span class="st">&quot;Expand&quot;</span> . (<span class="kw">lambda</span> (selection) selection))))
           ))
    (<span class="kw">setq</span> result (helm-other-buffer &#39;(tmpsource) <span class="st">&quot;*helm-select-yasnippet&quot;</span>))
    (<span class="kw">if</span> (<span class="kw">null</span> result)
        (<span class="kw">signal</span> &#39;quit <span class="st">&quot;user quit!&quot;</span>)
      (<span class="kw">cdr</span> (<span class="kw">assoc</span> result rmap))))
      <span class="kw">nil</span>))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (use-package yasnippet</span>
  <span class="co">;; :diminish yas-minor-mode</span>
  <span class="co">;; :commands yas-global-mode</span>
  <span class="co">;; :ensure t</span>
  <span class="co">;;   :bind (&quot;M-=&quot; . yas-insert-snippet)</span>
  <span class="co">;;   :config</span>
  <span class="co">;;   (progn</span>
  <span class="co">;;     (defun my-yas/prompt (prompt choices &amp;optional display-fn)</span>
  <span class="co">;;       (let* ((names (loop for choice in choices</span>
  <span class="co">;;                           collect (or (and display-fn</span>
  <span class="co">;;                                            (funcall display-fn choice))</span>
  <span class="co">;;                                       choice)))</span>
  <span class="co">;;              (selected (helm-other-buffer</span>
  <span class="co">;;                         `(((name . ,(format &quot;%s&quot; prompt))</span>
  <span class="co">;;                            (candidates . names)</span>
  <span class="co">;;                            (action . ((&quot;Insert snippet&quot; . (lambda (arg)</span>
  <span class="co">;;                                                             arg))))))</span>
  <span class="co">;;                         &quot;*helm yas/prompt*&quot;)))</span>
  <span class="co">;;         (if selected</span>
  <span class="co">;;             (let ((n (position selected names :test &#39;equal)))</span>
  <span class="co">;;               (nth n choices))</span>
  <span class="co">;;           (signal &#39;quit &quot;user quit!&quot;))))</span>
  <span class="co">;;     (custom-set-variables &#39;(yas/prompt-functions &#39;(my-yas/prompt))))))</span></code></pre></div>
<h2>Highlight symbol</h2>
<p><a href="https://github.com/nschum/highlight-symbol.el" class="uri">https://github.com/nschum/highlight-symbol.el</a></p>
<p>highlight word at point and move forward next to other words</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> highlight-symbol
   :ensure <span class="kw">t</span>
   :config

   )</code></pre></div>
<h2>org-downlaod<span class="tag" data-tag-name="ATTACH"></span></h2>
<p>provides function to drag images from browser and link address <span class="math inline">\(Note\)</span> this requires package async to be installed, @async must be loaded before this package@</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> org-download 
   :ensure <span class="kw">t</span>
   :config
   (setq-default org-download-heading-lvl <span class="kw">nil</span>)
   (setq-default org-download-image-dir <span class="st">&quot;/home/zeltak/org/attach/images_2015&quot;</span>)
  )</code></pre></div>
<h3>old configs</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (setq org-download-method &#39;attach</span>
  <span class="co">;;        org-download-screenshot-method &quot;scrot -s %s&quot;</span>
  <span class="co">;;        org-download-backend (if (executable-find &quot;curl&quot;) &quot;curl \&quot;%s\&quot; -o \&quot;%s\&quot;&quot; t)))</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">; (load-file &quot;~/.emacs.g/extra/org-download/org-download.el&quot;)</span>
  <span class="co">; (setq-default org-download-heading-lvl nil)</span>
  <span class="co">; (setq-default org-download-image-dir &quot;/home/zeltak/org/attach/images_2015&quot;)</span></code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(if (string= system-name &quot;voices&quot;) (setq-default org-download-image-dir &quot;/home/zeltak/org/attach/images_2014/&quot;) (setq-default org-download-image-dir &quot;/media/NAS/Uni/org/attach/images_2013/&quot;))                                                           </span></code></pre></div>
<h2>org-dp (wrap code blocks functions)</h2>
<p><a href="https://github.com/tj64/org-dp" class="uri">https://github.com/tj64/org-dp</a></p>
<h3>load</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;load-path <span class="st">&quot;/home/zeltak/.emacs.g/extra/org-dp/&quot;</span>)
  (<span class="kw">require</span> &#39;org-dp-lib)</code></pre></div>
<h3>TODO my wrap functions</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">when</span> (<span class="kw">require</span> &#39;org-dp-lib <span class="kw">nil</span> <span class="kw">t</span>)

  <span class="co">;;;;;;;;;; wrap in elisp</span>
    (<span class="kw">defun</span><span class="fu"> z/wrap-elisp </span>()
    (org-dp-wrap-in-block
     <span class="kw">nil</span> &#39;(src-block <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> (:language <span class="st">&quot;emacs-lisp&quot;</span> :preserve-indent <span class="dv">1</span>  :parameters <span class="st">&quot;:results none&quot;</span> ))))

  <span class="co">;for hydra create interactive new functions</span>
  (<span class="kw">defun</span><span class="fu"> z/hydra-wrap-elisp </span>() (interactive) (beginning-of-line) (z/wrap-elisp))

  <span class="co">;;;;;;;;;; wrap in bash</span>
    (<span class="kw">defun</span><span class="fu"> z/wrap-bash </span>()
    (org-dp-wrap-in-block
     <span class="kw">nil</span> &#39;(src-block <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> (:language <span class="st">&quot;sh&quot;</span> :preserve-indent <span class="dv">1</span>  :parameters <span class="st">&quot;:results none&quot;</span> ))))

  <span class="co">;for hydra create interactive new functions</span>
  (<span class="kw">defun</span><span class="fu"> z/hydra-wrap-bash </span>() (interactive) (beginning-of-line) (z/wrap-bash))


  <span class="co">;;;;;;;;;; wrap in bash</span>
    (<span class="kw">defun</span><span class="fu"> z/wrap-example </span>()
    (org-dp-wrap-in-block
     <span class="kw">nil</span> &#39;(src-block <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> (:language <span class="st">&quot;example&quot;</span> :preserve-indent <span class="dv">1</span>  :parameters <span class="st">&quot;:results none&quot;</span> ))))

  <span class="co">;for hydra create interactive new functions</span>
  (<span class="kw">defun</span><span class="fu"> z/hydra-wrap-example </span>() (interactive) (beginning-of-line) (z/wrap-example))



  <span class="co">;;;;;;;;;; wrap in R</span>
    (<span class="kw">defun</span><span class="fu"> z/wrap-R </span>()
    (org-dp-wrap-in-block
     <span class="kw">nil</span> &#39;(src-block <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> (:language <span class="st">&quot;R&quot;</span> :preserve-indent <span class="dv">1</span>  :parameters <span class="st">&quot;:results none&quot;</span> ))))

  <span class="co">;for hydra create interactive new functions</span>
  (<span class="kw">defun</span><span class="fu"> z/hydra-wrap-R </span>() (interactive) (beginning-of-line) (z/wrap-R))

  <span class="co">;;;;;;;;;; wrap in latex</span>
    (<span class="kw">defun</span><span class="fu"> z/wrap-latex </span>()
    (org-dp-wrap-in-block
     <span class="kw">nil</span> &#39;(src-block <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> (:language <span class="st">&quot;latex&quot;</span> :preserve-indent <span class="dv">1</span>  :parameters <span class="st">&quot;:results none&quot;</span> ))))

  <span class="co">;for hydra create interactive new functions</span>
  (<span class="kw">defun</span><span class="fu"> z/hydra-wrap-latex </span>() (interactive) (beginning-of-line) (z/wrap-latex))


  <span class="co">;end paren</span>
       )</code></pre></div>
<h2>Yasnippets</h2>
<h3>base</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> yasnippet
  :ensure <span class="kw">t</span>
  :config
  (<span class="kw">require</span> &#39;yasnippet)
  <span class="co">;for orgmode properties fix </span>
  (<span class="kw">setq</span> yas-indent-line &#39;fixed)
  <span class="co">;set insert at point prompt type- here ido</span>
  (<span class="kw">setq</span> yas/prompt-functions &#39;(yas/ido-prompt
                 yas/completing-prompt))
  )</code></pre></div>
<pre><code>  ;; (require &#39;yasnippet)

  ;; (setq yas-snippet-dirs
  ;;       &#39;(&quot;~/.emacs.d/snippets&quot;                 ;; personal snippets
  ;;         &quot;&quot;           ;; foo-mode and bar-mode snippet collection
  ;;         &quot;&quot; ;; the yasmate collection
  ;;         &quot;&quot;         ;; the default collection
  ;;         ))

  ;; (yas-global-mode 1)

</code></pre>
<h3>popup menu for inserting</h3>
<p>this requires you to isntall 'popup' from MELPA beforehand</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; ;;; use popup menu for yas-choose-value</span>
  <span class="co">;; (require &#39;popup)</span>

  <span class="co">;; ;; add some shotcuts in popup menu mode</span>
  <span class="co">;; (define-key popup-menu-keymap (kbd &quot;M-n&quot;) &#39;popup-next)</span>
  <span class="co">;; (define-key popup-menu-keymap (kbd &quot;TAB&quot;) &#39;popup-next)</span>
  <span class="co">;; (define-key popup-menu-keymap (kbd &quot;&lt;tab&gt;&quot;) &#39;popup-next)</span>
  <span class="co">;; (define-key popup-menu-keymap (kbd &quot;&lt;backtab&gt;&quot;) &#39;popup-previous)</span>
  <span class="co">;; (define-key popup-menu-keymap (kbd &quot;M-p&quot;) &#39;popup-previous)</span>

  <span class="co">;; (defun yas-popup-isearch-prompt (prompt choices &amp;optional display-fn)</span>
  <span class="co">;;   (when (featurep &#39;popup)</span>
  <span class="co">;;     (popup-menu*</span>
  <span class="co">;;      (mapcar</span>
  <span class="co">;;       (lambda (choice)</span>
  <span class="co">;;         (popup-make-item</span>
  <span class="co">;;          (or (and display-fn (funcall display-fn choice))</span>
  <span class="co">;;              choice)</span>
  <span class="co">;;          :value choice))</span>
  <span class="co">;;       choices)</span>
  <span class="co">;;      :prompt prompt</span>
  <span class="co">;;      ;; start isearch mode immediately</span>
  <span class="co">;;      :isearch t</span>
  <span class="co">;;      )))</span>

  <span class="co">;; (setq yas-prompt-functions &#39;(yas-popup-isearch-prompt yas-ido-prompt yas-no-prompt))</span></code></pre></div>
<h2>ispell</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> ispell-personal-dictionary <span class="st">&quot;~/.emacs.d/ispell-dico-personal&quot;</span>)</code></pre></div>
<h2>Browse kill ring</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> browse-kill-ring
  :ensure <span class="kw">t</span>
  :config
  )</code></pre></div>
<h2>!ido!</h2>
<p><span class="math inline">\(note its built into emacs no intsall needed\)</span></p>
<p>'flx-ido'- install it before ido through MELPA</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (ido-mode 1)</span>
  <span class="co">;; (require &#39;flx-ido)</span>
  <span class="co">;; (ido-everywhere 1)</span>
  <span class="co">;; (flx-ido-mode 1)</span>
  <span class="co">;; ;; disable ido faces to see flx highlights.</span>
  <span class="co">;; (setq ido-use-faces nil)</span>


  <span class="co">;; (setq ido-max-directory-size 100000)</span>
  <span class="co">;; (ido-mode (quote both))</span>
  <span class="co">;; ; Use the current window when visiting files and buffers with ido</span>
  <span class="co">;; (setq ido-default-file-method &#39;selected-window)</span>
  <span class="co">;; (setq ido-default-buffer-method &#39;selected-window)</span>



  <span class="co">;; ;ignore case</span>
  <span class="co">;; (setq ido-case-fold t)</span>
  <span class="co">;; (setq ido-enable-flex-matching t) ; fuzzy matching is a must have</span>

  <span class="co">;; ;ido-ubiquitous</span>

  <span class="co">;; ;recents ido</span>
  <span class="co">;; (defun recentf-ido-find-file ()</span>
  <span class="co">;;   &quot;Find a recent file using ido.&quot;</span>
  <span class="co">;;   (interactive)</span>
  <span class="co">;;   (let ((file (ido-completing-read &quot;Choose recent file: &quot; recentf-list nil t)))</span>
  <span class="co">;;     (when file</span>
  <span class="co">;;      (find-file file))))</span>


  <span class="co">;; ;this keybinding lets you even more quickly reach your home folder when in ido-find-file.</span>

  <span class="co">;; (add-hook &#39;ido-setup-hook</span>
  <span class="co">;;  (lambda ()</span>
  <span class="co">;;    ;; Go straight home</span>
  <span class="co">;;    (define-key ido-file-completion-map</span>
  <span class="co">;;      (kbd &quot;~&quot;)</span>
  <span class="co">;;      (lambda ()</span>
  <span class="co">;;        (interactive)</span>
  <span class="co">;;        (if (looking-back &quot;/&quot;)</span>
  <span class="co">;;            (insert &quot;~/&quot;)</span>
  <span class="co">;;          (call-interactively &#39;self-insert-command))))))</span></code></pre></div>
<h2>smex</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> smex
  :ensure <span class="kw">t</span>
  :config
  )</code></pre></div>
<h2>Bookmark+</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> bookmark+
  :ensure <span class="kw">t</span>
  :config
  (<span class="kw">setq</span> bookmark-version-control <span class="kw">t</span>
        bookmark-save-flag <span class="kw">t</span>)
  <span class="co">;ask for tags when saving a bookmark move nil to t to ask each time</span>
  (<span class="kw">setq</span> bmkp-prompt-for-tags-flag <span class="kw">nil</span>)
  )
</code></pre></div>
<h2>Undo tree</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> undo-tree 
  :ensure <span class="kw">t</span>
  :config
  (global-undo-tree-mode <span class="dv">1</span>)
  (<span class="kw">setq</span> undo-tree-auto-save-history <span class="kw">t</span>)
  (<span class="kw">setq</span> undo-tree-history-directory-alist &#39;((<span class="st">&quot;.*&quot;</span> . <span class="st">&quot;~/.emacs.t/undo-files&quot;</span>)))
  (<span class="kw">setq</span> undo-tree-mode-lighter <span class="st">&quot;&quot;</span>)         
  )</code></pre></div>
<h2>!hippie expand!</h2>
<p><span class="math inline">\(note its built into emacs no intsall needed\)</span></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (setq dcsh-command-list &#39;(&quot;all_registers&quot;</span>
  <span class="co">;;                               &quot;check_design&quot; &quot;check_test&quot; &quot;compile&quot; &quot;current_design&quot;</span>
  <span class="co">;;                               &quot;link&quot; &quot;uniquify&quot;</span>
  <span class="co">;;                               &quot;report_timing&quot; &quot;report_clocks&quot; &quot;report_constraint&quot;</span>
  <span class="co">;;                               &quot;get_unix_variable&quot; &quot;set_unix_variable&quot;</span>
  <span class="co">;;                               &quot;set_max_fanout&quot;</span>
  <span class="co">;;                               &quot;report_area&quot; &quot;all_clocks&quot; &quot;all_inputs&quot; &quot;all_outputs&quot;))</span>

  <span class="co">;;     (defun he-dcsh-command-beg ()</span>
  <span class="co">;;       (let ((p))</span>
  <span class="co">;;         (save-excursion</span>
  <span class="co">;;           (backward-word 1)</span>
  <span class="co">;;           (setq p (point)))</span>
  <span class="co">;;         p))</span>

  <span class="co">;;     (defun try-expand-dcsh-command (old)</span>
  <span class="co">;;       (unless old</span>
  <span class="co">;;         (he-init-string (he-dcsh-command-beg) (point))</span>
  <span class="co">;;         (setq he-expand-list (sort</span>
  <span class="co">;;                               (all-completions he-search-string (mapcar &#39;list dcsh-command-list))</span>
  <span class="co">;;                               &#39;string-lessp)))</span>
  <span class="co">;;       (while (and he-expand-list</span>
  <span class="co">;;               (he-string-member (car he-expand-list) he-tried-table))</span>
  <span class="co">;;         (setq he-expand-list (cdr he-expand-list)))</span>
  <span class="co">;;       (if (null he-expand-list)</span>
  <span class="co">;;           (progn</span>
  <span class="co">;;             (when old (he-reset-string))</span>
  <span class="co">;;             ())</span>
  <span class="co">;;         (he-substitute-string (car he-expand-list))</span>
  <span class="co">;;         (setq he-tried-table (cons (car he-expand-list) (cdr he-tried-table)))</span>
  <span class="co">;;         (setq he-expand-list (cdr he-expand-list))</span>
  <span class="co">;;         t))</span>

  <span class="co">;; (setq hippie-expand-try-functions-list (cons &#39;yas/hippie-try-expand hippie-expand-try-functions-list))</span>

  <span class="co">;; (defun my-hippie-expand-completions (&amp;optional hippie-expand-function)</span>
  <span class="co">;;       &quot;Return the full list of possible completions generated by `hippie-expand&#39;.</span>
  <span class="co">;;     The optional argument can be generated with `make-hippie-expand-function&#39;.&quot;</span>
  <span class="co">;;       (let ((this-command &#39;my-hippie-expand-completions)</span>
  <span class="co">;;             (last-command last-command)</span>
  <span class="co">;;             (buffer-modified (buffer-modified-p))</span>
  <span class="co">;;             (hippie-expand-function (or hippie-expand-function &#39;hippie-expand)))</span>
  <span class="co">;;         (flet ((ding)) ; avoid the (ding) when hippie-expand exhausts its options.</span>
  <span class="co">;;           (while (progn</span>
  <span class="co">;;                    (funcall hippie-expand-function nil)</span>
  <span class="co">;;                    (setq last-command &#39;my-hippie-expand-completions)</span>
  <span class="co">;;                    (not (equal he-num -1)))))</span>
  <span class="co">;;         ;; Evaluating the completions modifies the buffer, however we will finish</span>
  <span class="co">;;         ;; up in the same state that we began, and (save-current-buffer) seems a</span>
  <span class="co">;;         ;; bit heavyweight in the circumstances.</span>
  <span class="co">;;         (set-buffer-modified-p buffer-modified)</span>
  <span class="co">;;         ;; Provide the options in the order in which they are normally generated.</span>
  <span class="co">;;         (delete he-search-string (reverse he-tried-table))))</span>

  <span class="co">;;     (defmacro my-ido-hippie-expand-with (hippie-expand-function)</span>
  <span class="co">;;       &quot;Generate an interactively-callable function that offers ido-based completion</span>
  <span class="co">;;     using the specified hippie-expand function.&quot;</span>
  <span class="co">;;       `(call-interactively</span>
  <span class="co">;;         (lambda (&amp;optional selection)</span>
  <span class="co">;;           (interactive</span>
  <span class="co">;;            (let ((options (my-hippie-expand-completions ,hippie-expand-function)))</span>
  <span class="co">;;              (if options</span>
  <span class="co">;;                  (list (ido-completing-read &quot;Completions: &quot; options)))))</span>
  <span class="co">;;           (if selection</span>
  <span class="co">;;               (he-substitute-string selection t)</span>
  <span class="co">;;             (message &quot;No expansion found&quot;)))))</span>

  <span class="co">;;     (defun my-ido-hippie-expand ()</span>
  <span class="co">;;       &quot;Offer ido-based completion for the word at point.&quot;</span>
  <span class="co">;;       (interactive)</span>
  <span class="co">;;       (my-ido-hippie-expand-with &#39;hippie-expand))</span>

  <span class="co">;; (global-set-key (kbd &quot;&lt;f12&gt;&quot;) &#39;my-ido-hippie-expand)</span>
  <span class="co">;; (global-set-key [(meta f5)] (make-hippie-expand-function</span>
  <span class="co">;;                                &#39;(try-expand-dcsh-command</span>
  <span class="co">;;                                  try-expand-dabbrev-visible</span>
  <span class="co">;;                                  try-expand-dabbrev</span>
  <span class="co">;;                                  try-expand-dabbrev-all-buffers) t))</span>
  <span class="co">;; (global-set-key (kbd &quot;M-/&quot;) &#39;hippie-expand)</span>
  <span class="co">;; (global-set-key (kbd &quot;TAB&quot;) &#39;hippie-expand)</span>
</code></pre></div>
<h2>open with</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> openwith 
  :ensure <span class="kw">t</span>
  :config
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.pdf</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;okular&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.mkv</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;mplayer&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.html</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;chromium&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.html</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;eww&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.mp4</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;vlc&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.ogm</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;vlc&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.avi</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;vlc&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.mpeg</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;vlc&quot;</span> (file))))
  (<span class="kw">setq</span> openwith-associations &#39;((<span class="st">&quot;</span>\\<span class="st">.mkv</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;vlc&quot;</span> (file))))
  (openwith-mode <span class="kw">t</span>)
  )</code></pre></div>
<h2>expand region</h2>
<p><a href="https://github.com/magnars/expand-region.el" class="uri">https://github.com/magnars/expand-region.el</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> expand-region
   :ensure <span class="kw">t</span>
   :config
   :bind (
         (<span class="st">&quot;M-2&quot;</span> . er/expand-region )
   )
  )
</code></pre></div>
<p>:bind ((&quot;M-o l&quot; . highlight-lines-matching-regexp) (&quot;M-o r&quot; . highlight-regexp) (&quot;M-o w&quot; . highlight-phrase)))</p>
<h2>Ace jump</h2>
<h3>evil mode specifics</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">    <span class="co">;; some proposals for binding:</span>

  <span class="co">;  (define-key evil-motion-state-map (kbd &quot;SPC&quot;) #&#39;evil-ace-jump-char-mode)</span>
  <span class="co">;  (define-key evil-motion-state-map (kbd &quot;C-SPC&quot;) #&#39;evil-ace-jump-word-mode)</span>
  <span class="co">;  (define-key evil-motion-state-map (kbd &quot;M-SPC&quot;) #&#39;evil-ace-jump-line-mode)</span>

    <span class="co">;; (define-key evil-operator-state-map (kbd &quot;SPC&quot;) #&#39;evil-ace-jump-char-mode)      ; similar to f</span>
    <span class="co">;; (define-key evil-operator-state-map (kbd &quot;C-SPC&quot;) #&#39;evil-ace-jump-char-to-mode) ; similar to t</span>
    <span class="co">;; (define-key evil-operator-state-map (kbd &quot;M-SPC&quot;) #&#39;evil-ace-jump-word-mode)</span>
</code></pre></div>
<h2>Ace window</h2>
<h3>use package</h3>
<p>sets to only use homekeys</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> ace-window
      :config
  <span class="co">;set keys to only these </span>
      (<span class="kw">setq</span> aw-keys &#39;(?a ?s ?d ?f ?g ?h ?j ?k ?l))
      (<span class="kw">setq</span> aw-background <span class="kw">nil</span>))</code></pre></div>
<h3>change font and size</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (custom-set-faces
   &#39;(aw-leading-char-face
     ((<span class="kw">t</span> (:inherit ace-jump-face-foreground :height <span class="fl">3.0</span>)))))</code></pre></div>
<h2>Avy</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defcustom avy-keys &#39;(?a ?s ?d ?f ?g ?h ?j ?k ?l)
    <span class="st">&quot;Keys for jumping.&quot;</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key (kbd <span class="st">&quot;C-;&quot;</span>) &#39;avi-goto-char<span class="dv">-2</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> avi-background <span class="kw">t</span>)</code></pre></div>
<h2>Ace-isearch</h2>
<p><a href="https://github.com/tam17aki/ace-isearch" class="uri">https://github.com/tam17aki/ace-isearch</a></p>
<h3>start ace-isearch</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;use-package ace-isearch</span>
  <span class="co">;:ensure t</span>
  <span class="co">;:config</span>
  <span class="co">;(ace-isearch-mode +1)</span>
  <span class="co">;(global-ace-isearch-mode +1)</span>
  <span class="co">;)</span></code></pre></div>
<h3>customize</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(custom-set-variables</span>
  <span class="co">; &#39;(ace-isearch-input-length 7)</span>
  <span class="co">; &#39;(ace-isearch-input-idle-delay 0.4)</span>
  <span class="co">; &#39;(ace-isearch-submode &#39;ace-jump-char-mode)</span>
  <span class="co">; &#39;(ace-isearch-use-ace-jump &#39;printing-char))</span>

  <span class="co">;(ace-isearch-set-ace-jump-after-isearch-exit t)</span></code></pre></div>
<h2>ace zap</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> ace-jump-zap
    :ensure ace-jump-zap
  )</code></pre></div>
<h2>auctex</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(require &#39;tex)</span>
  <span class="co">;(setq preview-scale-function 1.1)</span></code></pre></div>
<h2>lentic mode</h2>
<p><a href="https://github.com/phillord/lentic" class="uri">https://github.com/phillord/lentic</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> lentic
   :ensure <span class="kw">t</span>
   :config
   )</code></pre></div>
<h2>manage-minor-mode</h2>
<p><a href="https://github.com/ShingoFukuyama/manage-minor-mode" class="uri">https://github.com/ShingoFukuyama/manage-minor-mode</a></p>
<p>Set minor-modes status for each major-mode in advance</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> manage-minor-mode-default
        &#39;((global
     (on   rainbow-mode)
     (off  line-number-mode))
    (emacs-lisp-mode
     (on   rainbow-delimiters-mode eldoc-mode show-paren-mode))
    (js2-mode
     (on   color-identifiers-mode)
     (off  flycheck-mode))))</code></pre></div>
<h2>Rainbow mode</h2>
<p><a href="http://julien.danjou.info/projects/emacs-packages#rainbow-mode" class="uri">http://julien.danjou.info/projects/emacs-packages#rainbow-mode</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> rainbow-mode
  :ensure <span class="kw">t</span>
  :config
  )

  (<span class="kw">dolist</span> (hook &#39;(css-mode-hook
        html-mode-hook
        js-mode-hook
        emacs-lisp-mode-hook
        org-mode-hook
        text-mode-hook
        ))
    (add-hook hook &#39;rainbow-mode))</code></pre></div>
<h2>google contacts</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> google-contacts
  :ensure <span class="kw">t</span>
  :config
  )</code></pre></div>
<h2>TODO magit</h2>
<p><a href="https://github.com/magit/magit/blob/master/README.md#its-magit--an-emacs-mode-for-git" class="uri">https://github.com/magit/magit/blob/master/README.md#its-magit--an-emacs-mode-for-git</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
</code></pre></div>
<h2>unfill</h2>
<p><a href="https://github.com/purcell/unfill" class="uri">https://github.com/purcell/unfill</a></p>
<p>makes or unmakes a marked section wider/shorter (look fill command)</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> unfill
  :ensure <span class="kw">t</span>
  :config
  )</code></pre></div>
<h2>indent guide</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> indent-guide
  :ensure <span class="kw">t</span>
  :config
  )

</code></pre></div>
<h2>Fill colum mode</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> fill-column-indicator
  :ensure <span class="kw">t</span>
  :config
  )</code></pre></div>
<h2>drag stuff</h2>
<p><a href="https://github.com/rejeep/drag-stuff.el" class="uri">https://github.com/rejeep/drag-stuff.el</a></p>
<p>allows to drag text around via keyboard</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> drag-stuff
   :ensure <span class="kw">t</span>
   :config
    )</code></pre></div>
<h2>bug hunter</h2>
<p><a href="https://github.com/Malabarba/elisp-bug-hunter" class="uri">https://github.com/Malabarba/elisp-bug-hunter</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> bug-hunter
   :ensure <span class="kw">t</span>
   :config
    )</code></pre></div>
<h2>mic-parens</h2>
<p>better parens match than bulit in Emacs one</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> mic-paren
   :ensure <span class="kw">t</span>
   :config
    )</code></pre></div>
<h2>mu4e-maildirs-extension</h2>
<p><a href="https://github.com/agpchil/mu4e-maildirs-extension" class="uri">https://github.com/agpchil/mu4e-maildirs-extension</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(use-package mu4e-maildirs-extension</span>
  <span class="co">; :ensure t</span>
  <span class="co">; :config</span>
  <span class="co">;(setq mu4e-maildirs-extension-title &quot;Mail&quot;)</span>
  <span class="co">;(setq mu4e-maildirs-extension-custom-list (quote (&quot;INBOX&quot; &quot;Starred&quot;  )))</span>
  <span class="co">; )</span></code></pre></div>
<h2>swiper</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> swiper 
   :ensure <span class="kw">t</span>
   :config
   )</code></pre></div>
<h2>engine-mode</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> engine-mode
   :ensure <span class="kw">t</span>
   :config 
   )</code></pre></div>
<h2>color-theme-approximate</h2>
<p>If it doesn't work try to put the line lower in the .emacs file (it happened to me). If everything still look like shit check that you have the correct XTERM environment variable set <span class="math inline">\(Note- is different inside screen or tmux\)</span></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> color-theme-approximate
   :ensure <span class="kw">t</span>
   :config
  (color-theme-approximate-on)
   )</code></pre></div>
<h2>peep dired</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> peep-dired
   :ensure <span class="kw">t</span>
   :config
   (<span class="kw">setq</span> peep-dired-ignored-extensions &#39;(<span class="st">&quot;mkv&quot;</span> <span class="st">&quot;iso&quot;</span> <span class="st">&quot;mp4&quot;</span>))
   )</code></pre></div>
<h2>dired plugins</h2>
<h3>dired-x</h3>
<p><span class="math inline">\(Note-no need to install its a internal dired package\)</span></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;dired-x)</code></pre></div>
<h3>dired sort</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired-sort
   :ensure <span class="kw">t</span>
   :config
    )</code></pre></div>
<h3>dired+</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired+
   :ensure <span class="kw">t</span>
   :config
  (toggle-diredp-find-file-reuse-dir <span class="dv">1</span>)
    )</code></pre></div>
<h3>dired-details</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired-details
   :ensure <span class="kw">t</span>
   :config
  (<span class="kw">setq</span> dired-details-hide-link-targets <span class="kw">nil</span>)
   )</code></pre></div>
<h3>dired-details+</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired-details+
   :ensure <span class="kw">t</span>
   :config
   )</code></pre></div>
<h3>dired-avfs</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired-avfs
   :ensure <span class="kw">t</span>
   :config
   )</code></pre></div>
<h3>TODO dired-filter</h3>
<p><a href="https://github.com/Fuco1/dired-hacks" class="uri">https://github.com/Fuco1/dired-hacks</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired-filter
   :ensure <span class="kw">t</span>
   :config
   )</code></pre></div>
<h3>TODO dired-narrow</h3>
<p><a href="https://github.com/Fuco1/dired-hacks" class="uri">https://github.com/Fuco1/dired-hacks</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired-narrow
   :ensure <span class="kw">t</span>
   :config
   )</code></pre></div>
<h3>dired-efap (rename file at point)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> dired-efap
   :ensure <span class="kw">t</span>
   :config

   )</code></pre></div>
<h2>password-store</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;load-path <span class="st">&quot;/home/zeltak/.emacs.g/password-store/&quot;</span>)
  (<span class="kw">require</span> &#39;password-store)</code></pre></div>
<h2>transmission</h2>
<p>need to install let-alist and seq packages from melpa</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;load-path <span class="st">&quot;/home/zeltak/.emacs.g/transmission/&quot;</span>)
  (<span class="kw">require</span> &#39;transmission)
  (<span class="kw">setq</span> transmission-host <span class="st">&quot;10.0.0.2&quot;</span>)
  (<span class="kw">setq</span> transmission-rpc-path <span class="st">&quot;/transmission/web/&quot;</span>)
  (<span class="kw">setq</span> transmission-rpc-auth &#39;(:username <span class="st">&quot;zeltak&quot;</span> :password <span class="st">&quot;salar&quot;</span> ) )</code></pre></div>
<h2>golden ratio</h2>
<p><a href="https://github.com/roman/golden-ratio.el" class="uri">https://github.com/roman/golden-ratio.el</a></p>
<p>allows to dynamically resize the non currently edited pane</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> golden-ratio
   :ensure <span class="kw">t</span>
   :config
   (<span class="kw">require</span> &#39;golden-ratio)
   (golden-ratio-mode <span class="dv">1</span>)
   )</code></pre></div>
<h2>winner-mode</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (winner-mode <span class="dv">1</span>)</code></pre></div>
<h2>org-gcal</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> org-gcal 
   :ensure <span class="kw">t</span>
   :config
  (<span class="kw">require</span> &#39;org-gcal)
  (<span class="kw">setq</span> org-gcal-client-id <span class="st">&quot;915933520493-ppckdh9b038tb5u039c0b8s06bdkio98.apps.googleusercontent.com&quot;</span>
        org-gcal-client-secret <span class="st">&quot;1hy--1nQE-xUjVyR8MLYt5W&quot;</span>
        org-gcal-file-alist &#39;(
  (<span class="st">&quot;ikloog@gmail.com&quot;</span> .  <span class="st">&quot;~/org/files/agenda/gcal.org&quot;</span>)

  ))
  <span class="co">;for closing use package</span>
  )</code></pre></div>
<h2>xah-find</h2>
<p><a href="http://ergoemacs.org/emacs/elisp-xah-find-text.html" class="uri">http://ergoemacs.org/emacs/elisp-xah-find-text.html</a> This is the home page for “xah-find.el”.</p>
<p>This package provides emacs commands for find/replace in a directory, like {grep, rgrep, lgrep, unix sed}, but written entirely in emacs lisp.</p>
<p>This package provides these commands:</p>
<p>xah-find-text xah-find-text-regex xah-find-count xah-find-replace-text xah-find-replace-text-regex</p>
<p>Press Enter ↵ on a link to jump to the file location. (or mouse click) Press 【Tab ↹】 to jump to next occurence. (【⇧ Shift+Tab ↹】 for previous) Press 【Alt+p】 or 【Alt+n】 to move cursor to previous/next file name.</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> xah-find
   :ensure <span class="kw">t</span>
   :config
    )</code></pre></div>
<h2>org ref</h2>
<h3>load</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;load-path <span class="st">&quot;/home/zeltak/.emacs.g/org-ref/&quot;</span>)
  <span class="co">;; make sure you have dash, helm, helm-bibtex, ebib, s, f, hydra and key-chord</span>
  <span class="co">;; in your load-path</span>
  (<span class="kw">require</span> &#39;org-ref)
  <span class="co">;; optional but very useful libraries in org-ref</span>
  (<span class="kw">require</span> &#39;doi-utils)
  (<span class="kw">require</span> &#39;jmax-bibtex)
  (<span class="kw">require</span> &#39;pubmed)
  (<span class="kw">require</span> &#39;arxiv)
  (<span class="kw">require</span> &#39;sci-id)</code></pre></div>
<h3>config</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(org-babel-load-file &quot;/home/zeltak/.emacs.g/extra/org-ref/org-ref.org&quot;)</span>
  (<span class="kw">setq</span> reftex-default-bibliography &#39;(<span class="st">&quot;/home/zeltak/org/files/Uni/papers/kloog.2015.bib&quot;</span>))

  <span class="co">;; see org-ref for use of these variables</span>
  (<span class="kw">setq</span> org-ref-bibliography-notes <span class="st">&quot;/home/zeltak/org/files/Uni/papers/notes/&quot;</span>
        org-ref-default-bibliography &#39;(<span class="st">&quot;/home/zeltak/org/files/Uni/papers/kloog.2015.bib&quot;</span>)
        org-ref-pdf-directory <span class="st">&quot;/home/zeltak/Sync/Uni/pdf_lib/&quot;</span>)

  (<span class="kw">setq</span> bibtex-autokey-year-length <span class="dv">4</span>
        bibtex-autokey-name-year-separator <span class="st">&quot;-&quot;</span>
        bibtex-autokey-year-title-separator <span class="st">&quot;-&quot;</span>
        bibtex-autokey-titleword-separator <span class="st">&quot;-&quot;</span>
        bibtex-autokey-titlewords <span class="dv">2</span>
        bibtex-autokey-titlewords-stretch <span class="dv">1</span>
        bibtex-autokey-titleword-length <span class="dv">5</span>)</code></pre></div>
<h2>pdf tools</h2>
<p><a href="https://github.com/politza/pdf-tools" class="uri">https://github.com/politza/pdf-tools</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> pdf-tools
   :ensure <span class="kw">t</span>
   :config
    )</code></pre></div>
<h2>scratch</h2>
<p>Instant scratch buffer for current mode</p>
<p><a href="http://pragmaticemacs.com/emacs/instant-scratch-buffer-for-current-mode/" class="uri">http://pragmaticemacs.com/emacs/instant-scratch-buffer-for-current-mode/</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> scratch
   :ensure <span class="kw">t</span>
   :config
   (autoload &#39;scratch <span class="st">&quot;scratch&quot;</span> <span class="kw">nil</span> <span class="kw">t</span>)
   )</code></pre></div>
<h2>org-pandoc</h2>
<p><a href="https://github.com/kawabata/ox-pandoc" class="uri">https://github.com/kawabata/ox-pandoc</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">use-package</span> org-pandoc
   :ensure <span class="kw">t</span>
   :config

   )</code></pre></div>
<h1>Functions</h1>
<h2>Encoding</h2>
<h3>fix unicode characters</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-fix-characters </span>
  (start end) 
  (interactive <span class="st">&quot;r&quot;</span>) 
  (<span class="kw">let</span> ((buffer-invisibility-spec)) (query-replace-regexp <span class="st">&quot;[^</span>\t\n\r\f<span class="st"> -~]&quot;</span> <span class="st">&quot;&quot;</span>))
  )

  (<span class="kw">defun</span><span class="fu"> z-fix2-characters </span>()
    (interactive)
    (<span class="kw">let</span> ()
      (query-replace-regexp <span class="st">&quot;[^</span>\t\n\r\f<span class="st"> -~]&quot;</span> <span class="st">&quot;&quot;</span>)
      ))</code></pre></div>
<h2>Editing</h2>
<h3>Increment years</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-year-increment  </span>(buffer max-year)
    (interactive <span class="st">&quot;b</span>\n<span class="st">sMax year (yy): &quot;</span>)
    (<span class="kw">setq</span> max-year (string-to-number max-year))
    (<span class="kw">let</span> ((year <span class="dv">2003</span>)
    (newbuf (get-buffer-create <span class="st">&quot;increment-year&quot;</span>)))
      (<span class="kw">let</span> ((s (with-current-buffer buffer
           (buffer-substring (point-min) (point-max)))))
        (<span class="kw">dotimes</span> (n (<span class="kw">1+</span> max-year))
    (with-current-buffer newbuf
      (goto-char (point-max))
      (insert <span class="st">&quot;</span>\n<span class="st">&quot;</span>)
      (insert (replace-regexp-in-string (int-to-string year)
                        (int-to-string (<span class="kw">+</span> year n))
                        s)))))
      (switch-to-buffer newbuf)))</code></pre></div>
<h3>Get rid of blank lines</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> flush-blank-lines </span>()
      <span class="st">&quot;Removes all blank lines from buffer or region&quot;</span>
       (interactive)
       (save-excursion
         (<span class="kw">let</span> (<span class="kw">min</span> <span class="kw">max</span>)
     (<span class="kw">if</span> (<span class="kw">equal</span> (region-active-p) <span class="kw">nil</span>)
         (mark-whole-buffer))
     (<span class="kw">setq</span> <span class="kw">min</span> (region-beginning) <span class="kw">max</span> (region-end))
     (flush-lines <span class="st">&quot;^ *$&quot;</span> <span class="kw">min</span> <span class="kw">max</span> <span class="kw">t</span>))))</code></pre></div>
<h3>Join lines</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key (kbd <span class="st">&quot;M-j&quot;</span>)
        (<span class="kw">lambda</span> ()
          (interactive)
          (join-line -<span class="dv">1</span>)))</code></pre></div>
<h3>Fill/unfill paragraph</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> unfill-paragraph </span>()
    <span class="st">&quot;Replace newline chars in current paragraph by single spaces.</span>
<span class="st">  This command does the inverse of `fill-paragraph&#39;.&quot;</span>
    (interactive)
    (<span class="kw">let</span> ((fill-column <span class="dv">90002000</span>)) <span class="co">; 90002000 is just random. you can use `most-positive-fixnum&#39;</span>
      (fill-paragraph <span class="kw">nil</span>)))

  (<span class="kw">defun</span><span class="fu"> unfill-region </span>(start end)
    <span class="st">&quot;Replace newline chars in region by single spaces.</span>
<span class="st">  This command does the inverse of `fill-region&#39;.&quot;</span>
    (interactive <span class="st">&quot;r&quot;</span>)
    (<span class="kw">let</span> ((fill-column <span class="dv">90002000</span>))
      (fill-region start end)))
</code></pre></div>
<h3>Count words in region</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  (<span class="kw">defun</span><span class="fu"> z-count-words-region </span>(posBegin posEnd)
    <span class="st">&quot;Print number of words and chars in region.&quot;</span>
    (interactive <span class="st">&quot;r&quot;</span>)
    (message <span class="st">&quot;Counting …&quot;</span>)
    (save-excursion
      (<span class="kw">let</span> (wordCount charCount)
        (<span class="kw">setq</span> wordCount <span class="dv">0</span>)
        (<span class="kw">setq</span> charCount (<span class="kw">-</span> posEnd posBegin))
        (goto-char posBegin)
        (while (<span class="kw">and</span> (<span class="kw">&lt;</span> (point) posEnd)
          (re-search-forward <span class="st">&quot;</span>\\<span class="st">w+</span>\\<span class="st">W*&quot;</span> posEnd <span class="kw">t</span>))
    (<span class="kw">setq</span> wordCount (<span class="kw">1+</span> wordCount)))

        (message <span class="st">&quot;Words: %d. Chars: %d.&quot;</span> wordCount charCount)
        )))
</code></pre></div>
<h3>Copy and comment</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/copy-comment-paste </span>()
    <span class="st">&quot;copy active region/current line, comment, and then paste&quot;</span>
    (interactive)
    (<span class="kw">unless</span> (use-region-p)
      (<span class="kw">progn</span>
        (beginning-of-line <span class="dv">2</span>)
        (push-mark (line-beginning-position <span class="dv">0</span>))))
    (kill-ring-save (region-beginning) (region-end))
    (comment-region (region-beginning) (region-end))
    (yank)
    (exchange-point-and-mark)
    (indent-according-to-mode))

</code></pre></div>
<h3>comment/uncomment line</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/comment-line </span>(n)
    <span class="st">&quot;Comment or uncomment current line and leave point after it.</span>
<span class="st">  With positive prefix, apply to N lines including current one.</span>
<span class="st">  With negative prefix, apply to -N lines above.</span>
<span class="st">  If region is active, apply to active region instead.&quot;</span>
    (interactive <span class="st">&quot;p&quot;</span>)
    (<span class="kw">if</span> (use-region-p)
        (comment-or-uncomment-region
         (region-beginning) (region-end))
      (<span class="kw">let</span> ((range
       (<span class="kw">list</span> (line-beginning-position)
         (goto-char (line-end-position n)))))
        (comment-or-uncomment-region
         (<span class="kw">apply</span> #&#39;min range)
         (<span class="kw">apply</span> #&#39;max range)))
      (forward-line <span class="dv">1</span>)
      (back-to-indentation)))
</code></pre></div>
<h3>move line up/down</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> move-line-up </span>()
    <span class="st">&quot;Move up the current line.&quot;</span>
    (interactive)
    (transpose-lines <span class="dv">1</span>)
    (forward-line -<span class="dv">2</span>)
    (indent-according-to-mode))

  (<span class="kw">defun</span><span class="fu"> move-line-down </span>()
    <span class="st">&quot;Move down the current line.&quot;</span>
    (interactive)
    (forward-line <span class="dv">1</span>)
    (transpose-lines <span class="dv">1</span>)
    (forward-line -<span class="dv">1</span>)
    (indent-according-to-mode))
</code></pre></div>
<h3>insert date</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-insert-date </span>(&amp;optional addTimeStamp-p)
    <span class="st">&quot;Insert current date and or time. In this format yyyy-mm-dd.</span>
<span class="st">   When called with `universal-argument&#39;, insert date and time, e.g. 2012-05-28T07:06:23-07:00</span>
<span class="st">   Replaces text selection.See also `current-date-time-string&#39;.&quot;</span>
    (interactive <span class="st">&quot;P&quot;</span>)
    (<span class="kw">when</span> (region-active-p) (delete-region (region-beginning) (region-end) ) )
    (<span class="kw">cond</span>
     ((<span class="kw">equal</span> addTimeStamp-p <span class="kw">nil</span> ) (insert (format-time-string <span class="st">&quot;%Y-%m-%d&quot;</span>)))
     (<span class="kw">t</span> (insert (current-date-time-string))) ) )</code></pre></div>
<h3>copy/paste to/from x clip</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> copy-to-x-clipboard </span>()
    (interactive)
    (<span class="kw">if</span> (region-active-p)
        (<span class="kw">progn</span>
    (<span class="kw">cond</span>
     ((<span class="kw">and</span> (display-graphic-p) x-select-enable-clipboard)
      (x-set-selection &#39;CLIPBOARD (buffer-substring (region-beginning) (region-end))))
     (<span class="kw">t</span> (shell-command-on-region (region-beginning) (region-end)
                     (<span class="kw">cond</span>
                      (*cygwin* <span class="st">&quot;putclip&quot;</span>)
                      (*is-a-mac* <span class="st">&quot;pbcopy&quot;</span>)
                      (*linux* <span class="st">&quot;xsel -ib&quot;</span>)))
        ))
    (message <span class="st">&quot;Yanked region to clipboard!&quot;</span>)
    (deactivate-mark))
    (message <span class="st">&quot;No region active; can&#39;t yank to clipboard!&quot;</span>)))

  (<span class="kw">defun</span><span class="fu"> paste-from-x-clipboard</span>()
    (interactive)
    (<span class="kw">cond</span>
     ((<span class="kw">and</span> (display-graphic-p) x-select-enable-clipboard)
      (insert (x-selection &#39;CLIPBOARD)))
     (<span class="kw">t</span> (shell-command
         (<span class="kw">cond</span>
    (*cygwin* <span class="st">&quot;getclip&quot;</span>)
    (*is-a-mac* <span class="st">&quot;pbpaste&quot;</span>)
    (<span class="kw">t</span> <span class="st">&quot;xsel -ob&quot;</span>))
         <span class="dv">1</span>))
     ))</code></pre></div>
<h3>copy and indent lines</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> prelude-indent-rigidly-and-copy-to-clipboard </span>(begin end indent)
    <span class="st">&quot;Copy the selected code region to the clipboard, indented according</span>
<span class="st">  to Markdown blockquote rules.&quot;</span>
    (<span class="kw">let</span> ((buffer (current-buffer)))
      (with-temp-buffer
        (insert-buffer-substring-no-properties buffer begin end)
        (indent-rigidly (point-min) (point-max) indent)
        (clipboard-kill-ring-save (point-min) (point-max)))))

  (<span class="kw">defun</span><span class="fu"> prelude-indent-blockquote-and-copy-to-clipboard </span>(begin end)
    <span class="st">&quot;Copy the selected code region to the clipboard, indented according</span>
<span class="st">  to markdown blockquote rules (useful to copy snippets to StackOverflow, Assembla, Github.&quot;</span>
    (interactive <span class="st">&quot;r&quot;</span>)
    (prelude-indent-rigidly-and-copy-to-clipboard begin end <span class="dv">4</span>))

  (<span class="kw">defun</span><span class="fu"> prelude-indent-nested-blockquote-and-copy-to-clipboard </span>(begin end)
    <span class="st">&quot;Copy the selected code region to the clipboard, indented according</span>
<span class="st">  to markdown blockquote rules. Useful to add snippets under bullet points.&quot;</span>
    (interactive <span class="st">&quot;r&quot;</span>)
    (prelude-indent-rigidly-and-copy-to-clipboard begin end <span class="dv">6</span>))
</code></pre></div>
<h3>search replace all document</h3>
<p>@currently below code broken@</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(defun  z/search-replace-file ()</span>
  <span class="co">;(interactive)</span>
  <span class="co">;(goto-char (point-min))</span>
  <span class="co">;(query-replace-regexp ))</span>
</code></pre></div>
<h3>duplicate line/region</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> duplicate-current-line-or-region </span>(arg)
    <span class="st">&quot;Duplicates the current line or region ARG times.</span>
<span class="st">  If there&#39;s no region, the current line will be duplicated. However, if</span>
<span class="st">  there&#39;s a region, all lines that region covers will be duplicated.&quot;</span>
    (interactive <span class="st">&quot;p&quot;</span>)
    (<span class="kw">let</span> (beg end (origin (point)))
      (<span class="kw">if</span> (<span class="kw">and</span> mark-active (<span class="kw">&gt;</span> (point) (mark)))
    (exchange-point-and-mark))
      (<span class="kw">setq</span> beg (line-beginning-position))
      (<span class="kw">if</span> mark-active
    (exchange-point-and-mark))
      (<span class="kw">setq</span> end (line-end-position))
      (<span class="kw">let</span> ((region (buffer-substring-no-properties beg end)))
        (<span class="kw">dotimes</span> (i arg)
    (goto-char end)
    (newline)
    (insert region)
    (<span class="kw">setq</span> end (point)))
        (goto-char (<span class="kw">+</span> origin (<span class="kw">*</span> (<span class="kw">length</span> region) arg) arg)))))</code></pre></div>
<h4>old method for line only</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> duplicate-line</span>()
    (interactive)
    (move-beginning-of-line <span class="dv">1</span>)
    (kill-line)
    (yank)
    (open-line <span class="dv">1</span>)
    (next-line <span class="dv">1</span>)
    (yank)
  )</code></pre></div>
<h3>copy current line</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/copy-line </span>(arg)
      <span class="st">&quot;Copy lines (as many as prefix argument) in the kill ring.</span>
<span class="st">        Ease of use features:</span>
<span class="st">        - Move to start of next line.</span>
<span class="st">        - Appends the copy on sequential calls.</span>
<span class="st">        - Use newline as last char even on the last line of the buffer.</span>
<span class="st">        - If region is active, copy its lines.&quot;</span>
      (interactive <span class="st">&quot;p&quot;</span>)
      (<span class="kw">let</span> ((beg (line-beginning-position))
      (end (line-end-position arg)))
        (<span class="kw">when</span> mark-active
    (<span class="kw">if</span> (<span class="kw">&gt;</span> (point) (mark))
        (<span class="kw">setq</span> beg (save-excursion (goto-char (mark)) (line-beginning-position)))
      (<span class="kw">setq</span> end (save-excursion (goto-char (mark)) (line-end-position)))))
        (<span class="kw">if</span> (<span class="kw">eq</span> last-command &#39;copy-line)
      (kill-append (buffer-substring beg end) (<span class="kw">&lt;</span> end beg))
    (kill-ring-save beg end)))
      (kill-append <span class="st">&quot;</span>\n<span class="st">&quot;</span> <span class="kw">nil</span>)
      (beginning-of-line (<span class="kw">or</span> (<span class="kw">and</span> arg (<span class="kw">1+</span> arg)) <span class="dv">2</span>))
      (<span class="kw">if</span> (<span class="kw">and</span> arg (<span class="kw">not</span> (<span class="kw">=</span> <span class="dv">1</span> arg))) (message <span class="st">&quot;%d lines copied&quot;</span> arg)))</code></pre></div>
<h3>auto spell correction function</h3>
<p>from: <a href="http://endlessparentheses.com/ispell-and-abbrev-the-perfect-auto-correct.html" class="uri">http://endlessparentheses.com/ispell-and-abbrev-the-perfect-auto-correct.html</a></p>
<p>this will store the abbrevs here: <a href="/home/zeltak/.emacs.d/abbrv/personal_abbrv.txt">file:/home/zeltak/.emacs.d/abbrv/personal_abbrv.txt</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">; (define-key ctl-x-map &quot;\C-i&quot; &#39;endless/ispell-word-then-abbrev)</span>

   (define-prefix-command &#39;endless/toggle-map)
   <span class="co">;; The manual recommends C-c for user keys, but C-x t is</span>
   <span class="co">;; always free, whereas C-c t is used by some modes.</span>
   (define-key ctl-x-map <span class="st">&quot;t&quot;</span> &#39;endless/toggle-map)
   (define-key endless/toggle-map <span class="st">&quot;w&quot;</span> &#39;endless/ispell-word-then-abbrev)

   (<span class="kw">defun</span><span class="fu"> endless/ispell-word-then-abbrev </span>(p)
     <span class="st">&quot;Call `ispell-word&#39;. Then create an abbrev for the correction made.</span>
<span class="st">   With prefix P, create local abbrev. Otherwise it will be global.&quot;</span>
     (interactive <span class="st">&quot;P&quot;</span>)
     (<span class="kw">let</span> ((bef (downcase (<span class="kw">or</span> (thing-at-point &#39;word) <span class="st">&quot;&quot;</span>))) aft)
       (call-interactively &#39;ispell-word)
       (<span class="kw">setq</span> aft (downcase (<span class="kw">or</span> (thing-at-point &#39;word) <span class="st">&quot;&quot;</span>)))
       (<span class="kw">unless</span> (<span class="kw">string=</span> aft bef)
         (message <span class="st">&quot;</span>\&quot;<span class="st">%s</span>\&quot;<span class="st"> now expands to </span>\&quot;<span class="st">%s</span>\&quot;<span class="st"> %sally&quot;</span>
        bef aft (<span class="kw">if</span> p <span class="st">&quot;loc&quot;</span> <span class="st">&quot;glob&quot;</span>))
         (define-abbrev
     (<span class="kw">if</span> p local-abbrev-table global-abbrev-table)
     bef aft))))</code></pre></div>
<h3>common used regex</h3>
<h4>delete all numeric characters</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/regex-delete-numeric  </span>()
    <span class="st">&quot;delete all numeric characters&quot;</span>
    (interactive)
    (goto-char (point-min))
    (replace-regexp <span class="st">&quot;[0-9]&quot;</span> <span class="st">&quot;&quot;</span>)
  )</code></pre></div>
<h3>Code box</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/comment-box </span>(b e)
    <span class="st">&quot;Draw a box comment around the region but arrange for the region</span>
<span class="st">  to extend to at least the fill column. Place the point after the</span>
<span class="st">  comment box.&quot;</span>
    (interactive <span class="st">&quot;r&quot;</span>)
    (<span class="kw">let</span> ((e (copy-marker e <span class="kw">t</span>)))
      (goto-char b)
      (end-of-line)
      (insert-char ?  (<span class="kw">-</span> fill-column (current-column)))
      (comment-box b e <span class="dv">1</span>)
      (goto-char e)
      (set-marker e <span class="kw">nil</span>)))
</code></pre></div>
<h3>insert Unicode texts</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/insert-keyleft </span>()
    <span class="st">&quot; insert 【   &quot;</span>
    (interactive)
    (insert <span class="st">&quot;【&quot;</span>)
    )

  (<span class="kw">defun</span><span class="fu"> z/insert-keyright </span>()
    <span class="st">&quot; insert 】   &quot;</span>
    (interactive)
    (insert <span class="st">&quot;】&quot;</span>)
    )


  (<span class="kw">defun</span><span class="fu"> z/insert-keyboth </span>()
    <span class="st">&quot; insert 【】  &quot;</span>
    (interactive)
    (insert <span class="st">&quot;【 】&quot;</span>)
  (backward-char <span class="dv">2</span>)  
  )

  (<span class="kw">defun</span><span class="fu"> z/insert-bashscript </span>()
    <span class="st">&quot; insert #!/bin/sh  &quot;</span>
    (interactive)
    (insert <span class="st">&quot;#!/bin/sh&quot;</span>)

  (<span class="kw">defun</span><span class="fu"> z/insert-play </span>()
    <span class="st">&quot; insert   ‣  &quot;</span>
    (interactive)
    (insert <span class="st">&quot;‣&quot;</span>)
  )

  )

</code></pre></div>
<h2>org</h2>
<h3>convert to same level header</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/org-convert-header-samelevel  </span>()
             (interactive)                                
             (<span class="kw">let</span> ((current-prefix-arg &#39;(<span class="dv">4</span>)))             
               (call-interactively #&#39;org-toggle-heading)))
</code></pre></div>
<h3>expand code block keys</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> pl/hot-expand </span>(str)
    <span class="st">&quot;Expand org template.&quot;</span>
    (insert str)
    (org-try-structure-completion))

  (with-eval-after-load <span class="st">&quot;org&quot;</span>
    (define-key org-mode-map <span class="st">&quot;&lt;&quot;</span>
      (<span class="kw">lambda</span> () (interactive)
        (<span class="kw">if</span> (looking-back <span class="st">&quot;^&quot;</span>)
      (hydra-org-template/body)
    (self-insert-command <span class="dv">1</span>)))))
</code></pre></div>
<h3>TODO org refile with prefix</h3>
<p>broken this way, causes erros in init</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(fset &#39;z/prefix-org-refile (C-u M-x org-refile))   </span></code></pre></div>
<h3>agenda views</h3>
<h4>org agenda calendar</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/org-agenda-calendar </span>()
  <span class="st">&quot;open work agenda&quot;</span>
  (interactive)                                
  (org-agenda <span class="kw">nil</span> <span class="st">&quot;a&quot;</span>)
  )</code></pre></div>
<h4>org agenda work</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/org-agenda-work </span>()
  <span class="st">&quot;open work agenda&quot;</span>
  (interactive)                                
  (org-agenda <span class="kw">nil</span> <span class="st">&quot;w&quot;</span>)
  )</code></pre></div>
<h4>org agenda search</h4>
<h4>org agenda Allan</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/org-agenda-allan </span>()
  <span class="st">&quot;open work agenda&quot;</span>
  (interactive)                                
  (org-agenda <span class="kw">nil</span> <span class="st">&quot;A&quot;</span>)
  )</code></pre></div>
<h4>org agenda Joel</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/org-agenda-joel </span>()
  <span class="st">&quot;open work agenda&quot;</span>
  (interactive)                                
  (org-agenda <span class="kw">nil</span> <span class="st">&quot;j&quot;</span>)
  )</code></pre></div>
<h4>org agenda cook</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/org-agenda-cook </span>()
  <span class="st">&quot;open work agenda&quot;</span>
  (interactive)                                
  (org-agenda <span class="kw">nil</span> <span class="st">&quot;f&quot;</span>)
  )</code></pre></div>
<h4>TODO org export to pdf</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (fset &#39;expdf
        [?\C-c ?\C-e ?\l ?\o ])</code></pre></div>
<h3>comment code block</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/comment-org-in-src-block </span>()    
  (interactive)
  (org-edit-special)
  (mark-whole-buffer)
  (comment-dwim <span class="kw">nil</span>)
  (org-edit-src-exit))
</code></pre></div>
<h2>Root actions</h2>
<h3>edit file as root</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-edit-file-as-root </span>()
    <span class="st">&quot;Edit the file that is associated with the current buffer as root&quot;</span>
    (interactive)
    (<span class="kw">if</span> (buffer-file-name)
        (<span class="kw">progn</span>
    (<span class="kw">setq</span> file (concat <span class="st">&quot;/sudo:root@localhost:&quot;</span> (buffer-file-name)))
    (find-file file))
      (message <span class="st">&quot;Current buffer does not have an associated file.&quot;</span>)))

</code></pre></div>
<h2>Buffers</h2>
<h3>kill other buffers</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-kill-other-buffers </span>()
        <span class="st">&quot;Kill all other buffers.&quot;</span>
        (interactive)
        (<span class="kw">mapc</span> &#39;kill-buffer (delq (current-buffer) (buffer-list))))
</code></pre></div>
<h3>movment in buffer</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> next-user-buffer </span>()
    <span class="st">&quot;Switch to the next user buffer.</span>
<span class="st">  User buffers are those whose name does not start with *.&quot;</span>
    (interactive)
    (next-buffer)
    (<span class="kw">let</span> ((i <span class="dv">0</span>))
      (while (<span class="kw">and</span> (string-match <span class="st">&quot;^*&quot;</span> (buffer-name)) (<span class="kw">&lt;</span> i <span class="dv">50</span>))
        (<span class="kw">setq</span> i (<span class="kw">1+</span> i)) (next-buffer) )))

  (<span class="kw">defun</span><span class="fu"> previous-user-buffer </span>()
    <span class="st">&quot;Switch to the previous user buffer.</span>
<span class="st">  User buffers are those whose name does not start with *.&quot;</span>
    (interactive)
    (previous-buffer)
    (<span class="kw">let</span> ((i <span class="dv">0</span>))
      (while (<span class="kw">and</span> (string-match <span class="st">&quot;^*&quot;</span> (buffer-name)) (<span class="kw">&lt;</span> i <span class="dv">50</span>))
        (<span class="kw">setq</span> i (<span class="kw">1+</span> i)) (previous-buffer) )))

  (<span class="kw">defun</span><span class="fu"> next-emacs-buffer </span>()
    <span class="st">&quot;Switch to the next emacs buffer.</span>
<span class="st">  Emacs buffers are those whose name starts with *.&quot;</span>
    (interactive)
    (next-buffer)
    (<span class="kw">let</span> ((i <span class="dv">0</span>))
      (while (<span class="kw">and</span> (<span class="kw">not</span> (string-match <span class="st">&quot;^*&quot;</span> (buffer-name))) (<span class="kw">&lt;</span> i <span class="dv">50</span>))
        (<span class="kw">setq</span> i (<span class="kw">1+</span> i)) (next-buffer) )))

  (<span class="kw">defun</span><span class="fu"> previous-emacs-buffer </span>()
    <span class="st">&quot;Switch to the previous emacs buffer.</span>
<span class="st">  Emacs buffers are those whose name starts with *.&quot;</span>
    (interactive)
    (previous-buffer)
    (<span class="kw">let</span> ((i <span class="dv">0</span>))
      (while (<span class="kw">and</span> (<span class="kw">not</span> (string-match <span class="st">&quot;^*&quot;</span> (buffer-name))) (<span class="kw">&lt;</span> i <span class="dv">50</span>))
        (<span class="kw">setq</span> i (<span class="kw">1+</span> i)) (previous-buffer) )))


  (<span class="kw">defun</span><span class="fu"> switch-to-previous-buffer </span>()
    <span class="st">&quot;Switch to previously open buffer.</span>
<span class="st">  Repeated invocations toggle between the two most recently open buffers.&quot;</span>
    (interactive)
    (switch-to-buffer (other-buffer (current-buffer) <span class="dv">1</span>)))

</code></pre></div>
<h3>save current file and close window</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-save-buffer-close-window </span>()
    <span class="st">&quot;DOCSTRING&quot;</span>
    (interactive)
      (save-buffer)
      (kill-this-buffer)
    )</code></pre></div>
<h2>windows (panes)</h2>
<h3>resize via menu</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> resize-window </span>(&amp;optional arg)    <span class="co">; Hirose Yuuji and Bob Wiener</span>
    <span class="st">&quot;*Resize window interactively.&quot;</span>
    (interactive <span class="st">&quot;p&quot;</span>)
    (<span class="kw">if</span> (one-window-p) (<span class="kw">error</span> <span class="st">&quot;Cannot resize sole window&quot;</span>))
    (<span class="kw">or</span> arg (<span class="kw">setq</span> arg <span class="dv">1</span>))
    (<span class="kw">let</span> (c)
      (<span class="kw">catch</span> &#39;done
        (while <span class="kw">t</span>
    (message
     <span class="st">&quot;h=heighten, s=shrink, w=widen, n=narrow (by %d);  1-9=unit, q=quit&quot;</span>
     arg)
    (<span class="kw">setq</span> c (<span class="kw">read-char</span>))
    (condition-case ()
        (<span class="kw">cond</span>
         ((<span class="kw">=</span> c ?h) (enlarge-window arg))
         ((<span class="kw">=</span> c ?s) (shrink-window arg))
         ((<span class="kw">=</span> c ?w) (enlarge-window-horizontally arg))
         ((<span class="kw">=</span> c ?n) (shrink-window-horizontally arg))
         ((<span class="kw">=</span> c ?\^G) (keyboard-quit))
         ((<span class="kw">=</span> c ?q) (<span class="kw">throw</span> &#39;done <span class="kw">t</span>))
         ((<span class="kw">and</span> (<span class="kw">&gt;</span> c ?<span class="dv">0</span>) (<span class="kw">&lt;=</span> c ?<span class="dv">9</span>)) (<span class="kw">setq</span> arg (<span class="kw">-</span> c ?<span class="dv">0</span>)))
         (<span class="kw">t</span> (beep)))
      (<span class="kw">error</span> (beep)))))
      (message <span class="st">&quot;Done.&quot;</span>)))</code></pre></div>
<h3>swap window location</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> transpose-windows </span>(arg)
     <span class="st">&quot;Transpose the buffers shown in two windows.&quot;</span>
     (interactive <span class="st">&quot;p&quot;</span>)
     (<span class="kw">let</span> ((selector (<span class="kw">if</span> (<span class="kw">&gt;=</span> arg <span class="dv">0</span>) &#39;next-window &#39;previous-window)))
       (while (<span class="kw">/=</span> arg <span class="dv">0</span>)
         (<span class="kw">let</span> ((this-win (window-buffer))
         (next-win (window-buffer (<span class="kw">funcall</span> selector))))
     (set-window-buffer (selected-window) next-win)
     (set-window-buffer (<span class="kw">funcall</span> selector) this-win)
     (select-window (<span class="kw">funcall</span> selector)))
         (<span class="kw">setq</span> arg (<span class="kw">if</span> (<span class="kw">plusp</span> arg) (<span class="kw">1-</span> arg) (<span class="kw">1+</span> arg))))))</code></pre></div>
<h2>open a specific dir</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> ood </span>() (interactive) (dired <span class="st">&quot;/home/zeltak/org&quot;</span>))</code></pre></div>
<h2>General emacs</h2>
<h3>create scratch buffer</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> create-scratch-buffer </span><span class="kw">nil</span>
     <span class="st">&quot;create a scratch buffer&quot;</span>
     (interactive)
     (switch-to-buffer (get-buffer-create <span class="st">&quot;*scratch*&quot;</span>))
     (lisp-interaction-mode))  </code></pre></div>
<h2>toggles</h2>
<h3>auto narrow/widen</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/narrow-or-widen-dwim </span>()
  <span class="st">&quot;If the buffer is narrowed, it widens. Otherwise, it narrows to region, or Org subtree.&quot;</span>
  (interactive)
  (<span class="kw">cond</span> ((buffer-narrowed-p) (widen))
  ((region-active-p) (narrow-to-region (region-beginning) (region-end)))
  ((<span class="kw">equal</span> major-mode &#39;org-mode) (org-narrow-to-subtree))
  (<span class="kw">t</span> (<span class="kw">error</span> <span class="st">&quot;Please select a region to narrow to&quot;</span>))))</code></pre></div>
<h2>outside Emacs</h2>
<h3>search google</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;thingatpt)

  (<span class="kw">defun</span><span class="fu"> google-search </span>()
    <span class="st">&quot;Googles a query or region if any.&quot;</span>
    (interactive)
    (browse-url
     (concat
      <span class="st">&quot;http://www.google.com/search?ie=utf-8&amp;oe=utf-8&amp;q=&quot;</span>
      (<span class="kw">if</span> mark-active
    (buffer-substring (region-beginning) (region-end))
        (read-string <span class="st">&quot;Google: &quot;</span>)))))</code></pre></div>
<h2>helm</h2>
<h3>swish-e</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> helm-swish-e-candidates </span>(query)
    <span class="st">&quot;Generate a list of cons cells (swish-e result . path).&quot;</span>
    (<span class="kw">let*</span> ((result (shell-command-to-string
          (<span class="kw">format</span> <span class="st">&quot;swish-e -f ~/.swish-e/index.swish-e -x </span>\&quot;<span class="st">%%r</span>\t<span class="st">%%p</span>\n\&quot;<span class="st"> -w %s&quot;</span>
              (shell-quote-argument query))))
     (lines (s-split <span class="st">&quot;</span>\n<span class="st">&quot;</span> result <span class="kw">t</span>))
     (candidates &#39;()))
      (<span class="kw">loop</span> for line in lines
      <span class="kw">unless</span> (<span class="kw">or</span>  (s-starts-with? <span class="st">&quot;#&quot;</span> line)
              (s-starts-with? <span class="st">&quot;.&quot;</span> line))
      collect (<span class="kw">cons</span> line (<span class="kw">cdr</span> (s-split <span class="st">&quot;</span>\t<span class="st">&quot;</span> line))))))


  (<span class="kw">defun</span><span class="fu"> helm-swish-e </span>(query)
    <span class="st">&quot;Run a swish-e query and provide helm selection buffer of the results.&quot;</span>
    (interactive <span class="st">&quot;sQuery: &quot;</span>)
    (helm :sources `(((name . ,(<span class="kw">format</span> <span class="st">&quot;swish-e: %s&quot;</span> query))
            (candidates . ,(helm-swish-e-candidates query))
            (action . ((<span class="st">&quot;open&quot;</span> . (<span class="kw">lambda</span> (f)
                       (find-file (<span class="kw">car</span> f)))))))
           ((name . <span class="st">&quot;New search&quot;</span>)
            (dummy)
            (action . ((<span class="st">&quot;search&quot;</span> . (<span class="kw">lambda</span> (f)
                         (helm-swish-e helm-pattern)))))))))</code></pre></div>
<h1>Macros</h1>
<h2>org faces</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (fset &#39;orgstyle-tnote
     [?! home ?!])
  (define-key org-mode-map (kbd <span class="st">&quot;C-1&quot;</span>) &#39;orgstyle-tnote)


  (fset &#39;orgstyle-warning
     <span class="st">&quot;@\341@WARNING:&quot;</span>)
  (define-key org-mode-map (kbd <span class="st">&quot;C-2&quot;</span>) &#39;orgstyle-warning)

  (fset &#39;orgstyle-warning2
     [?@ home ?@])
  (define-key org-mode-map (kbd <span class="st">&quot;C-S-2&quot;</span>) &#39;orgstyle-warning2)



  (fset &#39;orgstyle-com1
     [?~ home ?~])
  (define-key org-mode-map (kbd <span class="st">&quot;C-3&quot;</span>) &#39;orgstyle-com1)

  (fset &#39;orgstyle-note
     <span class="st">&quot;$\341$NOTE:&quot;</span>)
  (define-key org-mode-map (kbd <span class="st">&quot;C-4&quot;</span>) &#39;orgstyle-note)

  (fset &#39;orgstyle-note2
     [?$ home ?$])
  (define-key org-mode-map (kbd <span class="st">&quot;C-S-4&quot;</span>) &#39;orgstyle-note2)

  (fset &#39;orgstyle-tip
     <span class="st">&quot;%\341%TIP:&quot;</span>)
  (define-key org-mode-map (kbd <span class="st">&quot;C-5&quot;</span>) &#39;orgstyle-tip)


  (fset &#39;orgstyle-tip2
     [?% home ?%])
  (define-key org-mode-map (kbd <span class="st">&quot;C-S-5&quot;</span>) &#39;orgstyle-tip2)


  (fset &#39;orgstyle-code
     [?^ home ?^])
  (define-key org-mode-map (kbd <span class="st">&quot;C-6&quot;</span>) &#39;orgstyle-code)

  (fset &#39;orgstyle-header
     [?&amp; home ?&amp;])
  (define-key org-mode-map (kbd <span class="st">&quot;C-7&quot;</span>) &#39;orgstyle-header)

  (fset &#39;orgstyle-bold
     [?* home ?*])
  (define-key org-mode-map (kbd <span class="st">&quot;C-7&quot;</span>) &#39;orgstyle-bold)

  (fset &#39;orgstyle-highlight-green
     [?&#39; home ?&#39;])
  (define-key org-mode-map (kbd <span class="st">&quot;C-9&quot;</span>) &#39;orgstyle-highlight-green)

  (fset &#39;orgstyle-com2
     [?` home ?`])
  (define-key org-mode-map (kbd <span class="st">&quot;C-0&quot;</span>) &#39;orgstyle-com2)

  (fset &#39;underline_net_delete
     [?\M-% ?\  <span class="kw">return</span> <span class="kw">return</span> ?!])
</code></pre></div>
<h2>Editing</h2>
<h3>lines not paragraphs</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;;;; Saved macros</span>
  <span class="co">;; Saved macro - adds latex end-lines to verse passages</span>
  (fset &#39;versify
        [?\C-a ?\C-e ?\\ ?\\ down])

  <span class="co">;(global-set-key (kbd &quot;&quot;) &#39;versify)</span></code></pre></div>
<h2>prefix macro</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defmacro</span><span class="fu"> C-u </span>(&amp;<span class="kw">rest</span> args)
    (<span class="kw">let</span> ((prefix (<span class="kw">list</span> <span class="dv">4</span>)))
      (while (<span class="kw">cdr</span> args)
        (<span class="kw">cond</span>
         ((<span class="kw">eq</span> (<span class="kw">car</span> args) &#39;C-u)
    (<span class="kw">setf</span> (<span class="kw">car</span> prefix) (<span class="kw">*</span> <span class="dv">4</span> (<span class="kw">car</span> prefix))))
         ((<span class="kw">eq</span> (<span class="kw">car</span> args) &#39;M-x)
    <span class="co">;; ignore</span>
    <span class="kw">t</span>)
         (<span class="kw">t</span>
    (<span class="kw">error</span> <span class="st">&quot;Unknown arg %S&quot;</span> (<span class="kw">car</span> args))))
        (<span class="kw">setq</span> args (<span class="kw">cdr</span> args)))
      (<span class="kw">unless</span> (<span class="kw">functionp</span> (<span class="kw">car</span> args))
        (<span class="kw">error</span> <span class="st">&quot;%S is not a function&quot;</span> (<span class="kw">car</span> args)))
      `(<span class="kw">lambda</span> ()
         (interactive)
         (<span class="kw">let</span> ((current-prefix-arg &#39;,prefix))
     (call-interactively &#39;,(<span class="kw">car</span> args))))))</code></pre></div>
<h2>mu4e</h2>
<h3>delete and exe</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (fset &#39;del_exe_mu4e
     [?d ?x ?y ])
</code></pre></div>
<h1>Key binds</h1>
<h2>1-unbind keys</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-unset-key (kbd <span class="st">&quot;&lt;f1&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f2&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f3&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f4&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f5&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f6&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f7&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f8&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f9&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f10&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f11&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;&lt;f12&gt;&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;C-v &quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;C-M-p&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;C-M-e&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;C-M-b&quot;</span>))
  (global-unset-key (kbd <span class="st">&quot;C-M-b&quot;</span>))</code></pre></div>
<h2>editing</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (key-chord-define-global <span class="st">&quot;yy&quot;</span>     &#39;z/copy-line)
  (key-chord-define-global <span class="st">&quot;jj&quot;</span>     &#39;avi-goto-char<span class="dv">-2</span>)</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key (kbd <span class="st">&quot;C-&lt;tab&gt;&quot;</span>) &#39;dabbrev-expand)
  (define-key minibuffer-local-map (kbd <span class="st">&quot;C-&lt;tab&gt;&quot;</span>) &#39;dabbrev-expand)</code></pre></div>
<h2>movment</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-unset-key (kbd <span class="st">&quot;M-`&quot;</span>))
  (global-set-key (kbd <span class="st">&quot;M-`&quot;</span>) &#39;avi-goto-char<span class="dv">-2</span>)
</code></pre></div>
<h2>org</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;Create an ID for the entry at point if it does not yet have one.</span>
  (global-set-key <span class="st">&quot;\C-ca&quot;</span> &#39;org-agenda)
  (global-set-key (kbd <span class="st">&quot;C-c c&quot;</span>) &#39;org-capture)
  (global-set-key <span class="st">&quot;\C-cs&quot;</span> &#39;org-babel-execute-subtree)
  (global-set-key <span class="st">&quot;\C-cl&quot;</span> &#39;org-store-link)</code></pre></div>
<h2>hydra</h2>
<h3>Emacs//toggles (f1)</h3>
<h4>main toggles</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
     (kbd <span class="st">&quot;&lt;f1&gt;&quot;</span>)
  (defhydra hydra-toggles (:color blue :hint <span class="kw">nil</span>)

  <span class="st">&quot;</span>
<span class="st">  _a_:                   _b_: bug-hunter         _c_: cua-mode        _d_: toolbar        _e_: Evil mode          _f_: fci        _g_: google </span>
<span class="st">  _h_:help               _i_:                    _j_:                 _k_: key chord      _l_: linium             _m_: macros     _n_: start macro      </span>
<span class="st">  _o_: end macro         _p_:melpa               _r_: read only       _s_: scratch _S_: Lisp scratch       _t_: lentic             _u_:            _v_: viewmode</span>
<span class="st">  _w_:whitespace-mode    _x_: evalbuf                    _y_:                 _z_:                _G_ indend-guide</span>

<span class="st">               _=_ zoom in             _-_ zoom out</span>
<span class="st">  _q_:quit</span>
<span class="st">  &quot;</span>

  (<span class="st">&quot;a&quot;</span> <span class="kw">nil</span>  )
  (<span class="st">&quot;b&quot;</span> bug-hunter-file )
  (<span class="st">&quot;c&quot;</span> cua-mode )
  (<span class="st">&quot;d&quot;</span>  tool-bar-mode  )
  (<span class="st">&quot;e&quot;</span>  evil-mode)
  (<span class="st">&quot;f&quot;</span> fci-mode )
  (<span class="st">&quot;g&quot;</span> google-search )
  (<span class="st">&quot;h&quot;</span> hydra-toggles-help/body )
  (<span class="st">&quot;i&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;j&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;k&quot;</span> key-chord-mode  )
  (<span class="st">&quot;l&quot;</span> linum-mode  )
  (<span class="st">&quot;m&quot;</span>  hydra-toggles-macro/body)
  (<span class="st">&quot;n&quot;</span>  start-kbd-macro )
  (<span class="st">&quot;o&quot;</span> end-kbd-macro )
  (<span class="st">&quot;p&quot;</span> list-packages  )
  (<span class="st">&quot;r&quot;</span> read-only-mode )
  (<span class="st">&quot;s&quot;</span>  scratch)
  (<span class="st">&quot;S&quot;</span> create-scratch-buffer)
  (<span class="st">&quot;t&quot;</span> lentic-mode  )
  (<span class="st">&quot;u&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;v&quot;</span> view-mode )
  (<span class="st">&quot;w&quot;</span>  whitespace-mode)
  (<span class="st">&quot;x&quot;</span>  eval-buffer )
  (<span class="st">&quot;y&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;z&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;=&quot;</span> text-scale-increase :color red )
  (<span class="st">&quot;-&quot;</span> text-scale-decrease :color red)
  (<span class="st">&quot;G&quot;</span>  indent-guide-mode)
  (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> )

  ))</code></pre></div>
<h4>extra macro commaqnds</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-toggles-macro  (:color blue :hint <span class="kw">nil</span> )
       <span class="st">&quot;macro commands</span>
<span class="st">       &quot;</span>
       (<span class="st">&quot;s&quot;</span> start-kbd-macro  <span class="st">&quot;start macro&quot;</span> ) 
       (<span class="st">&quot;e&quot;</span>   <span class="st">&quot;end macro&quot;</span> ) 
       (<span class="st">&quot;e&quot;</span> kmacro-end-and-call-macro  <span class="st">&quot;use C-x e&quot;</span> ) 
       (<span class="st">&quot;n&quot;</span> name-last-kbd-macro  <span class="st">&quot;name macro&quot;</span> ) 
       (<span class="st">&quot;i&quot;</span> insert-kbd-macro  <span class="st">&quot;insert macro&quot;</span> ) 
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
  )</code></pre></div>
<h4>help menu commands</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  (global-set-key
     (kbd <span class="st">&quot;&quot;</span>)
  (defhydra hydra-toggles-help (:color blue :hint <span class="kw">nil</span>)

  <span class="st">&quot;</span>
<span class="st">  _k_ :describe key  _v_ describe variable _f_ describe functiom  </span>
<span class="st">  M-1- change windows</span>
<span class="st">  M-2 expand region (select gradualy regions)</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>
<span class="st">  M-` avy-jump</span>

<span class="st">  _q_: </span>
<span class="st">  &quot;</span>

  (<span class="st">&quot;a&quot;</span> <span class="kw">nil</span> )
  (<span class="st">&quot;b&quot;</span>  <span class="kw">nil</span>  )
  (<span class="st">&quot;c&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;d&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;e&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;f&quot;</span>  describe-function )
  (<span class="st">&quot;g&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;h&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;i&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;j&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;k&quot;</span>  describe-key )
  (<span class="st">&quot;l&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;m&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;n&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;o&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;p&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;r&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;s&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;t&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;u&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;v&quot;</span>  describe-variable)
  (<span class="st">&quot;w&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;x&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;y&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;z&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;q&quot;</span>  <span class="kw">nil</span> )

  ))</code></pre></div>
<h3>dired hydra (f2)</h3>
<h4>main</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  (global-set-key
     (kbd <span class="st">&quot;&lt;f2&gt;&quot;</span>)
  (defhydra hydra-dired-main (:color blue :hint <span class="kw">nil</span>)

  <span class="st">&quot;</span>

<span class="st">  _a_:         _b_:         _c_: configs        _d_:mark/unmark        _e_:           _f_:         _g_:  </span>
<span class="st">  _h_:         _i_:         _j_:dired-jump       _k_:       _l_:          _m_:        _n_:      </span>
<span class="st">  _o_:        _p_:peep dired        _r_:       _s_:       _t_: toggles          _u_:       </span>
<span class="st">  _v_:        _w_:        _x_:       _y_:       _z_: </span>
<span class="st">  _q_: </span>

<span class="st">  R: rename s: sort</span>
<span class="st">  &quot;</span>



  (<span class="st">&quot;&lt;f2&gt;&quot;</span> dired )
  (<span class="st">&quot;a&quot;</span> <span class="kw">nil</span> )
  (<span class="st">&quot;b&quot;</span>  <span class="kw">nil</span>  )
  (<span class="st">&quot;c&quot;</span>  hydra-dired-configs/body )
  (<span class="st">&quot;d&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;e&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;f&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;g&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;h&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;i&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;j&quot;</span>  dired-jump )
  (<span class="st">&quot;k&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;l&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;m&quot;</span>  diredp-mark/unmark-extension )
  (<span class="st">&quot;n&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;o&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;p&quot;</span>  peep-dired )
  (<span class="st">&quot;r&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;s&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;t&quot;</span>  hydra-dired-configs/body )
  (<span class="st">&quot;u&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;v&quot;</span>  <span class="kw">nil</span>)
  (<span class="st">&quot;w&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;x&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;y&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;z&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;q&quot;</span>  <span class="kw">nil</span> )

  ))</code></pre></div>
<h4>dired togles</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-dired-configs (:color blue )
       <span class="st">&quot;</span>
<span class="st">       &quot;</span>
      (<span class="st">&quot;o&quot;</span> dired-omit-mode  <span class="st">&quot;dired omit&quot;</span> ) 
      (<span class="st">&quot;w&quot;</span> wdired-change-to-wdired-mode  <span class="st">&quot;wdired&quot;</span> ) 
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
  )</code></pre></div>
<p>dired-omit-mode</p>
<h3>search/spelling/editing (F3)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
  (kbd <span class="st">&quot;&lt;f3&gt;&quot;</span>)
  (defhydra hydra-spell  (:color blue :hint <span class="kw">nil</span>)

  <span class="st">&quot;</span>
<span class="st">  _&lt;f3&gt;_: check and add</span>
<span class="st">  _a_:        _b_:                _c_:        _d_:       _e_: Edit          _f_:                             _g_:  </span>
<span class="st">  _h_: highlight-symbol          _i_: ispell         _j_: next hs        _k_: prev hs       _l_:           _m_:check next higlighted        _n_:goto next error      </span>
<span class="st">  _o_:        _p_:                 _r_:       _s_:       _t_:           _u_:       </span>
<span class="st">  _v_:        _w_:                 _x_:       _y_:       _z_: </span>
<span class="st">  _q_: _H_: highlight-symb remove </span>
<span class="st">  &quot;</span>
  (<span class="st">&quot;&lt;f3&gt;&quot;</span> endless/ispell-word-then-abbrev )
  (<span class="st">&quot;a&quot;</span> <span class="kw">nil</span> )
  (<span class="st">&quot;b&quot;</span>  <span class="kw">nil</span>  )
  (<span class="st">&quot;c&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;d&quot;</span> <span class="kw">nil</span> )
  (<span class="st">&quot;e&quot;</span>  hydra-editing/body )
  (<span class="st">&quot;f&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;g&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;h&quot;</span>  highlight-symbol )
  (<span class="st">&quot;H&quot;</span>  highlight-symbol-remove-all )
  (<span class="st">&quot;i&quot;</span>  ispell )
  (<span class="st">&quot;j&quot;</span>  highlight-symbol-next  :color red )
  (<span class="st">&quot;k&quot;</span>  highlight-symbol-prev  :color red )
  (<span class="st">&quot;l&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;m&quot;</span>  flyspell-check-next-highlighted-word )
  (<span class="st">&quot;n&quot;</span>  flyspell-goto-next-error )
  (<span class="st">&quot;o&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;p&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;r&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;s&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;t&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;u&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;v&quot;</span>  <span class="kw">nil</span>)
  (<span class="st">&quot;w&quot;</span>  ispell-word )
  (<span class="st">&quot;x&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;y&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;z&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;q&quot;</span>  <span class="kw">nil</span> )

  ))</code></pre></div>
<h3>code blocks (F4)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">     (global-set-key
      (kbd <span class="st">&quot;&lt;f4&gt;&quot;</span>)
      (defhydra hydra-org-blocks (:color blue :hint <span class="kw">nil</span>)
      <span class="st">&quot;</span>
<span class="st">  _&lt;f4&gt;_ wrap lisp  _r_ wrap R  _b_ wrap Bash</span>
<span class="st">  _c_enter  _q_uote    _L_aTeX:   _z_: wrap menu</span>
<span class="st">  _l_atex   _e_xample  _i_ndex:</span>
<span class="st">  _a_scii   _v_erse    _I_NCLUDE:</span>
<span class="st">  _s_rc     ^ ^        _H_TML:</span>
<span class="st">  _h_tml    ^ ^       _A_SCII:</span>
<span class="st">  &quot;</span>
      (<span class="st">&quot;z&quot;</span>    org-dp-wrap-in-block  )
      (<span class="st">&quot;&lt;f4&gt;&quot;</span> z/hydra-wrap-elisp )
      (<span class="st">&quot;r&quot;</span>    z/hydra-wrap-R  )
      (<span class="st">&quot;b&quot;</span>   z/hydra-wrap-bash )
      (<span class="st">&quot;l&quot;</span>   z/hydra-wrap-latex )
      (<span class="st">&quot;s&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;s&quot;</span>))
      (<span class="st">&quot;e&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;e&quot;</span>))
      (<span class="st">&quot;q&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;q&quot;</span>))
      (<span class="st">&quot;v&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;v&quot;</span>))
      (<span class="st">&quot;c&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;c&quot;</span>))
      (<span class="st">&quot;L&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;l&quot;</span>))
      (<span class="st">&quot;h&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;h&quot;</span>))
      (<span class="st">&quot;a&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;a&quot;</span>))
      (<span class="st">&quot;L&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;L&quot;</span>))
      (<span class="st">&quot;i&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;i&quot;</span>))
      (<span class="st">&quot;I&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;I&quot;</span>))
      (<span class="st">&quot;H&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;H&quot;</span>))
      (<span class="st">&quot;A&quot;</span> (pl/hot-expand <span class="st">&quot;&lt;A&quot;</span>))
      (<span class="st">&quot;&lt;&quot;</span> self-insert-command <span class="st">&quot;ins&quot;</span>)
      (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))
</code></pre></div>
<h3>mu4e (F5)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
     (kbd <span class="st">&quot;&lt;f5&gt;&quot;</span>)
  (defhydra hydra-mu4e (:color blue :hint <span class="kw">nil</span>)
    <span class="st">&quot;</span>
<span class="st">  &quot;</span>
    (<span class="st">&quot;&lt;f5&gt;&quot;</span>     mu4e            <span class="st">&quot;start mu4e&quot;</span>)
    (<span class="st">&quot;u&quot;</span>     mu4e-maildirs-extension-force-update           <span class="st">&quot;Send/Recive&quot;</span>)
    (<span class="st">&quot;o&quot;</span>     mu4e-headers-change-sorting            <span class="st">&quot;sort&quot;</span>)
    (<span class="st">&quot;o&quot;</span>     mu4e-headers-change-sorting            <span class="st">&quot;sort&quot;</span>)
      (<span class="st">&quot;q&quot;</span>     <span class="kw">nil</span>                          <span class="st">&quot;cancel&quot;</span> )
  ))</code></pre></div>
<h3>latex/bib (F6)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  (global-set-key
     (kbd <span class="st">&quot;&lt;f6&gt;&quot;</span>)
  (defhydra hydra-bib  (:color blue :hint <span class="kw">nil</span>)

  <span class="st">&quot;</span>
<span class="st">  _&lt;f6&gt;_: helm bibtex</span>
<span class="st">  _a_:         _b_:              _c_:clean bib       _d_: doi add                _e_: ebib           _f_:        _g_:  </span>
<span class="st">  _h_:        _i_:              _j_:                _k_: kloog pub       _l_:                _m_:        _n_: new bib     </span>
<span class="st">  _o_:        _p_: kloog prep   _r_: resume         _s_:sort             _t_:                _u_:        _v_:validate </span>
<span class="st">  _w_:        _x_:              _y_: yank           _z_: </span>
<span class="st">  _q_:        _V_: check duplictae keys _K_: kloog_ALL</span>

<span class="st">  &quot;</span>

  (<span class="st">&quot;&lt;f6&gt;&quot;</span> helm-bibtex )
  (<span class="st">&quot;a&quot;</span> <span class="kw">nil</span> )
  (<span class="st">&quot;b&quot;</span>  <span class="kw">nil</span>  )
  (<span class="st">&quot;c&quot;</span>  org-ref-clean-bibtex-entry )
  (<span class="st">&quot;d&quot;</span>  doi-utils-insert-bibtex-entry-from-doi )
  (<span class="st">&quot;e&quot;</span>  ebib )
  (<span class="st">&quot;f&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;g&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;h&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;i&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;j&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;k&quot;</span>  helm-bibtex-ikloog-publications )
  (<span class="st">&quot;K&quot;</span>  helm-bibtex-ikloog-publications-all )
  (<span class="st">&quot;l&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;m&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;n&quot;</span>  org-bibtex-create )
  (<span class="st">&quot;o&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;p&quot;</span>  helm-bibtex-ikloog-prep )
  (<span class="st">&quot;r&quot;</span>  helm-resume )
  (<span class="st">&quot;s&quot;</span>  bibtex-sort-buffer )
  (<span class="st">&quot;t&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;u&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;v&quot;</span>  bibtex-validate)
  (<span class="st">&quot;V&quot;</span>  bibtex-validate-globally) <span class="co">; check for dup keys</span>
  (<span class="st">&quot;w&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;x&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;y&quot;</span>  org-bibtex-yank )
  (<span class="st">&quot;z&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;q&quot;</span>  <span class="kw">nil</span> )

  ))

</code></pre></div>
<h3>Helm (F7)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
     (kbd <span class="st">&quot;&lt;f7&gt;&quot;</span>)
  (defhydra hydra-helm (:color blue :hint <span class="kw">nil</span>)
    <span class="st">&quot;</span>
<span class="st">  helm-mini _&lt;f7&gt;_  // h_e_lm extra</span>
<span class="st">  _k_ill ring</span>
<span class="st">  _m_ark ring</span>
<span class="st">  _r_ecents</span>
<span class="st">  _l_ocate</span>
<span class="st">  _r_ecents</span>
<span class="st">  &quot;</span>
    (<span class="st">&quot;&lt;f7&gt;&quot;</span>     helm-mini            <span class="st">&quot;helm-mini&quot;</span>)
    (<span class="st">&quot;e&quot;</span>     hydra-helm-extra/body            <span class="st">&quot;extra helm commands&quot;</span>)
    (<span class="st">&quot;k&quot;</span>     helm-show-kill-ring            <span class="st">&quot;killring&quot;</span>)
    (<span class="st">&quot;m&quot;</span>     helm-mark-ring            <span class="st">&quot;markring&quot;</span>)
    (<span class="st">&quot;r&quot;</span>     helm-recentf            <span class="st">&quot;recents&quot;</span>)
    (<span class="st">&quot;l&quot;</span>     helm-locate            <span class="st">&quot;locate&quot;</span>)
    (<span class="st">&quot;f&quot;</span>     helm-find-files            <span class="st">&quot;find files&quot;</span>)
    (<span class="st">&quot;a&quot;</span>     helm-apropos            <span class="st">&quot;apropos&quot;</span>)
    (<span class="st">&quot;c&quot;</span>     helm-occur            <span class="st">&quot;occur&quot;</span>)
    (<span class="st">&quot;b&quot;</span>     helm-buffer-list            <span class="st">&quot;buffers&quot;</span>)
    (<span class="st">&quot;o&quot;</span>     helm-my-org            <span class="st">&quot;search org file&quot;</span>)
      (<span class="st">&quot;q&quot;</span>     <span class="kw">nil</span>                          <span class="st">&quot;cancel&quot;</span> )
  ))</code></pre></div>
<p>(global-set-key (kbd &quot;C-c h&quot;) 'helm-command-prefix)</p>
<h4>extra helm</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-helm-extra (:color blue :hint <span class="kw">nil</span> )
         <span class="st">&quot;</span>
<span class="st">   helm meta-_x_ </span>
<span class="st">  helm _t_op</span>
<span class="st">         &quot;</span>
         (<span class="st">&quot;x&quot;</span> helm-M-x  <span class="st">&quot;helm m-x&quot;</span> ) 
         (<span class="st">&quot;t&quot;</span>     helm-top            <span class="st">&quot;helm top&quot;</span>) 
         (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
    )
</code></pre></div>
<h3>bookmark hydra (F8)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
     (kbd <span class="st">&quot;&lt;f8&gt;&quot;</span>)
     (defhydra hydra-bookmark   (:color blue)
  <span class="st">&quot;</span>
<span class="st">  _&lt;f8&gt;_: open BK     _m_: BK menu                  _r_:helm-recents         _b_: add BK       _f_: BK+ filter     _c_: chrome BK   _s_: Save BK </span>
<span class="st">  &quot;</span>


       (<span class="st">&quot;&lt;f8&gt;&quot;</span> helm-bookmarks  )
       (<span class="st">&quot;m&quot;</span> bookmark-bmenu-list )
       (<span class="st">&quot;r&quot;</span> helm-recentf  )
       (<span class="st">&quot;b&quot;</span> bmkp-bookmark-set-confirm-overwrite )
       (<span class="st">&quot;f&quot;</span> bmkp-bmenu-filter-tags-incrementally )
       (<span class="st">&quot;c&quot;</span> helm-chrome-bookmarks )
       (<span class="st">&quot;s&quot;</span> bookmark-save  )
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))</code></pre></div>
<h3>org (F9)</h3>
<h4>org main</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  (global-set-key
     (kbd <span class="st">&quot;&lt;f9&gt;&quot;</span>)
  (defhydra hydra-org (:color blue :hint <span class="kw">nil</span>)

  <span class="st">&quot;</span>
<span class="st">  _&lt;f9&gt;_ headline search</span>
<span class="st">  _a_: sort headers     _b_:                        _c_: column view (quit with C)   _d_: Screenshot (del with D)  _E_: export              _f_: food menu  _g_: Set tags</span>
<span class="st">  _h_: insert header    _i_: toogle images          _j_:                             _k_:                          _l_: Links menu          _m_:            _n_:swish-helm      </span>
<span class="st">  _o_:                  _p_: ex pdf                       _r_: Refile (prefix with R)      _s_: Time menu                _t_: Todo select         _u_: goto top level       </span>
<span class="st">  _v_: org-exe          _w_: narrow/widen           _x_: Archive                     _y_:                          _z_:                 </span>
<span class="st">  _-_ convert lowe level     _=_ convert same level    _</span>\\<span class="st">_:  table  </span>
<span class="st">  _q_: </span>

<span class="st">  &quot;</span>

  (<span class="st">&quot;&lt;f9&gt;&quot;</span> helm-org-headlines )
  (<span class="st">&quot;a&quot;</span>  org-sort )
  (<span class="st">&quot;b&quot;</span>  <span class="kw">nil</span>  )
  (<span class="st">&quot;c&quot;</span>  org-columns )
  (<span class="st">&quot;C&quot;</span>  org-columns-quit )
  (<span class="st">&quot;d&quot;</span>  org-download-screenshot )
  (<span class="st">&quot;D&quot;</span>  org-download-delete )
  (<span class="st">&quot;E&quot;</span>  org-export-dispatch )
  (<span class="st">&quot;e p&quot;</span>  org-latex-export-to-pdf )
  (<span class="st">&quot;f&quot;</span>  hydra-org-food/body )
  (<span class="st">&quot;g&quot;</span>  org-set-tags )
  (<span class="st">&quot;h&quot;</span>  org-insert-heading )
  (<span class="st">&quot;i&quot;</span>  org-toggle-inline-images )
  (<span class="st">&quot;j&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;k&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;l&quot;</span>  hydra-org-links/body )
  (<span class="st">&quot;m&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;n&quot;</span>  helm-swish-e )
  (<span class="st">&quot;o&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;p&quot;</span>  org-latex-export-to-pdf )
  (<span class="st">&quot;r&quot;</span>  org-refile )
  (<span class="st">&quot;R&quot;</span>  z/prefix-org-refile )
  (<span class="st">&quot;s&quot;</span>  hydra-org-time/body )
  (<span class="st">&quot;t&quot;</span>  org-todo )
  (<span class="st">&quot;u&quot;</span>  outline-up-heading )
  (<span class="st">&quot;v&quot;</span>  org-babel-execute-subtree)
  (<span class="st">&quot;w&quot;</span>  z/narrow-or-widen-dwim )
  (<span class="st">&quot;x&quot;</span>  org-archive-subtree )
  (<span class="st">&quot;-&quot;</span>  org-toggle-heading )
  (<span class="st">&quot;=&quot;</span>  z/org-convert-header-samelevel )
  (<span class="st">&quot;</span>\\<span class="st">&quot;</span>  hydra-org-table/body )
  (<span class="st">&quot;y&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;z&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;q&quot;</span>  <span class="kw">nil</span> )

  ))</code></pre></div>
<h4>TODO extra org links commands</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-org-links (:color blue )
       <span class="st">&quot;</span>
<span class="st">       &quot;</span>
      (<span class="st">&quot;l&quot;</span> org-store-link  <span class="st">&quot;create and copy link&quot;</span>)
      (<span class="st">&quot;i&quot;</span> org-insert-link   <span class="st">&quot;insert (or edit if on link)&quot;</span> ) 
      (<span class="st">&quot;d&quot;</span> org-id-create <span class="st">&quot;just create Id&quot;</span>)
      (<span class="st">&quot;c&quot;</span> org-id-copy  <span class="st">&quot;copy(and create) to killring&quot;</span> ) 
      (<span class="st">&quot;s&quot;</span> org-id-store-link  <span class="st">&quot;store org-id&quot;</span> ) 
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
  )</code></pre></div>
<h4>extra table commands</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-org-table  (:color red )
       <span class="st">&quot;</span>
<span class="st">       &quot;</span>
      (<span class="st">&quot;i&quot;</span> org-table-insert-row  <span class="st">&quot;insert row&quot;</span> :color blue) 
      (<span class="st">&quot;y&quot;</span> org-table-copy-region  <span class="st">&quot;copy&quot;</span> :color blue) 
      (<span class="st">&quot;d&quot;</span> org-table-cut-region  <span class="st">&quot;cut&quot;</span> ) 
      (<span class="st">&quot;p&quot;</span> org-table-paste-rectangle  <span class="st">&quot;paste&quot;</span> :color red ) 
      (<span class="st">&quot;c&quot;</span> org-table-create-or-convert-from-region  <span class="st">&quot;convert&quot;</span> ) 
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
  )</code></pre></div>
<h4>org cooking</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">   (defhydra hydra-org-food ()
     <span class="st">&quot;org-food &quot;</span>
     (<span class="st">&quot;b&quot;</span> cooking-sparse-tree-breakfeast <span class="st">&quot;breakfeast_view&quot;</span> :color blue)
     (<span class="st">&quot;m&quot;</span> cooking-sparse-tree-main <span class="st">&quot;main_view&quot;</span> :color blue)
     (<span class="st">&quot;r&quot;</span> recipe-template <span class="st">&quot;recipe-template&quot;</span> :color blue)
     (<span class="st">&quot;t&quot;</span> travel-template  <span class="st">&quot;travel-template&quot;</span> :color blue)
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)
  )</code></pre></div>
<h4>org editing</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
   (kbd <span class="st">&quot;C-M-o&quot;</span>)
   (defhydra hydra-org-edit (:color blue)
     <span class="st">&quot;orgmode editing &quot;</span>
     (<span class="st">&quot;t&quot;</span> org-insert-todo-heading-respect-content <span class="st">&quot;insert TODO&quot;</span> )
     (<span class="st">&quot;d&quot;</span> org-cut-subtree  <span class="st">&quot;org cut&quot;</span> )
     (<span class="st">&quot;y&quot;</span> org-copy-subtree <span class="st">&quot;org copy&quot;</span> )
     (<span class="st">&quot;p&quot;</span> org-paste-subtree  <span class="st">&quot;org paste&quot;</span> )
     (<span class="st">&quot;h&quot;</span> org-set-line-headline <span class="st">&quot;line to headline&quot;</span> )
     (<span class="st">&quot;c&quot;</span> org-set-line-checkbox  <span class="st">&quot;line to checkbox&quot;</span> )
     (<span class="st">&quot;;&quot;</span> z/comment-org-in-src-block  <span class="st">&quot;line to checkbox&quot;</span> )
     (<span class="st">&quot;s&quot;</span> hydra-org-time/body <span class="st">&quot;time stamps&quot;</span> )
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))
</code></pre></div>
<h4>TODO org agenda views</h4>
<h3>agenda (F10)</h3>
<h4>org agenda main</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
     (kbd <span class="st">&quot;&lt;f10&gt;&quot;</span>)
  (defhydra hydra-org-agenda (:color blue )
  <span class="st">&quot;</span>
<span class="st">  &quot;</span>
      (<span class="st">&quot;j&quot;</span>          <span class="st">&quot;org-agenda-goto-date &quot;</span>)
      (<span class="st">&quot;F&quot;</span>        <span class="st">&quot;go forward 1w &quot;</span>)
      (<span class="st">&quot;b&quot;</span>    org-agenda-earlier    <span class="st">&quot;go back 1w &quot;</span>)
      (<span class="st">&quot;TAB&quot;</span>          <span class="st">&quot;Today &quot;</span>)
      (<span class="st">&quot;t&quot;</span>    org-agenda-todo      <span class="st">&quot;change todo&quot;</span>)
      (<span class="st">&quot;k&quot;</span>    org-agenda-kill      <span class="st">&quot;delete C-k&quot;</span>)
      (<span class="st">&quot;x&quot;</span>   org-agenda-archive      <span class="st">&quot;archive &quot;</span>)
      (<span class="st">&quot;W&quot;</span>   org-agenda-refile      <span class="st">&quot;refile &quot;</span>)
      (<span class="st">&quot;:&quot;</span>   org-agenda-set-tags      <span class="st">&quot;set tags &quot;</span>)
      (<span class="st">&quot;,&quot;</span>   org-agenda-priority      <span class="st">&quot;priority (S-UP/S-Dn to change as well &quot;</span>)
      (<span class="st">&quot;S&quot;</span>   org-agenda-schedule      <span class="st">&quot;schedule task &quot;</span>)
      (<span class="st">&quot;d&quot;</span>   org-agenda-deadline      <span class="st">&quot;deadline task &quot;</span>)
      (<span class="st">&quot;D&quot;</span>   org-agenda-do-date-later      <span class="st">&quot;+1 delay task (S+right//S-left 1 day early) &quot;</span>)
      (<span class="st">&quot;&gt;&quot;</span>   org-agenda-date-prompt      <span class="st">&quot;prompt date &quot;</span>)
      (<span class="st">&quot;B&quot;</span>   org-agenda-bulk-action      <span class="st">&quot;Bulk action (marking done in standard Emacs syntax &quot;</span>)
       (<span class="st">&quot;q&quot;</span>     <span class="kw">nil</span>                          <span class="st">&quot;cancel&quot;</span> )
  ))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  (global-set-key
  (kbd <span class="st">&quot;&lt;f10&gt;&quot;</span>)
  (defhydra hydra-org-agenda  (:color blue :hint <span class="kw">nil</span>)

  <span class="st">&quot;</span>
<span class="st">  _&lt;f10&gt;_: calendar </span>
<span class="st">  _a_: Allan               _b_:                    _c_: cook       _d_:         _e_:           _f_:           _g_:  </span>
<span class="st">  _h_:                     _i_: agenda menu        _j_: Joel       _k_:         _l_:           _m_:           _n_:      </span>
<span class="st">  _o_:                     _p_:                    _r_:            _s_:         _t_:           _u_:       </span>
<span class="st">  _v_:                     _w_:                    _x_:            _y_:         _z_: </span>
<span class="st">  _q_: </span>

<span class="st">  C-c a &gt;&gt; open org agenda menu</span>

<span class="st">  &quot;</span>


  (<span class="st">&quot;&lt;f10&gt;&quot;</span> z/org-agenda-calendar    )
  (<span class="st">&quot;a&quot;</span> z/org-agenda-allan )
  (<span class="st">&quot;b&quot;</span>  <span class="kw">nil</span>  )
  (<span class="st">&quot;c&quot;</span>  z/org-agenda-cook )
  (<span class="st">&quot;d&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;e&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;f&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;g&quot;</span>  org-agenda-goto-date )
  (<span class="st">&quot;h&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;i&quot;</span>  org-agenda )
  (<span class="st">&quot;j&quot;</span>  z/org-agenda-joel )
  (<span class="st">&quot;k&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;l&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;m&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;n&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;o&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;p&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;r&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;s&quot;</span>  z/org-agenda-search )
  (<span class="st">&quot;t&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;u&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;v&quot;</span>  <span class="kw">nil</span>)
  (<span class="st">&quot;w&quot;</span>  z/org-agenda-work )
  (<span class="st">&quot;x&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;y&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;z&quot;</span>  <span class="kw">nil</span> )
  (<span class="st">&quot;q&quot;</span>  <span class="kw">nil</span> )

  ))</code></pre></div>
<h4>orgmode time functions</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">   (defhydra hydra-org-time (:color blue)
     <span class="st">&quot;time command&quot;</span>
     (<span class="st">&quot;s&quot;</span>  org-timestamp-select <span class="st">&quot;select time stamp&quot;</span>)
     (<span class="st">&quot;n&quot;</span> org-timestamp-now  <span class="st">&quot;timestamp current&quot;</span> )
     (<span class="st">&quot;i&quot;</span> z-insert-date <span class="st">&quot;insert current data&quot;</span>)  
     (<span class="st">&quot;d&quot;</span> org-deadline  <span class="st">&quot;set deadline&quot;</span>)  
     (<span class="st">&quot;i&quot;</span> org-schedule  <span class="st">&quot;set schedule&quot;</span>)  
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)
  )</code></pre></div>
<h3>hydra spliter</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">; (require &#39;hydra-examples)</span>
  <span class="co">; (hydra-create &quot;C-M-o&quot; hydra-example-move-window-splitter)</span>

  <span class="co">; (hydra-create &quot;C-M-o&quot;</span>
  <span class="co">;   &#39;((&quot;h&quot; hydra-move-splitter-left)</span>
  <span class="co">;     (&quot;j&quot; hydra-move-splitter-down)</span>
  <span class="co">;     (&quot;k&quot; hydra-move-splitter-up)</span>
  <span class="co">;     (&quot;l&quot; hydra-move-splitter-right)))</span></code></pre></div>
<h3>yas (C-M-y)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
   (kbd <span class="st">&quot;C-M-y&quot;</span>)
   (defhydra hydra-yas ()
     <span class="st">&quot;yas command &quot;</span>
     (<span class="st">&quot;a&quot;</span> yas-activate-extra-mode <span class="st">&quot;enable Emacs mode for yas&quot;</span> :color blue)
     (<span class="st">&quot;n&quot;</span> yas-new-snippet <span class="st">&quot;add new snippet&quot;</span> :color blue)
     (<span class="st">&quot;v&quot;</span> yas-visit-snippet-file <span class="st">&quot;visit&quot;</span> :color blue)
     (<span class="st">&quot;i&quot;</span> yas-insert-snippet <span class="st">&quot;insert_point&quot;</span> :color blue)
     (<span class="st">&quot;r&quot;</span> yas-reload-all  <span class="st">&quot;reload&quot;</span> :color blue)
     (<span class="st">&quot;t&quot;</span> yas-tryout-snippet  <span class="st">&quot;try snipet&quot;</span> :color blue)
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))</code></pre></div>
<h3>Editing (C-M-e)</h3>
<h4>main editing command</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key                         
   (kbd <span class="st">&quot;C-M-e&quot;</span>)
   (defhydra hydra-editing (:color blue)
     <span class="st">&quot;editing command&quot;</span>
     (<span class="st">&quot;e&quot;</span> hydra-edit-extra/body  <span class="st">&quot;Extra editing commands&quot;</span>)
     (<span class="st">&quot;&lt;up&gt;&quot;</span> drag-stuff-up  <span class="st">&quot;marked up&quot;</span> :color red)
     (<span class="st">&quot;&lt;down&gt;&quot;</span> drag-stuff-down  <span class="st">&quot;marked down&quot;</span> :color red)
     <span class="co">;(&quot;&lt;left&gt;&quot; drag-stuff-left  &quot;marked left&quot; :color red)</span>
     <span class="co">;(&quot;&lt;right&gt;&quot; drag-stuff-right &quot;marked right&quot; :color red)</span>
     (<span class="st">&quot;p&quot;</span> duplicate-current-line-or-region  <span class="st">&quot;duplicate&quot;</span> :color red)
     (<span class="st">&quot;;&quot;</span>  hydra-commenting/body  <span class="st">&quot;comment!&quot;</span> )
     (<span class="st">&quot;i&quot;</span>  hydra-editing-insert/body  <span class="st">&quot;insert&quot;</span> )   
     (<span class="st">&quot;f&quot;</span> flush-blank-line  <span class="st">&quot;flush blank&quot;</span> )
     (<span class="st">&quot;u&quot;</span> z-fix-characters <span class="st">&quot;fix unicode&quot;</span> )
     (<span class="st">&quot;g&quot;</span> google-search <span class="st">&quot;google searh selected&quot;</span> )
     (<span class="st">&quot;c&quot;</span> z/comment-box <span class="st">&quot;comment box&quot;</span> )
     (<span class="st">&quot;u&quot;</span> upcase-region  <span class="st">&quot;upcase &quot;</span> )
     (<span class="st">&quot;d&quot;</span> downcase-region  <span class="st">&quot;downcase &quot;</span> )
     (<span class="st">&quot;R&quot;</span> revert-buffer  <span class="st">&quot;revert buffer before changes&quot;</span> ) 
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))
</code></pre></div>
<h4>extra editing commands</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-edit-extra (:color blue :hint <span class="kw">nil</span> )
       <span class="st">&quot;</span>
<span class="st">  fix _u_nicode issue  // u_p_case region // _d_owncase region </span>
<span class="st">       &quot;</span>
       (<span class="st">&quot;u&quot;</span> z-fix-characters  <span class="st">&quot;fix unicode&quot;</span> ) 
       (<span class="st">&quot;p&quot;</span> upcase-region  <span class="st">&quot;upcase region&quot;</span> ) 
       (<span class="st">&quot;d&quot;</span> downcase-region  <span class="st">&quot;downcase region&quot;</span> ) 
       (<span class="st">&quot;f&quot;</span> toggle-fill-unfill  <span class="st">&quot;fill/unfill&quot;</span>)
       (<span class="st">&quot;r&quot;</span> z-edit-file-as-root  <span class="st">&quot;edit as root&quot;</span>)
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
       (<span class="st">&quot;1&quot;</span> z/regex-delete-numeric <span class="st">&quot;delete numbers&quot;</span>)
  )
</code></pre></div>
<h4>commenting sub hydra</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-commenting (:color blue  )
       <span class="st">&quot;</span>
<span class="st">  comment  _;_ // comment _t_o line // comment para_g_raph // co_p_y-paste-comment </span>
<span class="st">  comment _e_macs function  // copy-paste-comment-function _r_  </span>

<span class="st">       &quot;</span>
       (<span class="st">&quot;;&quot;</span> evilnc-comment-or-uncomment-lines  <span class="st">&quot;comment&quot;</span> ) 
       (<span class="st">&quot;t&quot;</span> evilnc-quick-comment-or-uncomment-to-the-line   <span class="st">&quot;c 2 line&quot;</span>  <span class="kw">nil</span> ) 
       (<span class="st">&quot;g&quot;</span> evilnc-comment-or-uncomment-paragraphs  <span class="st">&quot;c paragraph&quot;</span>  <span class="kw">nil</span> ) 
       (<span class="st">&quot;p&quot;</span> evilnc-copy-and-comment-lines  <span class="st">&quot;c,c,p&quot;</span>  <span class="kw">nil</span> ) 
       (<span class="st">&quot;e&quot;</span> z/comment-line  <span class="st">&quot;comment-line-emacsfun&quot;</span> :color blue)
       (<span class="st">&quot;r&quot;</span> z/copy-comment-paste  <span class="st">&quot;c,c,p-fun &quot;</span> :color blue)
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
  )
</code></pre></div>
<h4>TODO insert Unicode</h4>
<p>add the org faces macros here (%Tip%, <span class="math inline">\(Note\)</span> etc)</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-editing-insert (:color blue)
    <span class="st">&quot;unicode&quot;</span>
    (<span class="st">&quot;k&quot;</span>    z/insert-keyboth  <span class="st">&quot;【】&quot;</span>) 
    (<span class="st">&quot;b&quot;</span>     z/insert-bashscript  <span class="st">&quot;#!&quot;</span>) 
    (<span class="st">&quot;‣&quot;</span>     z/insert-play  <span class="st">&quot; ‣&quot;</span>) 
    (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span> <span class="kw">nil</span>)
  )</code></pre></div>
<h3>password-store (C-M-p)</h3>
<h4>main editing command</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key                         
   (kbd <span class="st">&quot;C-M-p&quot;</span>)
   (defhydra hydra-password-store (:color blue)
     <span class="st">&quot;password store command&quot;</span>
     (<span class="st">&quot;e&quot;</span> password-store-edit   <span class="st">&quot;edit pass&quot;</span> )
     (<span class="st">&quot;d&quot;</span> password-store-remove   <span class="st">&quot;delete pass&quot;</span> )
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))
</code></pre></div>
<h3>ace (C-M;)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
   (kbd <span class="st">&quot;C-M-;&quot;</span>)
   (defhydra hydra-avi ()
     <span class="st">&quot;yas command &quot;</span>
     (<span class="st">&quot;g&quot;</span> avi-goto-char<span class="dv">-2</span> <span class="st">&quot;avi-goto-char-2&quot;</span> :color blue)
     (<span class="st">&quot;c&quot;</span> avi-goto-char <span class="st">&quot;avi-goto-char&quot;</span> :color blue)
     (<span class="st">&quot;l&quot;</span> avi-goto-line <span class="st">&quot;avi-goto-line&quot;</span> :color blue)
     (<span class="st">&quot;4&quot;</span> avi-copy-line  <span class="st">&quot;avi-copy-line&quot;</span> :color blue)
     (<span class="st">&quot;3&quot;</span> avi-move-line  <span class="st">&quot;avi-move-line&quot;</span> :color blue)
     (<span class="st">&quot;r&quot;</span> avi-copy-region  <span class="st">&quot;avi-copy-region&quot;</span> :color blue)
     (<span class="st">&quot;a&quot;</span> avi-goto-word<span class="dv">-1</span>  <span class="st">&quot;avi-goto-word-1&quot;</span> :color blue)
     (<span class="st">&quot;v&quot;</span> avi-goto-word<span class="dv">-0</span>  <span class="st">&quot;avi-goto-word-0&quot;</span> :color blue)
     (<span class="st">&quot;z&quot;</span> ace-jump-zap  <span class="st">&quot;zap text&quot;</span> :color blue)
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))</code></pre></div>
<h3>buffer/window (F11)</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
     (kbd <span class="st">&quot;&lt;f11&gt;&quot;</span>)
     (defhydra hydra-buffer  (:color blue)
       <span class="st">&quot;buffer commands &quot;</span>
       (<span class="st">&quot;s&quot;</span> save-buffer <span class="st">&quot;save buffer&quot;</span>  )
       (<span class="st">&quot;a&quot;</span> write-file  <span class="st">&quot;save as..&quot;</span>  )
       (<span class="st">&quot;x&quot;</span> kill-this-buffer <span class="st">&quot;kill buffer&quot;</span>  )
       (<span class="st">&quot;o&quot;</span> z-kill-other-buffers <span class="st">&quot;kill all but current&quot;</span> )
       (<span class="st">&quot;i&quot;</span> kill-buffer  <span class="st">&quot;ido-kill&quot;</span> )
       (<span class="st">&quot;c&quot;</span> z-save-buffer-close-window <span class="st">&quot;save and close&quot;</span>  )
       (<span class="st">&quot;k&quot;</span> kill-buffer <span class="st">&quot;helm kill buffer&quot;</span> )
       (<span class="st">&quot;n&quot;</span> next-user-buffer  <span class="st">&quot;next buffer&quot;</span> )
       (<span class="st">&quot;p&quot;</span> previous-user-buffer <span class="st">&quot;prev buffer&quot;</span>  )
       (<span class="st">&quot;N&quot;</span> next-emacs-buffer <span class="st">&quot;next Emacs  buffer&quot;</span>  )
       (<span class="st">&quot;P&quot;</span> previous-emacs-buffer <span class="st">&quot;prev emacs buffer&quot;</span>  )
       (<span class="st">&quot;&lt;f11&gt;&quot;</span> switch-to-previous-buffer  <span class="st">&quot;last buffer&quot;</span>  )
       (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))
</code></pre></div>
<h3>windows (F12)</h3>
<p>quick switch other windw</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key (kbd <span class="st">&quot;M-1&quot;</span>) &#39;other-window)
</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key
   (kbd <span class="st">&quot;&lt;f12&gt;&quot;</span>)
   (defhydra hydra-window (:color blue)
     <span class="st">&quot;window&quot;</span>
     (<span class="st">&quot;h&quot;</span> windmove-left)
     (<span class="st">&quot;j&quot;</span> windmove-down)
     (<span class="st">&quot;k&quot;</span> windmove-up)
     (<span class="st">&quot;l&quot;</span> windmove-right)
     (<span class="st">&quot;a&quot;</span> (<span class="kw">lambda</span> ()
      (interactive)
      (ace-window <span class="dv">1</span>)
      (add-hook &#39;ace-window-end-once-hook
            &#39;hydra-window/body)
      (<span class="kw">throw</span> &#39;hydra-disable <span class="kw">t</span>))
    <span class="st">&quot;ace&quot;</span>)
     (<span class="st">&quot;=&quot;</span> (<span class="kw">lambda</span> ()
      (interactive)
      (split-window-right)
      (windmove-right))
    <span class="st">&quot;vert&quot;</span>)
     (<span class="st">&quot;-&quot;</span> (<span class="kw">lambda</span> ()
      (interactive)
      (split-window-below)
      (windmove-down))
    <span class="st">&quot;horz&quot;</span>)
     (<span class="st">&quot;t&quot;</span> transpose-windows  <span class="st">&quot;transpose&quot;</span>)
     (<span class="st">&quot;&lt;f12&gt;&quot;</span> other-window <span class="st">&quot;other-window&quot;</span>)
     (<span class="st">&quot;x&quot;</span> delete-window <span class="st">&quot;delete window&quot;</span>)
     (<span class="st">&quot;x&quot;</span> delete-other-windows <span class="st">&quot;delete all other  windows&quot;</span>)
     (<span class="st">&quot;i&quot;</span> ace-maximize-window <span class="st">&quot;ace-one&quot;</span> )
     (<span class="st">&quot;r&quot;</span> resize-window <span class="st">&quot;resize&quot;</span> )
     (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;cancel&quot;</span>)))
</code></pre></div>
<h3>TODO movment</h3>
<p>pop-global-mark this will move you to prev position</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defhydra hydra-goto-line (:pre (<span class="kw">progn</span>
                  (linum-mode <span class="dv">1</span>))
               :post (<span class="kw">progn</span>
                   (linum-mode -<span class="dv">1</span>))
               :color blue)
    <span class="st">&quot;goto&quot;</span>
    (<span class="st">&quot;g&quot;</span> goto-line <span class="st">&quot;line&quot;</span>)
    (<span class="st">&quot;c&quot;</span> goto-char <span class="st">&quot;char&quot;</span>)
    (<span class="st">&quot;2&quot;</span> er/expand-region <span class="st">&quot;expand&quot;</span>)
    (<span class="st">&quot;q&quot;</span> <span class="kw">nil</span> <span class="st">&quot;quit&quot;</span>))</code></pre></div>
<p>(global-set-key (kbd &quot;&lt;f3&gt; o&quot;) 'back-button-global)</p>
<h3>TODO vim</h3>
<p>(global-set-key (kbd &quot;&quot;) (defhydra hydra-vi (:pre (set-cursor-color &quot;#e52b50&quot;) :post (set-cursor-color &quot;green&quot;) :color amaranth) &quot;vi&quot; (&quot;l&quot; forward-char) (&quot;h&quot; backward-char) (&quot;j&quot; next-line) (&quot;k&quot; previous-line) (&quot;m&quot; set-mark-command &quot;mark&quot;) (&quot;a&quot; move-beginning-of-line &quot;beg&quot;) (&quot;e&quot; move-end-of-line &quot;end&quot;) (&quot;v&quot; evil-mode &quot;evil&quot;) (&quot;d&quot; delete-region &quot;del&quot; :color blue) (&quot;y&quot; kill-ring-save &quot;yank&quot; :color blue) (&quot;q&quot; nil &quot;quit&quot;)))</p>
<p>(defhydra hydra-vi (:body-pre hydra-vi/pre :color amaranth) &quot;vi&quot; ;; basic navigation (&quot;l&quot; forward-char nil) (&quot;h&quot; backward-char nil) (&quot;j&quot; next-line nil) (&quot;k&quot; previous-line nil) ;; mark (&quot;m&quot; set-mark-command &quot;mark&quot;) (&quot;C-o&quot; (set-mark-command 4) &quot;jump to prev location&quot;) ;; beginning/end of line (&quot;a&quot; back-to-indentation-or-beginning-of-line &quot;beg of line/indentation&quot;) (&quot;^&quot; back-to-indentation-or-beginning-of-line &quot;beg of line/indentation&quot;) (&quot;$&quot; move-end-of-line &quot;end of line&quot;) ;; word navigation (&quot;e&quot; forward-word &quot;end of word&quot;) (&quot;w&quot; modi/forward-word-begin &quot;beg of next word&quot;) (&quot;b&quot; backward-word &quot;beg of word&quot;) ;; page scrolling (&quot;&lt;prior&gt;&quot; scroll-down-command &quot;page up&quot;) (&quot;&lt;next&gt;&quot; scroll-up-command &quot;page down&quot;) ;; delete/cut/copy/paste (&quot;x&quot; delete-forward-char &quot;del char&quot;) (&quot;d&quot; my/iregister-cut &quot;cut/del&quot;) (&quot;D&quot; &quot;cut/del line&quot;) (&quot;y&quot; my/iregister-copy &quot;copy&quot;) (&quot;p&quot; yank &quot;paste&quot;) ;; beginning/end of buffer and go to line (&quot;g&quot; hydra-vi/beginning-of-buffer &quot;beg of buffer/goto line&quot;) (&quot;G&quot; hydra-vi/end-of-buffer &quot;end of buffer/goto line&quot;) (&quot;&lt;return&gt;&quot; goto-line &quot;goto line&quot;) ;; undo/redo (&quot;u&quot; undo-tree-undo &quot;undo&quot;) (&quot;C-r&quot; undo-tree-redo &quot;redo&quot;) ;; misc (&quot;&lt;SPC&gt;&quot; ace-jump-mode &quot;ace jump&quot;) ;; exit points (&quot;q&quot; hydra-vi/post &quot;cancel&quot; :color blue)) ; (bind-key &quot;C-:&quot; #'hydra-vi/body modi-mode-map) ;</p>
<h2>isearch</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">progn</span>
    <span class="co">;; set arrow keys in isearch. left/right is backward/forward, up/down is history. press Return to exit</span>
    (define-key isearch-mode-map (kbd <span class="st">&quot;&lt;up&gt;&quot;</span>) &#39;isearch-ring-retreat )
    (define-key isearch-mode-map (kbd <span class="st">&quot;&lt;down&gt;&quot;</span>) &#39;isearch-ring-advance )
    (define-key isearch-mode-map (kbd <span class="st">&quot;&lt;left&gt;&quot;</span>) &#39;isearch-repeat-backward) <span class="co">; single key, useful</span>
    (define-key isearch-mode-map (kbd <span class="st">&quot;&lt;right&gt;&quot;</span>) &#39;isearch-repeat-forward) <span class="co">; single key, useful</span>
   )</code></pre></div>
<h2>dired</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (define-key dired-mode-map (kbd <span class="st">&quot;&lt;left&gt;&quot;</span>) &#39;diredp-up-directory-reuse-dir-buffer )
  (define-key dired-mode-map (kbd <span class="st">&quot;&lt;right&gt;&quot;</span>) &#39;diredp-find-file-reuse-dir-buffer )
  (define-key dired-mode-map (kbd <span class="st">&quot;S-RET&quot;</span>) &#39;dired-open-in-external-app )</code></pre></div>
<h2>Ess/org tangle</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (global-set-key (kbd <span class="st">&quot;C-c x&quot;</span>) &#39;org-babel-execute-subtree)
</code></pre></div>
<h1>Settings</h1>
<h2>XDG/open with</h2>
<h3>set emacs browser</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> browse-url-browser-function (<span class="kw">quote</span> browse-url-generic))
  (<span class="kw">setq</span> browse-url-generic-program <span class="st">&quot;chromium&quot;</span>)</code></pre></div>
<h2>Backup</h2>
<p>Auto-backup is triggered when you save a file - it will keep the old version of the file around, adding a ~ to its name. auto-save-mode auto-saves a file every few seconds here we put these files in the /tmp dir</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> backup-directory-alist
        `((<span class="st">&quot;.*&quot;</span> . ,temporary-file-directory)))
  (<span class="kw">setq</span> auto-save-file-name-transforms
        `((<span class="st">&quot;.*&quot;</span> ,temporary-file-directory <span class="kw">t</span>)))</code></pre></div>
<h2>Save and sessions</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;If I reopen a file, I want to start at the line at which I was when I closed it.</span>
  <span class="co">; save the place in files</span>
  (<span class="kw">require</span> &#39;saveplace)
  (setq-default save-place <span class="kw">t</span>)

  <span class="co">; save minibuffer history</span>
  (<span class="kw">require</span> &#39;savehist)

  (<span class="kw">setq</span> savehist-additional-variables &#39;(search-ring
                      regexp-search-ring
                      file-name-history
                      extended-command-history
                      kill-ring))

  <span class="co">;;autosave</span>
  <span class="co">;(setq auto-save-visited-file-name t)</span>
  <span class="co">;(setq auto-save-interval 20) ; twenty keystrokes</span>
  (<span class="kw">setq</span> auto-save-timeout <span class="dv">60</span>) <span class="co">; ten idle seconds</span>

  (savehist-mode <span class="kw">t</span>)
</code></pre></div>
<h2>history</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> savehist-file <span class="st">&quot;/home/zeltak/.cache/emacs/hist/hist.txt&quot;</span>)
  (savehist-mode <span class="dv">1</span>)
  (<span class="kw">setq</span> history-length <span class="kw">t</span>)
  (<span class="kw">setq</span> history-delete-duplicates <span class="kw">t</span>)
  (<span class="kw">setq</span> savehist-save-minibuffer-history <span class="dv">1</span>)
  (<span class="kw">setq</span> savehist-additional-variables
        &#39;(kill-ring
    search-ring
    regexp-search-ring))</code></pre></div>
<h2>recentf</h2>
<p><span class="math inline">\(note its built into emacs no intsall needed\)</span></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> recentf-save-file <span class="st">&quot;/home/zeltak/.emacs.t/recentf&quot;</span>)  <span class="co">;; (setq recentf-auto-cleanup &#39;never) ;; disable before we start recentf!</span>
  (<span class="kw">require</span> &#39;recentf)
  (recentf-mode <span class="dv">1</span>)
  (<span class="kw">setq</span> recentf-max-menu-items <span class="dv">50</span>)
  <span class="co">;(setq recentf-auto-cleanup &#39;never) ;; disable before we start recentf!</span></code></pre></div>
<h2>Remote</h2>
<h3>ssh</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;tramp) <span class="co">; Remote file editing via ssh</span>
  (<span class="kw">setq</span> tramp-default-method <span class="st">&quot;ssh&quot;</span>)</code></pre></div>
<h2>TERM</h2>
<h3>set default term zshrc</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> explicit-shell-file-name <span class="st">&quot;/bin/zsh&quot;</span>)</code></pre></div>
<h2>performance improvement</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> cache-long-scans <span class="kw">nil</span>)</code></pre></div>
<h1>Org</h1>
<h2>Base</h2>
<h3>org base configs</h3>
<h4>define org mode locations for all operations</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-directory <span class="st">&quot;~/org/files/&quot;</span>)
  (<span class="kw">setq</span> org-default-notes-file <span class="st">&quot;~/org/files/refile.org&quot;</span>)</code></pre></div>
<h4>main configs</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;associate these files with org</span>
  (add-to-list &#39;auto-mode-alist &#39;(<span class="st">&quot;</span>\\<span class="st">.</span>\\<span class="st">(org</span>\\<span class="st">|org_archive</span>\\<span class="st">|txt</span>\\<span class="st">)$&quot;</span> . org-mode))

  <span class="co">;don’t insert blank lines</span>
  (<span class="kw">setq</span> org-blank-before-new-entry &#39;((heading . <span class="kw">nil</span>) (plain-list-item . <span class="kw">nil</span>)))

  <span class="co">;make new headings appear after the content for the current one</span>
  (<span class="kw">setq</span> org-insert-heading-respect-content <span class="kw">t</span>)

  <span class="co">;allow RETURN to open links</span>
  (<span class="kw">setq</span> org-return-follows-link <span class="kw">nil</span>)
  <span class="co">;going to the beginning and end of the heading instead of the current line</span>
  (<span class="kw">setq</span> org-special-ctrl-a/e <span class="kw">t</span>)
  <span class="co">;rebind certain one-letter keybindings when the cursor is at the beginning of the row - most notably ‘t’ for org-todo instead of ‘C-c C-t’</span>
  (<span class="kw">setq</span> org-startup-align-all-tables <span class="kw">t</span>)
  (<span class="kw">setq</span> org-archive-location (concat org-directory <span class="st">&quot;archive/%s_archive::&quot;</span>))
  (<span class="kw">setq</span> org-attach-store-link-p)
  <span class="co">;to make ido mode work in org mode as wel</span>
  (<span class="kw">setq</span> org-completion-use-ido <span class="kw">t</span>)
  <span class="co">;allow speedkeys</span>
  (<span class="kw">setq</span> org-use-speed-commands <span class="kw">t</span>)
  (<span class="kw">setq</span> org-speed-commands-user <span class="kw">nil</span>)
  (<span class="kw">setq</span> org-src-fontify-natively <span class="kw">t</span>)<span class="co">;; syntax highlighting the source code</span>

</code></pre></div>
<h3>Save all org buffers every hour</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (run-at-time <span class="st">&quot;00:59&quot;</span> <span class="dv">3600</span> &#39;org-save-all-org-buffers)</code></pre></div>
<h3>linium mode and flyspell</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;enable flyspelll</span>
  (add-hook &#39;org-mode-hook  
      (<span class="kw">lambda</span> ()      
        (flyspell-mode)))

  <span class="co">;;disable linemode on org</span>
  (<span class="kw">defun</span><span class="fu"> my-org-mode-hook </span>() 
    (linum-mode <span class="dv">0</span>)) 
  (add-hook &#39;org-mode-hook &#39;my-org-mode-hook)</code></pre></div>
<h3>make default notes read-only</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;(add-hook &#39;org-mode-hook (lambda () (view-mode 1)))</span></code></pre></div>
<h3>make org mode read-only after 5 minutes @may cause wierd issues@</h3>
<p>@Warning- this may cause strange behviour@</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (defvar tj/last-buffer-tick nil)</span>
  <span class="co">;; (make-variable-buffer-local &#39;tj/last-buffer-tick)</span>

  <span class="co">;; (defun tj/new-buffer-ticks-p ()</span>
  <span class="co">;;   (let ((curr-tick (buffer-modified-tick))</span>
  <span class="co">;;         (last-tick tj/last-buffer-tick))</span>
  <span class="co">;;     (setq tj/last-buffer-tick curr-tick)</span>
  <span class="co">;;     (and last-tick (= last-tick curr-tick))))</span>

  <span class="co">;; (defun tj/reset-view-mode ()</span>
  <span class="co">;;   (run-with-timer 0 (* 5 60)</span>
  <span class="co">;;                   (lambda ()</span>
  <span class="co">;;                     (when (tj/new-buffer-ticks-p)</span>
  <span class="co">;;                       (view-mode t)))))</span>

  <span class="co">;; (add-hook &#39;org-mode-hook &#39;tj/reset-view-mode)</span></code></pre></div>
<h3>enable shift selection</h3>
<p>use setq org-support-shift-select:</p>
<p>'always- to always use it 'nil- to disable on org mode 't- for When outside special context</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-support-shift-select &#39;t)</code></pre></div>
<h2>custom link types</h2>
<h3>grep link</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (org-add-link-type
   <span class="st">&quot;grep&quot;</span>
   (<span class="kw">defun</span><span class="fu"> endless/follow-grep-link </span>(regexp)
     <span class="st">&quot;Run `rgrep&#39; with REGEXP as argument.&quot;</span>
     (grep-compute-defaults)
     (rgrep regexp <span class="st">&quot;*&quot;</span> (expand-file-name <span class="st">&quot;./&quot;</span>))))</code></pre></div>
<h3>org link open with</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">push</span> (<span class="kw">cons</span> <span class="st">&quot;</span>\\<span class="st">.pdf</span>\\<span class="st">&#39;&quot;</span> &#39;emacs) org-file-apps)
  (<span class="kw">push</span> (<span class="kw">cons</span> <span class="st">&quot;</span>\\<span class="st">.html</span>\\<span class="st">&#39;&quot;</span> &#39;emacs) org-file-apps)
  (<span class="kw">push</span> (<span class="kw">cons</span> <span class="st">&quot;</span>\\<span class="st">.mp4</span>\\<span class="st">&#39;&quot;</span> &#39;vlc) org-file-apps)</code></pre></div>
<h3>insert id based links</h3>
<p>this will make org-store-link use id when creating a link.</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-id-link-to-org-use-id <span class="kw">t</span>)</code></pre></div>
<h2>loading on startup</h2>
<h3>org moduls</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;org-modules <span class="st">&quot;org-habit&quot;</span>)</code></pre></div>
<h2>Agenda</h2>
<h3>set agenda location</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-agenda-files &#39;(<span class="st">&quot;~/org/files/agenda/&quot;</span>))</code></pre></div>
<h3>agenda view</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;change agenda colors</span>
  <span class="co">;(setq org-upcoming-deadline &#39;(:foreground &quot;blue&quot; :weight bold))</span>
  <span class="co">;max days to show in agenda view</span>
  (<span class="kw">setq</span> org-agenda-ndays <span class="dv">7</span>)
  <span class="co">;start agenda from today!</span>
  (<span class="kw">setq</span> org-agenda-start-on-weekday <span class="kw">nil</span>)
  <span class="co">;Items that have deadlines are displayed 10 days in advance</span>
  (<span class="kw">setq</span> org-deadline-warning-days <span class="dv">10</span>)
  <span class="co">;don’t display items that are done in my agenda.</span>
  (<span class="kw">setq</span> org-agenda-skip-deadline-if-done <span class="kw">t</span>)
  (<span class="kw">setq</span> org-agenda-skip-scheduled-if-done <span class="kw">t</span>)</code></pre></div>
<h3>look and feel</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; Do not dim blocked tasks</span>
  (<span class="kw">setq</span> org-agenda-dim-blocked-tasks <span class="kw">nil</span>)
  <span class="co">;; Compact the block agenda view</span>
  (<span class="kw">setq</span> org-agenda-compact-blocks <span class="kw">t</span>)
  <span class="co">;; Always hilight the current agenda line</span>
  (add-hook &#39;org-agenda-mode-hook
      &#39;(<span class="kw">lambda</span> () (hl-line-mode <span class="dv">1</span>))
      &#39;append)

  <span class="co">;; Show all agenda dates - even if they are empty</span>
  (<span class="kw">setq</span> org-agenda-show-all-dates <span class="kw">t</span>)

  <span class="co">;;  Enable display of the time grid so we can see the marker for the current time</span>
  (<span class="kw">setq</span> org-agenda-time-grid (<span class="kw">quote</span> ((daily today remove-match)
                  #(<span class="st">&quot;----------------&quot;</span> <span class="dv">0</span> <span class="dv">16</span> (org-heading <span class="kw">t</span>))
                  (<span class="dv">0900</span> <span class="dv">1100</span> <span class="dv">1300</span> <span class="dv">1500</span> <span class="dv">1700</span>))))

  <span class="co">;; Display tags farther right</span>
  (<span class="kw">setq</span> org-agenda-tags-column -<span class="dv">102</span>)</code></pre></div>
<h3>TODO 'my custom agenda command'</h3>
<p>look here for more info <a href="http://orgmode.org/worg/org-tutorials/org-custom-agenda-commands.html" class="uri">http://orgmode.org/worg/org-tutorials/org-custom-agenda-commands.html</a></p>
<p>and here <a href="id:cf2c69b4-3d4c-4f81-a01d-bbbe1d120e62" class="uri">id:cf2c69b4-3d4c-4f81-a01d-bbbe1d120e62</a></p>
<p><span class="math inline">\(Note\)</span> that to get the priorities to appear first you need to use priorities-down.</p>
<p>(&quot;w&quot; tags-todo &quot;CATEGORY=work&quot;&quot;)</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-agenda-custom-commands 
  &#39;(


  <span class="co">;work related only tasks (from research|bgu files)</span>
  (<span class="st">&quot;w&quot;</span> <span class="st">&quot;work&quot;</span> todo <span class="st">&quot;TODO|BGU|EXP&quot;</span> 
  (
  (org-agenda-files (<span class="kw">list</span> <span class="st">&quot;~/org/files/agenda/Research.org&quot;</span>  <span class="st">&quot;~/org/files/agenda/bgu.org&quot;</span>))
  (org-agenda-sorting-strategy &#39;(priority-down effort-down))
  ))



  <span class="co">; allan todos</span>
  (<span class="st">&quot;A&quot;</span> <span class="st">&quot;allan tasks&quot;</span> tags-todo <span class="st">&quot;allan&quot;</span>
  (
  (org-agenda-files (<span class="kw">list</span> <span class="st">&quot;~/org/files/agenda/Research.org&quot;</span>  <span class="st">&quot;~/org/files/agenda/bgu.org&quot;</span>))
  (org-agenda-sorting-strategy &#39;(priority-down effort-down))
  ))


  <span class="co">; Joel todos</span>
  (<span class="st">&quot;J&quot;</span> <span class="st">&quot;joel tasks&quot;</span> tags-todo <span class="st">&quot;joel&quot;</span>
  (
  (org-agenda-files (<span class="kw">list</span> <span class="st">&quot;~/org/files/agenda/Research.org&quot;</span>  <span class="st">&quot;~/org/files/agenda/bgu.org&quot;</span>))
  (org-agenda-sorting-strategy &#39;(priority-down effort-down))
  ))



  <span class="co">;second</span>
  (<span class="st">&quot;f&quot;</span> <span class="st">&quot;food&quot;</span> todo <span class="st">&quot;COOK&quot;</span> 
     (
     (org-agenda-files &#39;(<span class="st">&quot;~/org/files/agenda/food.org&quot;</span>)) 
      (org-agenda-sorting-strategy 
      &#39;(priority-up effort-down)
  )
  )
  )

  (<span class="st">&quot;t&quot;</span> <span class="st">&quot;tech&quot;</span> todo <span class="st">&quot;TODO&quot;</span> 
     (
     (org-agenda-files &#39;(<span class="st">&quot;~/org/files/agenda/TODO.org&quot;</span>)) 
      (org-agenda-sorting-strategy 
      &#39;(priority-up effort-down)
  )
  )
  )

  (<span class="st">&quot;h&quot;</span> <span class="st">&quot;home&quot;</span> todo <span class="st">&quot;TODO&quot;</span> 
     (
     (org-agenda-files &#39;(<span class="st">&quot;~/org/files/agenda/home.org&quot;</span>)) 
      (org-agenda-sorting-strategy 
      &#39;(priority-up effort-down)
  )
  )
  )


  (<span class="st">&quot;x&quot;</span> <span class="st">&quot;Agenda and Home-related tasks&quot;</span>
           (
           (agenda <span class="st">&quot;&quot;</span>)
           (tags-todo <span class="st">&quot;+PRIORITY=</span>\&quot;<span class="st">A</span>\&quot;<span class="st">&quot;</span>)
           (tags <span class="st">&quot;garden&quot;</span>)
  )
  )




  <span class="co">;;end brackets for setq</span>
  )
  )
</code></pre></div>
<h3>export agenda</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-agenda-exporter-settings
        &#39;((ps-number-of-columns <span class="dv">2</span>)
    (ps-landscape-mode <span class="kw">t</span>)
    (org-agenda-add-entry-text-maxlines <span class="dv">5</span>)
    (htmlize-output-type &#39;css)))</code></pre></div>
<h3>habits</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-habit-graph-column <span class="dv">70</span>)
  (<span class="kw">setq</span> org-habit-show-habits-only-for-today <span class="kw">nil</span>)</code></pre></div>
<h3>get popups for meetings</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (appt-activate <span class="dv">1</span>)
  (org-agenda-to-appt)</code></pre></div>
<p>thos will be reminded of things in your org files, before the appointment time (I think 12 min is the default) You could also add this, so that the appointments refresh and new get added every time that you call the agenda:</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-hook &#39;org-agenda-finalize-hook (<span class="kw">lambda</span> ()  (org-agenda-to-appt <span class="kw">t</span>)))</code></pre></div>
<h2>Images</h2>
<h3>base</h3>
<h4>inline images by default at startup</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;;iimage in org (display images in org files)</span>
  (<span class="kw">setq</span> org-startup-with-inline-images <span class="kw">t</span>)</code></pre></div>
<h4>size defaults @Warning- this may screw up image config@</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;;set the org image default size</span>
  <span class="co">;(setq org-image-actual-width nil)</span>
  (<span class="kw">setq</span> org-image-actual-width &#39;(<span class="dv">400</span>))
</code></pre></div>
<h2>Tags</h2>
<h3>tag inheritance</h3>
<p>make sure child headers don't get the header tags</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-use-tag-inheritance <span class="kw">nil</span>)</code></pre></div>
<h3>org-tag-faces</h3>
<pre><code>  ;; (setq org-tag-faces
  ;;   &#39;((&quot;Indian&quot; . (:foreground &quot;#00000&quot;))
  ;;      (&quot;Asian&quot;  . (:foreground &quot;#C00000&quot;))
  ;;      (&quot;israeli&quot;  . (:foreground &quot;#C0a000&quot;))))
</code></pre>
<h3>tag searches function</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (org-add-link-type
   <span class="st">&quot;tag&quot;</span>
   (<span class="kw">defun</span><span class="fu"> endless/follow-tag-link </span>(tag)
     <span class="st">&quot;Display a list of TODO headlines with tag TAG.</span>
<span class="st">  With prefix argument, also display headlines without a TODO keyword.&quot;</span>
     (org-tags-view (<span class="kw">null</span> current-prefix-arg) tag)))</code></pre></div>
<h2>Todo</h2>
<h3>org todo config</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;allow fast todo</span>
  (<span class="kw">setq</span> org-use-fast-todo-selection <span class="kw">t</span>)
  <span class="co">;allow shift-left right to change todo state</span>
  (<span class="kw">setq</span> org-treat-S-cursor-todo-selection-as-state-change <span class="kw">nil</span>)</code></pre></div>
<h3>todo keywords</h3>
<pre><code>  (setq org-todo-keywords
        (quote ((sequence &quot;TODO(t)&quot; &quot;NEXT(n)&quot; &quot;|&quot; &quot;DONE(d)&quot;)
          (sequence &quot;WAITING(w@/!)&quot; &quot;HOLD(h@/!)&quot; &quot;|&quot; &quot;CANCELLED(c@/!)&quot; ))))
  (setq org-todo-keyword-faces
        (quote ((&quot;TODO&quot; :foreground &quot;red&quot; :weight bold)
          (&quot;NEXT&quot; :foreground &quot;blue&quot; :weight bold)
          (&quot;PAUSED&quot; :foreground &quot;gray&quot; :weight bold)
          (&quot;SUBMITTED&quot; :foreground &quot;#FFC612&quot; :weight bold)
          (&quot;K_TRACK&quot; :foreground &quot;#45D0FF&quot; :weight bold)
          (&quot;DONE&quot; :foreground &quot;forest green&quot; :weight bold)
          (&quot;PUB&quot; :foreground &quot;#00FF37&quot; :weight bold)
          (&quot;PREP&quot; :foreground &quot;#FF7BD0&quot; :weight bold)
          (&quot;SUB&quot; :foreground &quot;#CE008B&quot; :weight bold)
          (&quot;COOK&quot; :background &quot;#0CFB32&quot; :foreground &quot;#001F57&quot; :weight bold)
          (&quot;SHOP&quot; :background &quot;#9CFFBB&quot; :foreground &quot;#004D18&quot; :weight bold)
          )))
</code></pre>
<h3>auto add tags<span class="tag" data-tag-name="CANCELLED"></span></h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-todo-state-tags-triggers
        (<span class="kw">quote</span> ((<span class="st">&quot;CANCELLED&quot;</span> (<span class="st">&quot;CANCELLED&quot;</span> . <span class="kw">t</span>))
          (<span class="st">&quot;WAITING&quot;</span> (<span class="st">&quot;WAITING&quot;</span> . <span class="kw">t</span>))
          (<span class="st">&quot;HOLD&quot;</span> (<span class="st">&quot;WAITING&quot;</span> . <span class="kw">t</span>) (<span class="st">&quot;HOLD&quot;</span> . <span class="kw">t</span>))
          (done (<span class="st">&quot;WAITING&quot;</span>) (<span class="st">&quot;HOLD&quot;</span>))
          (<span class="st">&quot;TODO&quot;</span> (<span class="st">&quot;WAITING&quot;</span>) (<span class="st">&quot;CANCELLED&quot;</span>) (<span class="st">&quot;HOLD&quot;</span>))
          (<span class="st">&quot;NEXT&quot;</span> (<span class="st">&quot;WAITING&quot;</span>) (<span class="st">&quot;CANCELLED&quot;</span>) (<span class="st">&quot;HOLD&quot;</span>))
          (<span class="st">&quot;DONE&quot;</span> (<span class="st">&quot;WAITING&quot;</span>) (<span class="st">&quot;CANCELLED&quot;</span>) (<span class="st">&quot;HOLD&quot;</span>)))))</code></pre></div>
<h3>priorities</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-highest-priority ?A)
  (<span class="kw">setq</span> org-lowest-priority ?A)
  (<span class="kw">setq</span> org-default-priority ?A)

  (<span class="kw">setq</span> org-priority-start-cycle-with-default <span class="kw">t</span>)</code></pre></div>
<h2>Refile</h2>
<h3>set which refile method to us (currently helm)</h3>
<p>this command below will use helm for completion since in the above helm config we sepcify these two commands: (require 'helm-config) and (helm-mode 1)</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-outline-path-complete-in-steps <span class="kw">nil</span>)</code></pre></div>
<h3>set heading depth</h3>
<pre><code>  ; Targets include this file and any file contributing to the agenda - up to 9 levels deep
  (setq org-refile-targets (quote ((nil :maxlevel . 9)
                 (org-agenda-files :maxlevel . 9))))
</code></pre>
<h2>capture</h2>
<h3>load org-protocl</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;org-protocol)</code></pre></div>
<h3>TODO templates</h3>
<h4>my templates</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">    (<span class="kw">setq</span> org-capture-templates
    (<span class="kw">quote</span> (           
  (<span class="st">&quot;f&quot;</span> <span class="st">&quot;food&quot;</span> entry (file+headline <span class="st">&quot;/home/zeltak/org/files/agenda/food.org&quot;</span> <span class="st">&quot;Inbox&quot;</span>)
   <span class="st">&quot;* Cook %? %^g </span>
<span class="st">     :PROPERTIES:</span>
<span class="st">     :Time:     </span>
<span class="st">     :Rating:   </span>
<span class="st">     :Source:   </span>
<span class="st">     :Ammount:  </span>
<span class="st">     :Fav: </span>
<span class="st">     :Type: </span>
<span class="st">     :ID:   </span>
<span class="st">     :END:</span>
<span class="st">  %(org-meta-return)</span>
<span class="st">  &quot;</span>
   )

  (<span class="st">&quot;F&quot;</span> <span class="st">&quot;food&quot;</span> entry   (file+headline <span class="st">&quot;/home/zeltak/org/files/agenda/food.org&quot;</span> <span class="st">&quot;Inbox&quot;</span>)
  (<span class="kw">function</span>  blank-recipe-template))




  (<span class="st">&quot;x&quot;</span> <span class="st">&quot;todo_nix&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/TODO.org&quot;</span> <span class="st">&quot;Linux&quot;</span>)
   <span class="st">&quot;*  %^{Description}&quot;</span> )

  (<span class="st">&quot;o&quot;</span> <span class="st">&quot;dl_movie&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/dl.org&quot;</span> <span class="st">&quot;Movies&quot;</span>)
   <span class="st">&quot;*  %^{Description}  &quot;</span> )

  (<span class="st">&quot;O&quot;</span> <span class="st">&quot;dl_movie_prerelease&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/dl.org&quot;</span> <span class="st">&quot;Movies&quot;</span>)
   <span class="st">&quot;*  %x :Pre_Release: &quot;</span> )

  (<span class="st">&quot;v&quot;</span> <span class="st">&quot;dl_TV&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/dl.org&quot;</span> <span class="st">&quot;TV&quot;</span>)
   <span class="st">&quot;*  %^{Description}&quot;</span> )

  (<span class="st">&quot;m&quot;</span> <span class="st">&quot;dl_music&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/dl.org&quot;</span> <span class="st">&quot;Music&quot;</span>)
   <span class="st">&quot;*  %^{Description}&quot;</span> )

  (<span class="st">&quot;h&quot;</span> <span class="st">&quot;todo_home&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/TODO.org&quot;</span> <span class="st">&quot;Home&quot;</span>)
   <span class="st">&quot;*   %?</span>\n<span class="st">%T&quot;</span> )

  (<span class="st">&quot;b&quot;</span> <span class="st">&quot;todo_shopping&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/food.org&quot;</span> <span class="st">&quot;shopping&quot;</span>)
   <span class="st">&quot;* SHOP  %^{Description} &quot;</span> )

  <span class="co">;; for mail </span>
  (<span class="st">&quot;r&quot;</span> <span class="st">&quot;respond&quot;</span> entry (file+headline  <span class="st">&quot;~/org/files/agenda/Research.org&quot;</span> <span class="st">&quot;Mails&quot;</span>)
   <span class="st">&quot;* TODO Respond to %:from on %:subject</span>\n<span class="st">SCHEDULED: %t</span>\n\n<span class="st">%U</span>\n\n<span class="st">%a</span>\n\n<span class="st">&quot;</span> )

  (<span class="st">&quot;n&quot;</span> <span class="st">&quot;Quick Note&quot;</span> entry (file <span class="st">&quot;~/org/quick-note.org&quot;</span>)
    <span class="st">&quot;* %?</span>\n<span class="st">%U&quot;</span>)

  (<span class="st">&quot;w&quot;</span> <span class="st">&quot;webCapture&quot;</span> entry (file+headline <span class="st">&quot;refile.org&quot;</span> <span class="st">&quot;Web&quot;</span>)  <span class="st">&quot;* BOOKMARKS %T</span>\n<span class="st">%c\%a</span>\n<span class="st">%i</span>\n<span class="st"> Note:%?&quot;</span> :prepend <span class="kw">t</span> :jump-to-captured <span class="kw">t</span> :empty-lines-after <span class="dv">1</span> :unnarrowed <span class="kw">t</span>)

  <span class="co">;agenda captures</span>
  (<span class="st">&quot;R&quot;</span> <span class="st">&quot;Work_short_term&quot;</span> entry (file+headline <span class="st">&quot;~/org/files/agenda/Research.org&quot;</span> <span class="st">&quot;Short term Misc&quot;</span>)
   <span class="st">&quot;* TODO  %^{Description} &quot;</span> )

  (<span class="st">&quot;T&quot;</span> <span class="st">&quot;Research TODO&quot;</span> entry (file +headline <span class="st">&quot;~/org/files/agenda/Research.org&quot;</span> <span class="st">&quot;Short term Misc&quot;</span>) 
       <span class="st">&quot;* TODO %?</span>\n<span class="st"> %U</span>\n\n<span class="st">%a&quot;</span>)


    )))</code></pre></div>
<h5>tto<span class="tag" data-tag-name="Indian"></span></h5>
<h6>Ingridients</h6>
<h6>Preperation</h6>
<h5><span class="tag" data-tag-name="Indian"></span></h5>
<h6>Ingridients</h6>
<h6>Preperation</h6>
<h2>mobile org</h2>
<h3>setup</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;;For agenda files locations, each location you add within &quot; &quot;</span>
  (<span class="kw">require</span> &#39;org-mobile)
  (<span class="kw">setq</span> org-mobile-directory <span class="st">&quot;~/Dropbox/MobileOrg/&quot;</span>)
  <span class="co">;; Set to the name of the file where new captures will be stored after pulling from mobile</span>
  (<span class="kw">setq</span> org-mobile-inbox-for-pull <span class="st">&quot;~/org/files/from-mobile.org&quot;</span>)
</code></pre></div>
<h3>auto sync</h3>
<h4>(old, keep around since thid DOES work)</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (defvar org-mobile-push-timer nil</span>
  <span class="co">;;   &quot;Timer that `org-mobile-push-timer&#39; used to reschedule itself, or nil.&quot;)</span>

  <span class="co">;; (defun org-mobile-push-with-delay (secs)</span>
  <span class="co">;;   (when org-mobile-push-timer</span>
  <span class="co">;;     (cancel-timer org-mobile-push-timer))</span>
  <span class="co">;;   (setq org-mobile-push-timer</span>
  <span class="co">;;         (run-with-idle-timer</span>
  <span class="co">;;          (* 1 secs) nil &#39;org-mobile-push)))</span>

  <span class="co">;; (add-hook &#39;after-save-hook </span>
  <span class="co">;;  (lambda () </span>
  <span class="co">;;    (when (eq major-mode &#39;org-mode)</span>
  <span class="co">;;      (dolist (file (org-mobile-files-alist))</span>
  <span class="co">;;       (if (string= (file-truename (expand-file-name (car file)))</span>
  <span class="co">;;                    (file-truename (buffer-file-name)))</span>
  <span class="co">;;            (org-mobile-push-with-delay 30)))</span>
  <span class="co">;;    )))</span>

  <span class="co">;; (run-at-time &quot;00:05&quot; 86400 &#39;(lambda () (org-mobile-push-with-delay 1))) ;; refreshes agenda file each day</span>
</code></pre></div>
<h4>auto push</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; ;; Fork the work (async) of pushing to mobile</span>
  <span class="co">;; ;; https://gist.github.com/3111823 ASYNC org mobile push...</span>
  <span class="co">;; (require &#39;gnus-async) </span>
  <span class="co">;; ;; Define a timer variable</span>
  <span class="co">;; (defvar org-mobile-push-timer nil</span>
  <span class="co">;;   &quot;Timer that `org-mobile-push-timer&#39; used to reschedule itself, or nil.&quot;)</span>
  <span class="co">;; ;; Push to mobile when the idle timer runs out</span>
  <span class="co">;; (defun org-mobile-push-with-delay (secs)</span>
  <span class="co">;;    (when org-mobile-push-timer</span>
  <span class="co">;;     (cancel-timer org-mobile-push-timer))</span>
  <span class="co">;;   (setq org-mobile-push-timer</span>
  <span class="co">;;         (run-with-idle-timer</span>
  <span class="co">;;          (* 1 secs) nil &#39;org-mobile-push)))</span>
  <span class="co">;; ;; After saving files, start an idle timer after which we are going to push </span>
  <span class="co">;; (add-hook &#39;after-save-hook </span>
  <span class="co">;;  (lambda () </span>
  <span class="co">;;    (if (or (eq major-mode &#39;org-mode) (eq major-mode &#39;org-agenda-mode))</span>
  <span class="co">;;      (dolist (file (org-mobile-files-alist))</span>
  <span class="co">;;        (if (string= (expand-file-name (car file)) (buffer-file-name))</span>
  <span class="co">;;            (org-mobile-push-with-delay 10)))</span>
  <span class="co">;;      )))</span>
  <span class="co">;; ;; Run after midnight each day (or each morning upon wakeup?).</span>
  <span class="co">;; (run-at-time &quot;00:01&quot; 86400 &#39;(lambda () (org-mobile-push-with-delay 1)))</span>
  <span class="co">;; ;; Run 1 minute after launch, and once a day after that.</span>
  <span class="co">;; (run-at-time &quot;1 min&quot; 86400 &#39;(lambda () (org-mobile-push-with-delay 1)))</span></code></pre></div>
<h4>auto pull</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; ;; watch mobileorg.org for changes, and then call org-mobile-pull</span>
  <span class="co">;; ;; http://stackoverflow.com/questions/3456782/emacs-lisp-how-to-monitor-changes-of-a-file-directory</span>
  <span class="co">;; (defun install-monitor (file secs)</span>
  <span class="co">;;   (run-with-timer</span>
  <span class="co">;;    0 secs</span>
  <span class="co">;;    (lambda (f p)</span>
  <span class="co">;;      (unless (&lt; p (second (time-since (elt (file-attributes f) 5))))</span>
  <span class="co">;;        (org-mobile-pull)))</span>
  <span class="co">;;    file secs))</span>
  <span class="co">;; (defvar monitor-timer (install-monitor (concat org-mobile-directory &quot;/mobileorg.org&quot;) 30)</span>
  <span class="co">;;   &quot;Check if file changed every 30 s.&quot;)</span></code></pre></div>
<h2>Babel</h2>
<h3>#+LANGUAGE: en</h3>
<pre><code>  ; And add babel inline code execution
  ; babel, for executing code in org-mode.
  (org-babel-do-load-languages
   &#39;org-babel-load-languages
   ; load all language marked with (lang . t).
   &#39;((C . t)
     (R . t)
     (asymptote)
     (awk)
     (calc)
     (clojure)
     (comint)
     (css)
     (ditaa . t)
     (dot . t)
     (emacs-lisp . t)
     (fortran)
     (gnuplot . t)
     (haskell)
     (io)
     (java)
     (js)
     (latex .t)
     (ledger)
     (lilypond)
     (lisp .t)
     (matlab)
     (maxima)
     (mscgen)
     (ocaml)
     (octave .t)
     (org . t)
     (perl)
     (picolisp)
     (plantuml)
     (python . t)
     (ref)
     (ruby)
     (sass)
     (scala)
     (scheme)
     (screen)
     (sh . t)
     (shen)
     (sql)
     (sqlite)))

</code></pre>
<h3>disable confirm for these languages</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (defun my-org-confirm-babel-evaluate (lang body)</span>
  <span class="co">;;     (not (string= lang &quot;emacs-lisp&quot;)))  ; don&#39;t ask for lisp</span>
  <span class="co">;; (setq org-confirm-babel-evaluate &#39;my-org-confirm-babel-evaluate)</span></code></pre></div>
<h3>global disable confirm</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-confirm-babel-evaluate <span class="kw">nil</span>) </code></pre></div>
<h3>Fonts</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; fontify code in code blocks</span>
  (<span class="kw">setq</span> org-src-fontify-natively <span class="kw">t</span>)</code></pre></div>
<h2>Orgmode functions</h2>
<h3>terminal</h3>
<h4>org evaluate to term</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defadvice org-babel-execute:sh (around sacha activate)
    (<span class="kw">if</span> (assoc-default :term (ad-get-arg <span class="dv">1</span>) <span class="kw">nil</span>)
      (<span class="kw">let</span> ((buffer (make-term <span class="st">&quot;babel&quot;</span> <span class="st">&quot;/bin/zsh&quot;</span>)))
        (with-current-buffer buffer
    (insert (org-babel-expand-body:generic
         body params (org-babel-variable-assignments:sh params)))
    (term-send-input))
  (pop-to-buffer buffer))
      ad-do-it))</code></pre></div>
<h3>editing</h3>
<h4>Insert current time stamp</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> org-timestamp-now </span>()
    <span class="st">&quot;Inserts org timestamp at end of heading&quot;</span>
    (interactive)
    (save-excursion
      (org-back-to-heading)
      (org-end-of-line <span class="kw">nil</span>)
      (insert <span class="st">&quot; &quot;</span>)
      (org-insert-time-stamp <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">t</span> <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span>)))</code></pre></div>
<h4>Insert time stamp selector</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> org-timestamp-select </span>()
    <span class="st">&quot;Inserts org timestamp at end of heading&quot;</span>
    (interactive)
    (save-excursion
      (org-back-to-heading)
      (org-end-of-line <span class="kw">nil</span>)
      (org-time-stamp-inactive <span class="kw">nil</span>)))
</code></pre></div>
<h4>import ods file into org table</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> org-table-import-ods </span>(&amp;optional file-name)
  (interactive <span class="st">&quot;fFile: &quot;</span>)
  (<span class="kw">let</span> ((csv-file (org-odt-convert file-name <span class="st">&quot;csv&quot;</span>))
  (pos (point)))
  (save-excursion
  (insert (with-temp-buffer
  (insert-file-contents csv-file)
  (org-table-convert-region (point-min) (point-max) &#39;(<span class="dv">4</span>))
  (buffer-string))))))</code></pre></div>
<h4>convert lines to checkboxes</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> org-set-line-checkbox </span>(arg)
    (interactive <span class="st">&quot;P&quot;</span>)
    (<span class="kw">let</span> ((n (<span class="kw">or</span> arg <span class="dv">1</span>)))
      (<span class="kw">when</span> (region-active-p)
        (<span class="kw">setq</span> n (count-lines (region-beginning)
               (region-end)))
        (goto-char (region-beginning)))
      (<span class="kw">dotimes</span> (i n)
        (beginning-of-line)
        (insert <span class="st">&quot;- [ ] &quot;</span>)
        (forward-line))
      (beginning-of-line)))</code></pre></div>
<h4>convert lines to headline</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> org-set-line-headline </span>(arg)
    (interactive <span class="st">&quot;P&quot;</span>)
    (<span class="kw">let</span> ((n (<span class="kw">or</span> arg <span class="dv">1</span>)))
      (<span class="kw">when</span> (region-active-p)
        (<span class="kw">setq</span> n (count-lines (region-beginning)
               (region-end)))
        (goto-char (region-beginning)))
      (<span class="kw">dotimes</span> (i n)
        (beginning-of-line)
        (insert <span class="st">&quot;** TODO &quot;</span>)
        (forward-line))
      (beginning-of-line)))</code></pre></div>
<h4>read only function</h4>
<p>Make some org-sections read-only</p>
<p><span class="math inline">\(Note- you !MUST! tag the header :read_only: other wise it wont work\)</span></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> org-mark-readonly </span>()
  (interactive)
  (org-map-entries
  (<span class="kw">lambda</span> ()
  (<span class="kw">let*</span> ((element (org-element-at-point))
  (begin (org-element-property :begin element))
  (end (org-element-property <span class="kw">:end</span> element)))
  (add-text-properties begin (<span class="kw">-</span> end <span class="dv">1</span>) &#39;(read-only <span class="kw">t</span>
  font-lock-face &#39;(:background <span class="st">&quot;#FFE3E3&quot;</span>)))))
  <span class="st">&quot;read_only&quot;</span>)
  (message <span class="st">&quot;Made readonly!&quot;</span>))
  (<span class="kw">defun</span><span class="fu"> org-remove-readonly </span>()
  (interactive)
  (org-map-entries
  (<span class="kw">lambda</span> ()
  (<span class="kw">let*</span> ((element (org-element-at-point))
  (begin (org-element-property :begin element))
  (end (org-element-property <span class="kw">:end</span> element))
  (inhibit-read-only <span class="kw">t</span>))
  (remove-text-properties begin (<span class="kw">-</span> end <span class="dv">1</span>) &#39;(read-only <span class="kw">t</span> font-lock-face &#39;(:background <span class="st">&quot;yellow&quot;</span>)))))
  <span class="st">&quot;read_only&quot;</span>))
  (add-hook &#39;org-mode-hook &#39;org-mark-readonly)</code></pre></div>
<h3>code wraps</h3>
<h4>cr example</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-wrap-cblock-example </span>()
     <span class="st">&quot;Wrap region in quote block&quot;</span>
     (interactive)
     (save-excursion
       (save-restriction
         (<span class="kw">and</span>
    (region-active-p)
    (use-region-p)
    (narrow-to-region (region-beginning) (region-end)))
    (goto-char (point-min))
    (insert <span class="st">&quot;#+BEGIN_EXAMPLE</span>\n<span class="st">&quot;</span>)
    (goto-char (point-max))
    (insert <span class="st">&quot;#+END_EXAMPLE</span>\n<span class="st">&quot;</span>)
    (deactivate-mark))))</code></pre></div>
<h4>cr bash</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-wrap-cblock-sh </span>()
     <span class="st">&quot;Wrap region in quote block&quot;</span>
     (interactive)
     (save-excursion
       (save-restriction
         (<span class="kw">and</span>
    (region-active-p)
    (use-region-p)
    (narrow-to-region (region-beginning) (region-end)))
    (goto-char (point-min))
    (insert <span class="st">&quot;#+BEGIN_SRC sh</span>\n<span class="st">&quot;</span>)
    (goto-char (point-max))
    (insert <span class="st">&quot;#+END_SRC</span>\n<span class="st">&quot;</span>)
    (deactivate-mark))))
</code></pre></div>
<h4>cr R</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-wrap-cblock-r </span>()
     <span class="st">&quot;Wrap region in quote block&quot;</span>
     (interactive)
     (save-excursion
       (save-restriction
         (<span class="kw">and</span>
    (region-active-p)
    (use-region-p)
    (narrow-to-region (region-beginning) (region-end)))
    (goto-char (point-min))
    (insert <span class="st">&quot;#+BEGIN_SRC R</span>\n<span class="st">&quot;</span>)
    (goto-char (point-max))
    (insert <span class="st">&quot;#+END_SRC</span>\n<span class="st">&quot;</span>)
    (deactivate-mark))))
</code></pre></div>
<h4>cr quote</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-wrap-region-in-quote-block </span>()
     <span class="st">&quot;Wrap region in quote block&quot;</span>
     (interactive)
     (save-excursion
       (save-restriction
         (<span class="kw">and</span>
    (region-active-p)
    (use-region-p)
    (narrow-to-region (region-beginning) (region-end)))
    (goto-char (point-min))
    (insert <span class="st">&quot;#+BEGIN_QUOTE</span>\n<span class="st">&quot;</span>)
    (goto-char (point-max))
    (insert <span class="st">&quot;#+END_QUOTE</span>\n<span class="st">&quot;</span>)
    (deactivate-mark))))

</code></pre></div>
<h4>cr lisp</h4>
<pre><code>  (defun z-wrap-cblock-lisp ()
     &quot;Wrap region in quote block&quot;
     (interactive)
     (save-excursion
       (save-restriction
         (and
    (region-active-p)
    (use-region-p)
    (narrow-to-region (region-beginning) (region-end)))
    (goto-char (point-min))
    (insert &quot;#+BEGIN_SRC emacs-lisp :results none\n&quot;)
    (goto-char (point-max))
    (insert &quot;#+END_SRC\n&quot;)
    (deactivate-mark))))

</code></pre>
<h4>cr SAS</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-wrap-cblock-sas </span>()
     <span class="st">&quot;Wrap region in quote block&quot;</span>
     (interactive)
     (save-excursion
       (save-restriction
         (<span class="kw">and</span>
    (region-active-p)
    (use-region-p)
    (narrow-to-region (region-beginning) (region-end)))
    (goto-char (point-min))
    (insert <span class="st">&quot;#+BEGIN_SRC sas</span>\n<span class="st">&quot;</span>)
    (goto-char (point-max))
    (insert <span class="st">&quot;#+END_SRC</span>\n<span class="st">&quot;</span>)
    (deactivate-mark))))</code></pre></div>
<h4>interactive wrap</h4>
<p>will wrap in lisp unless using a prefix C-u and then it will prompt</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> org-wrap-in-src-block </span>(&amp;optional lang lines)
    <span class="st">&quot;Wrap sexp-at-point or region in src-block.</span>

<span class="st">  Use Org-Babel LANGuage for the src-block if given, Emacs-Lisp</span>
<span class="st">  otherwise. A region instead of the sexp-at-point is wrapped if</span>
<span class="st">  either</span>

<span class="st">     - optional argument LINES is an (positive or negative) integer</span>
<span class="st">     - or the region is active</span>

<span class="st">  In the first case the region is determined by moving +/- LINES</span>
<span class="st">  forward/backward from point using `forward-line&#39;, in the second</span>
<span class="st">  case the active region is used.</span>

<span class="st">  When called with prefix argument &#39;C-u&#39;, prompt the user for the</span>
<span class="st">  Org-Babel language to use. When called with two prefix arguments</span>
<span class="st">  &#39;C-u C-u&#39;, prompt the user for both the Org-Babel language to use</span>
<span class="st">  and the number of lines to be wrapped.&quot;</span>
    (interactive
     (<span class="kw">cond</span>
      ((<span class="kw">equal</span> current-prefix-arg <span class="kw">nil</span>) <span class="kw">nil</span>)
      ((<span class="kw">equal</span> current-prefix-arg &#39;(<span class="dv">4</span>))
       (<span class="kw">list</span>
        (ido-completing-read <span class="st">&quot;Org-Babel language: &quot;</span>
               (<span class="kw">mapcar</span>
                (<span class="kw">lambda</span> (--lang)
                  (<span class="kw">symbol-name</span> (<span class="kw">car</span> --lang)))
                org-babel-load-languages)
               <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> <span class="st">&quot;emacs-lisp&quot;</span>)))
      ((<span class="kw">equal</span> current-prefix-arg &#39;(<span class="dv">16</span>))
       (<span class="kw">list</span>
        (ido-completing-read <span class="st">&quot;Org-Babel language: &quot;</span>
               (<span class="kw">mapcar</span>
                (<span class="kw">lambda</span> (--lang)
                  (<span class="kw">symbol-name</span> (<span class="kw">car</span> --lang)))
                org-babel-load-languages)
               <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> <span class="kw">nil</span> <span class="st">&quot;emacs-lisp&quot;</span>)
        (read-number <span class="st">&quot;Number of lines to wrap: &quot;</span> <span class="dv">1</span>)))))
    (<span class="kw">let*</span> ((language (<span class="kw">or</span> lang <span class="st">&quot;emacs-lisp&quot;</span>))
     (beg (<span class="kw">or</span> (<span class="kw">and</span> (<span class="kw">not</span> lines)
               (region-active-p)
               (region-beginning))
          (point)))
     (marker (save-excursion (goto-char beg) (point-marker)))
     (bol (save-excursion (goto-char beg) (bolp)))
     (end (<span class="kw">cond</span>
           (lines (save-excursion
            (forward-line lines) (point)))
           ((region-active-p)(region-end))
           (<span class="kw">t</span> (save-excursion
            (forward-sexp) (point)))))
     (cut-strg (buffer-substring beg end)))
      (delete-region beg end)
      (goto-char (marker-position marker))
      (insert
       (<span class="kw">format</span>
        <span class="st">&quot;%s#+begin_src %s</span>\n<span class="st">%s%s#+end_src</span>\n<span class="st">&quot;</span>
        (<span class="kw">if</span> (<span class="kw">or</span> (<span class="kw">and</span> lines (<span class="kw">&lt;</span> lines <span class="dv">0</span>)) bol) <span class="st">&quot;&quot;</span> <span class="st">&quot;</span>\n<span class="st">&quot;</span>)
        language
        cut-strg
        (<span class="kw">if</span> lines <span class="st">&quot;&quot;</span> <span class="st">&quot;</span>\n<span class="st">&quot;</span>)))
      (set-marker marker <span class="kw">nil</span>)))</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (global-set-key (kbd &quot;C-c w l&quot;)</span>
  <span class="co">;;                 (lambda ()</span>
  <span class="co">;;                   (interactive)</span>
  <span class="co">;;                   (let ((current-prefix-arg &#39;(4)))</span>
  <span class="co">;;                      (call-interactively</span>
  <span class="co">;;                       &#39;org-wrap-in-src-block ))))</span>

  <span class="co">;; (global-set-key (kbd &quot;C-c w n&quot;)</span>
  <span class="co">;;                 (lambda ()</span>
  <span class="co">;;                   (interactive)</span>
  <span class="co">;;                   (let ((current-prefix-arg &#39;(16)))</span>
  <span class="co">;;                      (call-interactively</span>
  <span class="co">;;                       &#39;org-wrap-in-src-block))))</span>

  <span class="co">;; (global-set-key (kbd &quot;C-c w w&quot;) &#39;org-wrap-in-src-block)</span>


  <span class="co">;; (global-set-key (kbd &quot;C-c w y&quot;)</span>
  <span class="co">;;                 (lambda ()</span>
  <span class="co">;;                   (interactive)</span>
  <span class="co">;;                       (org-wrap-in-src-block  &quot;shell&quot; 1)))</span></code></pre></div>
<h3>food</h3>
<h4>specific sparse trees</h4>
<h6>breakfeast</h6>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> cooking-sparse-tree-breakfeast </span>()
    (interactive)
    (org-match-sparse-tree <span class="kw">t</span> <span class="st">&quot;+TODO=</span>\&quot;<span class="st">COOK</span>\&quot;<span class="st">+Type=</span>\&quot;<span class="st">breakfest</span>\&quot;<span class="st">&quot;</span>))

  (<span class="kw">defun</span><span class="fu"> cooking-sparse-tree-main </span>()
    (interactive)
    (org-match-sparse-tree <span class="kw">t</span> <span class="st">&quot;+TODO=</span>\&quot;<span class="st">COOK</span>\&quot;<span class="st">+Type=</span>\&quot;<span class="st">main</span>\&quot;<span class="st">&quot;</span>))

  (<span class="kw">defun</span><span class="fu"> cooking-sparse-tree-main </span>()
    (interactive)
    (org-match-sparse-tree <span class="kw">t</span> <span class="st">&quot;+TODO=</span>\&quot;<span class="st">COOK</span>\&quot;<span class="st">+Type=</span>\&quot;<span class="st">sweet</span>\&quot;<span class="st">&quot;</span>))

  (<span class="kw">defun</span><span class="fu"> cooking-sparse-tree-main </span>()
    (interactive)
    (org-match-sparse-tree <span class="kw">t</span> <span class="st">&quot;+TODO=</span>\&quot;<span class="st">COOK</span>\&quot;<span class="st">+Type=</span>\&quot;<span class="st">meat</span>\&quot;<span class="st">&quot;</span>))

  (<span class="kw">defun</span><span class="fu"> cooking-sparse-tree-fav </span>()
    (interactive)
    (org-match-sparse-tree <span class="kw">t</span> <span class="st">&quot;+Fav=</span>\&quot;<span class="st">y</span>\&quot;<span class="st">&quot;</span>))
</code></pre></div>
<h4>inbox Recipe Template</h4>
<p>based on the following blog post: <a href="http://lebensverrueckt.haktar.org/articles/org-mode-Food/#comment-1348609811" class="uri">http://lebensverrueckt.haktar.org/articles/org-mode-Food/#comment-1348609811</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> recipe-template </span>()
    (interactive)
    (goto-line <span class="dv">0</span>)
    (search-forward <span class="st">&quot;* Inbox&quot;</span>)
     (org-meta-return)
     (org-metaright)
     (<span class="kw">setq</span> recipe-name (read-string <span class="st">&quot;Title: &quot;</span>))
     (insert recipe-name)
     (org-todo <span class="st">&quot;COOK&quot;</span>) 
     (org-set-tags)
     (org-meta-return)
     (org-metaright)
     (insert <span class="st">&quot;Ingridients&quot;</span>)
     (org-meta-return)
     (insert <span class="st">&quot;Preperation&quot;</span>)
     (search-backward recipe-name)
     (<span class="kw">setq</span> src1 (read-string <span class="st">&quot;Time: &quot;</span>))
     (org-set-property <span class="st">&quot;Time&quot;</span> src1)
     (<span class="kw">setq</span> src2 (read-string <span class="st">&quot;Rating: &quot;</span>))
     (org-set-property <span class="st">&quot;Rating&quot;</span> src2)
     (<span class="kw">setq</span> src3 (read-string <span class="st">&quot;Sources: &quot;</span>))
     (org-set-property <span class="st">&quot;Source&quot;</span> src3)
     (<span class="kw">setq</span> src4 (read-string <span class="st">&quot;Ammount: &quot;</span>))
     (org-set-property <span class="st">&quot;Ammount&quot;</span> src4)
     (<span class="kw">setq</span> src5 (read-string <span class="st">&quot;Fav: &quot;</span>))
     (org-set-property <span class="st">&quot;Fav&quot;</span> src5)
     (search-forward <span class="st">&quot;Ingridients&quot;</span>)
     (evil-open-below <span class="dv">1</span>)
     (beginning-of-visual-line)
  )</code></pre></div>
<h4>ADD Recipe Template</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> blank-recipe-template </span>()
    (interactive)
     (org-meta-return)
     (org-metaright)
     (<span class="kw">setq</span> recipe-name (read-string <span class="st">&quot;Title: &quot;</span>))
     (insert recipe-name)
     (org-set-tags)
     (org-meta-return)
     (org-metaright)
     (insert <span class="st">&quot;Ingridients&quot;</span>)
     (org-meta-return)
     (insert <span class="st">&quot;Preperation&quot;</span>)
     (search-backward recipe-name)
     (<span class="kw">setq</span> src1 (read-string <span class="st">&quot;Time: &quot;</span>))
     (org-set-property <span class="st">&quot;Time&quot;</span> src1)
     (<span class="kw">setq</span> src2 (read-string <span class="st">&quot;Rating: &quot;</span>))
     (org-set-property <span class="st">&quot;Rating&quot;</span> src2)
     (<span class="kw">setq</span> src3 (read-string <span class="st">&quot;Sources: &quot;</span>))
     (org-set-property <span class="st">&quot;Source&quot;</span> src3)
     (<span class="kw">setq</span> src4 (read-string <span class="st">&quot;Ammount: &quot;</span>))
     (org-set-property <span class="st">&quot;Ammount&quot;</span> src4)
     (<span class="kw">setq</span> src5 (read-string <span class="st">&quot;Fav: &quot;</span>))
     (org-set-property <span class="st">&quot;Fav&quot;</span> src5)
     (search-forward <span class="st">&quot;Ingridients&quot;</span>)
     (evil-open-below <span class="dv">1</span>)
     (beginning-of-visual-line)
  )</code></pre></div>
<h4>add Travel Template</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> travel-template </span>()
    (interactive)
    (goto-line <span class="dv">0</span>)
    (search-forward <span class="st">&quot;* Inbox&quot;</span>)
     (org-meta-return)
     (org-metaright)
     (<span class="kw">setq</span> travel-name (read-string <span class="st">&quot;Title: &quot;</span>))
     (insert travel-name)
     (org-set-tags)
     (org-meta-return)
     (org-metaright)
     (insert <span class="st">&quot;Details&quot;</span>)
     (org-meta-return)
     (search-backward travel-name)
     (<span class="kw">setq</span> src1 (read-string <span class="st">&quot;Rating: &quot;</span>))
     (org-set-property <span class="st">&quot;Rating&quot;</span> src1)
     (<span class="kw">setq</span> src2 (read-string <span class="st">&quot;Sources: &quot;</span>))
     (org-set-property <span class="st">&quot;Source&quot;</span> src2)
     (<span class="kw">setq</span> src3 (read-string <span class="st">&quot;Fav: &quot;</span>))
     (org-set-property <span class="st">&quot;Fav&quot;</span> src3)
     (search-forward <span class="st">&quot;Details&quot;</span>)
     (evil-open-below <span class="dv">1</span>)
  )</code></pre></div>
<h3>movment org specific</h3>
<h4>go to top header</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">; Speed commands are really useful, but I often want to make use of</span>
  <span class="co">; them when I&#39;m not at the beginning of a header. Ths command brings</span>
  <span class="co">; you back to the beginning of an item&#39;s header, so that you can do</span>
  <span class="co">; speed commands.</span>

  (<span class="kw">defun</span><span class="fu"> org-go-speed </span>()
  <span class="st">&quot;Goes to the beginning of an element&#39;s header, so that you can</span>
<span class="st">  execute speed commands.&quot;</span>
  (interactive)
  (<span class="kw">when</span> (<span class="kw">equal</span> major-mode &#39;org-mode)
  (<span class="kw">if</span> (org-at-heading-p)
  (org-beginning-of-line)
  (org-up-element))))
</code></pre></div>
<h2>font locks</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;warning</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(@[^@</span>\n<span class="st">]+@</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:foreground <span class="st">&quot;#B40000&quot;</span> :background <span class="st">&quot;#FFDDDD&quot;</span> :weight bold) <span class="kw">t</span>))))

  <span class="co">;tip</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(%[^%</span>\n<span class="st">]+%</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :background <span class="st">&quot;#DDFFDD&quot;</span> :foreground <span class="st">&quot;#000000&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;notice</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(![^!</span>\n<span class="st">]+!</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#B40000&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;high-green</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(&#39;[^&#39;</span>\n<span class="st">]+&#39;</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:background <span class="st">&quot;#35FF00&quot;</span> :weight ultra-bold) <span class="kw">t</span>))))

  <span class="co">;high-yellow</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(`[^`</span>\n<span class="st">]+`</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:foreground <span class="st">&quot;#000000&quot;</span> :weight ultra-bold :background <span class="st">&quot;#FBFF00&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(₆[^₆</span>\n<span class="st">]+₆</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:foreground <span class="st">&quot;#000000&quot;</span> :underline <span class="kw">t</span> :background <span class="st">&quot;#FF9AEA&quot;</span> :weight ultra-bold) <span class="kw">t</span>))))

  <span class="co">;</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(₅[^₅</span>\n<span class="st">]+₅</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#1E00DE&quot;</span>) <span class="kw">t</span>))))


  <span class="co">;</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(₄[^₄</span>\n<span class="st">]+₄</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#FF9800&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;blusish</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(•[^•</span>\n<span class="st">]•+</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#393D900&quot;</span>) <span class="kw">t</span>))))



  <span class="co">;;;;SPECIFIC WORDS </span>

  <span class="co">;server</span>
  (font-lock-add-keywords
  &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">b[Ss]erver</span>\\<span class="st">b&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#FF9800&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;client</span>
  (font-lock-add-keywords
  &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">b[Cc]lient</span>\\<span class="st">b&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#0044FF&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;private</span>
  (font-lock-add-keywords
  &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">b[Pp]rivate</span>\\<span class="st">b&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#FF6767&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;public</span>
  (font-lock-add-keywords
  &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">b[Pp]ublic</span>\\<span class="st">b&quot;</span> (<span class="dv">0</span> &#39;(:weight ultra-bold :foreground <span class="st">&quot;#59BD7E&quot;</span>) <span class="kw">t</span>))))


  <span class="co">;In Example</span>
  (font-lock-add-keywords
  &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">b[Ii]n example</span>\\<span class="st">b&quot;</span> (<span class="dv">0</span> &#39;(:foreground <span class="st">&quot;#000000&quot;</span> :underline <span class="kw">t</span> :background <span class="st">&quot;#FF9AEA&quot;</span> :weight ultra-bold) <span class="kw">t</span>))))


  <span class="co">;header</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(‡[^‡</span>\n<span class="st">]+‡</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:foreground <span class="st">&quot;#ffffff&quot;</span> :weight ultra-bold :slant italic :background <span class="st">&quot;#59BD7F&quot;</span> :height <span class="fl">1.3</span>) <span class="kw">t</span>))))

  <span class="co">;;;FOR SPECIAL CHARACTERS</span>

  <span class="co">;for key shortucts</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(</span>\\<span class="st">?[^?</span>\n<span class="st">]+</span>\\<span class="st">?</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:foreground <span class="st">&quot;#000000&quot;</span> :weight ultra-bold :background <span class="st">&quot;#FF9C2C&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;for $Note$ </span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(</span>\\<span class="st">$[^$</span>\n<span class="st">]+</span>\\<span class="st">$</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:background <span class="st">&quot;#DDDDFF&quot;</span> :foreground <span class="st">&quot;#000000&quot;</span> :weight ultra-bold) <span class="kw">t</span>))))

  <span class="co">;for ^</span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(</span>\\<span class="st">^[^^</span>\n<span class="st">]+</span>\\<span class="st">^</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:weight bold  :box (:line-width <span class="dv">1</span> :color <span class="st">&quot;#A5A0FF&quot;</span>)  :foreground <span class="st">&quot;#00006F&quot;</span> :background <span class="st">&quot;#FFFFFF&quot;</span>) <span class="kw">t</span>))))

  <span class="co">;for † </span>
  (font-lock-add-keywords
   &#39;org-mode
  &#39;((<span class="st">&quot;</span>\\<span class="st">(</span>\\<span class="st">†[^†</span>\n<span class="st">]+</span>\\<span class="st">†</span>\\<span class="st">)&quot;</span> (<span class="dv">0</span> &#39;(:weight bold  :box (:line-width <span class="dv">1</span> :color <span class="st">&quot;#A5A0FF&quot;</span>)  :foreground <span class="st">&quot;#00006F&quot;</span> :background <span class="st">&quot;#FFFFFF&quot;</span>) <span class="kw">t</span>))))
</code></pre></div>
<p>The following characters are special : . * + ? ^ $  [</p>
<p>more characters : <a href="http://en.wikipedia.org/wiki/List_of_Unicode_characters" class="uri">http://en.wikipedia.org/wiki/List_of_Unicode_characters</a></p>
<pre class="example"><code>†•‖‣․‥  … ⁅⁆    ⁑⁒⁓⁔⁕⁖⁗⁘⁙⁚⁛⁜⁝₀  ₁₂₃₄    ₅₆₇₈₉ ₊ ₋ ₌
</code></pre>
<h2>look and feel</h2>
<h3>make code blocks look better</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;    (defun prettier-org-code-blocks ()</span>
  <span class="co">;      (interactive)</span>
  <span class="co">;      (font-lock-add-keywords nil</span>
  <span class="co">;        &#39;((&quot;\\(\+begin_src\\)&quot;</span>
  <span class="co">;           (0 (progn (compose-region (match-beginning 1) (match-end 1) ?¦)</span>
  <span class="co">;                     nil)))</span>
  <span class="co">;          (&quot;\\(\+end_src\\)&quot;</span>
  <span class="co">;           (0 (progn (compose-region (match-beginning 1) (match-end 1) ?¦)</span>
  <span class="co">;                     nil))))))</span>
  <span class="co">;    (add-hook &#39;org-mode-hook &#39;prettier-org-code-blocks)</span></code></pre></div>
<h2>Export/publishing</h2>
<h3>add ODT, beamer etc exporters</h3>
<h4>base</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;ox-odt)
  (<span class="kw">require</span> &#39;ox-beamer)
  (<span class="kw">require</span> &#39;ox-latex)
</code></pre></div>
<h4>korma</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;load-path <span class="st">&quot;/home/zeltak/.emacs.g/org-mode/contrib/lisp/&quot;</span>)


  (eval-after-load &#39;ox &#39;(<span class="kw">require</span> &#39;ox-koma-letter))

  (eval-after-load &#39;ox-latex
    &#39;(add-to-list &#39;org-latex-packages-alist &#39;(<span class="st">&quot;AUTO&quot;</span> <span class="st">&quot;babel&quot;</span> <span class="kw">t</span>) <span class="kw">t</span>))
</code></pre></div>
<h3>export locations for publishing</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">       (<span class="kw">setq</span> org-publish-project-alist
       &#39;(
          (<span class="st">&quot;Help_files&quot;</span>
          :base-directory <span class="st">&quot;~/org/files/help/&quot;</span>
          :publishing-directory <span class="st">&quot;~/org/files/export/&quot;</span>
          :section-numbers <span class="kw">nil</span>
          :table-of-contents <span class="kw">nil</span>
          :publishing-function org-ascii-publish-to-ascii
             )
          (<span class="st">&quot;econf&quot;</span>
          :base-directory <span class="st">&quot;~/org/files/agenda/&quot;</span>
          :publishing-directory <span class="st">&quot;~/org/files/export/&quot;</span>
          :section-numbers <span class="kw">nil</span>
          :table-of-contents <span class="kw">nil</span>
          :publishing-function org-html-publish-to-html
             )
  ))</code></pre></div>
<h3>visual option</h3>
<h4>remove the “Validate XHTML 1.0” message from HTML export</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-export-html-validation-link <span class="kw">nil</span>)</code></pre></div>
<h4>disregard _ as subscript</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  org-use-sub-superscripts <span class="kw">nil</span>        <span class="co">;; don&#39;t use `_&#39; for subscript</span></code></pre></div>
<h2>org attach</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> org-attach-directory <span class="st">&quot;/home/zeltak/org/attach/files_2015/&quot;</span>)</code></pre></div>
<h1>look and feel</h1>
<h2>Base</h2>
<pre><code>  ;; Remove splash screen
  (setq inhibit-splash-screen t)

  ;; transient mode-importnat!
  (transient-mark-mode 1)

  ;;winner mode by def-alut

  ;m use C-c &lt;left&gt; to restore the previous window configuration
  (winner-mode 1)

  ; syntax highlighting everywhere
  (global-font-lock-mode 1)

  ;;clipboard to sysclip
  (setq x-select-enable-clipboard t)

  ;;paren mode- show visually matching parens
  (show-paren-mode 1)
  ;show line numbers
  (global-linum-mode 0) ; display line numbers in margin. Emacs 23 only

  ;visual line
  (global-visual-line-mode 1) ; 1 for on, 0 for off.

  ;; don&#39;t show text in scratch buffer
  (setq initial-scratch-message nil)


  ; Add word wrapping/wrap, may cause lines to be to short if enabled
  ;(global-visual-line-mode t)
  (setq line-move-visual nil)


  ;;disable tooltips
  (tooltip-mode -1)

</code></pre>
<h2>start maximized</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;Start maximized, please</span>
  (custom-set-variables
   &#39;(initial-frame-alist (<span class="kw">quote</span> ((fullscreen . maximized))))) <span class="co">;; start maximized</span>
</code></pre></div>
<h2>scroll</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">; scroll one line at a time (less &quot;jumpy&quot; than defaults)</span>
  (<span class="kw">setq</span> scroll-margin <span class="dv">5</span>
  scroll-conservatively <span class="dv">9999</span>
  scroll-step <span class="dv">1</span>)</code></pre></div>
<h2>toolbars</h2>
<p>turn on off toolbars with icons 1 to switch on and -1 to switch off</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (tool-bar-mode -<span class="dv">1</span>)</code></pre></div>
<h2>mouse and cursor</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> mouse-wheel-scroll-amount &#39;(<span class="dv">1</span> ((shift) . <span class="dv">1</span>))) <span class="co">;; one line at a time</span>

  (<span class="kw">setq</span> mouse-wheel-progressive-speed <span class="kw">nil</span>) <span class="co">;; don&#39;t accelerate scrolling</span>

  (<span class="kw">setq</span> mouse-wheel-follow-mouse &#39;t) <span class="co">;; scroll window under mouse</span>

  <span class="co">;make cursor blink (use -1 to disable):</span>
  (blink-cursor-mode -<span class="dv">1</span>)

  <span class="co">;;Keep the cursor steady when scrolling</span>
  (<span class="kw">setq</span> scroll-preserve-screen-position <span class="kw">t</span>)

</code></pre></div>
<h2>Menus</h2>
<h3>Add language switching menu</h3>
<pre><code>  (define-key-after global-map [menu-bar file lang-modes] 
    (cons &quot;Language Modes&quot; (make-sparse-keymap &quot;major modes&quot;)) &#39;kill-buffer )

  (define-key global-map [menu-bar file lang-modes bash] &#39;(&quot;Bash&quot; . sh-mode))
  (define-key global-map [menu-bar file lang-modes org] &#39;(&quot;Org&quot; . org-mode))
  (define-key global-map [menu-bar file lang-modes tcl] &#39;(&quot;TCL&quot; . tcl-mode))
  (define-key global-map [menu-bar file lang-modes ruby] &#39;(&quot;Ruby&quot; . ruby-mode))
  (define-key global-map [menu-bar file lang-modes python] &#39;(&quot;Python&quot; . python-mode))
  (define-key global-map [menu-bar file lang-modes php] &#39;(&quot;PHP&quot; . php-mode))
  (define-key global-map [menu-bar file lang-modes perl] &#39;(&quot;Perl&quot; . cperl-mode))
  (define-key global-map [menu-bar file lang-modes separator1] &#39;(&quot;--&quot;))
  (define-key global-map [menu-bar file lang-modes haskell] &#39;(&quot;Haskell&quot; . haskell-mode))
  (define-key global-map [menu-bar file lang-modes ocaml] &#39;(&quot;OCaml&quot; . tuareg-mode))
  (define-key global-map [menu-bar file lang-modes elisp] &#39;(&quot;Emacs Lisp&quot; . emacs-lisp-mode))
  (define-key global-map [menu-bar file lang-modes separator2] &#39;(&quot;--&quot;))
  (define-key global-map [menu-bar file lang-modes latex] &#39;(&quot;LaTeX&quot; . latex-mode))
  (define-key global-map [menu-bar file lang-modes js] &#39;(&quot;Javascript&quot; . js2-mode))
  (define-key global-map [menu-bar file lang-modes xml] &#39;(&quot;XML (xml-mode)&quot; . xml-mode))
  (define-key global-map [menu-bar file lang-modes nxml] &#39;(&quot;XML (nxml-mode)&quot; . nxml-mode))
  (define-key global-map [menu-bar file lang-modes html] &#39;(&quot;HTML&quot; . html-mode))
  (define-key global-map [menu-bar file lang-modes htmlhelper] &#39;(&quot;HTML (html-helper-mode)&quot; . html-helper-mode))
  (define-key global-map [menu-bar file lang-modes css] &#39;(&quot;CSS&quot; . css-mode))
  (define-key global-map [menu-bar file lang-modes separator3] &#39;(&quot;--&quot;))
  (define-key global-map [menu-bar file lang-modes java] &#39;(&quot;Java&quot; . java-mode))
  (define-key global-map [menu-bar file lang-modes c++] &#39;(&quot;C++&quot; . c++-mode))
  (define-key global-map [menu-bar file lang-modes c] &#39;(&quot;C&quot; . c-mode))
</code></pre>
<h3>Add zeltak menu</h3>
<pre><code>  ;; (easy-menu-define zmenu global-map &quot;zglobal-menu&quot;
  ;;   &#39;(&quot;zglobal&quot;

  ;; (&quot;Programs&quot; ;; submenu
  ;;        [&quot;&quot;  (djcb-term-start-or-switch &quot;mutt&quot; t)]
  ;;        [&quot;mc&quot;    (djcb-term-start-or-switch &quot;mc&quot; t)]
  ;;        [&quot;htop&quot;  (djcb-term-start-or-switch &quot;htop&quot; t)]
  ;;        [&quot;iotop&quot; (djcb-term-start-or-switch &quot;iotop&quot; t)])

  ;;      ;; http://emacs-fu.blogspot.com/2009/03/math-formulae-in-webpages.html
  ;;      ;; this submenu is only visible when in org--mode
  ;;      (&quot;Org&quot;  :visible (or (string= major-mode &quot;org-mode&quot;) (string= major-mode &quot;org-mode&quot;))
  ;;        [&quot;Insert formula&quot;   texdrive-insert-formula :help &quot;Insert some formula&quot;]
  ;;        [&quot;Generate images&quot;  texdrive-generate-images :help &quot;(Re)generate the images for the formulae&quot;])

  ;;      ;; http://emacs-fu.blogspot.com/2009/03/twitter.html
  ;;      (&quot;Twitter&quot; ;; submenu
  ;;        [&quot;View friends&quot; twitter-get-friends-timeline]
  ;;        [&quot;What are you doing?&quot; twitter-status-edit])

  ;;      (&quot;Misc&quot;  ;; submenu
  ;;        ;; http://emacs-fu.blogspot.com/2009/01/counting-words.html
  ;;        [&quot;Count words&quot; djcb-count-words]

  ;;        ;;http://emacs-fu.blogspot.com/2008/12/showing-line-numbers.html
  ;;        [&quot;Show/hide line numbers&quot; linum]

  ;;        ;; http://emacs-fu.blogspot.com/2008/12/running-emacs-in-full-screen-mode.html
  ;;        [&quot;Toggle full-screen&quot; djcb-fullscreen-toggle])))

  (easy-menu-define zorg org-mode-map &quot;zorg-menu&quot;
    &#39;(&quot;zorg&quot;
       ;; http://emacs-fu.blogspot.com/2008/12/running-console-programs-inside-emacs.html
       (&quot;images&quot; ;; submenu
         [&quot;org toggle inline&quot;  (org-toggle-inline-images t)]
         [&quot;mc&quot;    (fun1  t)]
         [&quot;htop&quot;  (fun2  t)]
         [&quot;iotop&quot; (fun3  t)])

       ;; http://emacs-fu.blogspot.com/2009/03/twitter.html
       (&quot;Twitter&quot; ;; submenu
         [&quot;View friends&quot; twitter-get-friends-timeline]
         [&quot;What are you doing?&quot; twitter-status-edit])

       (&quot;Misc&quot;  ;; submenu
         ;; http://emacs-fu.blogspot.com/2009/01/counting-words.html
         [&quot;Count words&quot; djcb-count-words]

         ;;http://emacs-fu.blogspot.com/2008/12/showing-line-numbers.html
         [&quot;Show/hide line numbers&quot; linum]

         ;; http://emacs-fu.blogspot.com/2008/12/running-emacs-in-full-screen-mode.html
         [&quot;Toggle full-screen&quot; djcb-fullscreen-toggle])))


</code></pre>
<h2>Theme and colors</h2>
<h3>disable answering yes to &quot;unsafe&quot; themes</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> custom-safe-themes <span class="kw">t</span>)    </code></pre></div>
<h3>change background based on file type</h3>
<pre><code>
  ;; sample code for setting a background color depending on file name extension

  ; (defun my-set-theme-on-mode ()
  ;   &quot;set background color depending on file suffix&quot;
  ;   (interactive)
  ;   (let ((fileNameSuffix (file-name-extension (buffer-file-name) ) ))
  ;     (cond
  ;      ((string= fileNameSuffix &quot;py&quot; ) (set-background-color &quot;honeydew&quot;))
  ;      ((string= fileNameSuffix &quot;txt&quot; ) (set-background-color &quot;cornsilk&quot;))
  ;      (t (message &quot;%s&quot; &quot;no match found&quot;))
  ;      )
  ;     ))
  ;
  ; (add-hook &#39;find-file-hook &#39;my-set-theme-on-mode)
</code></pre>
<h2>Evil mode look and feel</h2>
<h3>Cursor colors by state</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;color in emacs mode</span>
  (<span class="kw">setq</span> evil-emacs-state-cursor &#39;(<span class="st">&quot;cyan&quot;</span> box))
  <span class="co">;nomral state mode</span>
  (<span class="kw">setq</span> evil-normal-state-cursor &#39;(<span class="st">&quot;green&quot;</span> box))
  <span class="co">;visual state mode</span>
  (<span class="kw">setq</span> evil-visual-state-cursor &#39;(<span class="st">&quot;orange&quot;</span> box))
  <span class="co">;inset state mode</span>
  (<span class="kw">setq</span> evil-insert-state-cursor &#39;(<span class="st">&quot;red&quot;</span> box))
  (<span class="kw">setq</span> evil-replace-state-cursor &#39;(<span class="st">&quot;red&quot;</span> box))
  (<span class="kw">setq</span> evil-operator-state-cursor &#39;(<span class="st">&quot;red&quot;</span> hollow))
</code></pre></div>
<h1>Dired</h1>
<h3>main options</h3>
<h4>Sort Directories First</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> dired-listing-switches <span class="st">&quot;-aBhl  --group-directories-first&quot;</span>)</code></pre></div>
<h4>Auto guess target</h4>
<p>Set this variable to non-nil, Dired will try to guess a default target directory. This means: if there is a dired buffer displayed in the next window, use its current subdir, instead of the current subdir of this dired buffer. The target is used in the prompt for file copy, rename etc.</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> dired-dwim-target <span class="kw">t</span>)</code></pre></div>
<h4>copy from one dired dir to the next dired dir shown in a split window</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> dired-dwim-target <span class="kw">t</span>)</code></pre></div>
<h4>Always Recursion</h4>
<p>Always recursively delete directory</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> dired-recursive-deletes &#39;always)<span class="co">; “always” means no asking</span>
  <span class="co">;Always recursively copy directory</span>
  (<span class="kw">setq</span> dired-recursive-copies &#39;top) <span class="co">; “top” means ask once</span></code></pre></div>
<h3>functions</h3>
<h4>open in external (default) app</h4>
<p><a href="http://ergoemacs.org/emacs/emacs_dired_open_file_in_ext_apps.html" class="uri">http://ergoemacs.org/emacs/emacs_dired_open_file_in_ext_apps.html</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/dired-open-in-external-app </span>()
    <span class="st">&quot;Open the current file or dired marked files in external app.</span>
<span class="st">  The app is chosen from your OS&#39;s preference.&quot;</span>
    (interactive)
    (<span class="kw">let*</span> (
     (ξfile-list
      (<span class="kw">if</span> (<span class="kw">string-equal</span> major-mode <span class="st">&quot;dired-mode&quot;</span>)
          (dired-get-marked-files)
        (<span class="kw">list</span> (buffer-file-name))))
     (ξdo-it-p (<span class="kw">if</span> (<span class="kw">&lt;=</span> (<span class="kw">length</span> ξfile-list) <span class="dv">5</span>)
               <span class="kw">t</span>
             (<span class="kw">y-or-n-p</span> <span class="st">&quot;Open more than 5 files? &quot;</span>))))

      (<span class="kw">when</span> ξdo-it-p
        (<span class="kw">cond</span>
         ((<span class="kw">string-equal</span> system-type <span class="st">&quot;windows-nt&quot;</span>)
    (<span class="kw">mapc</span>
     (<span class="kw">lambda</span> (fPath)
       (w32-shell-execute <span class="st">&quot;open&quot;</span> (replace-regexp-in-string <span class="st">&quot;/&quot;</span> <span class="st">&quot;</span>\\<span class="st">&quot;</span> fPath <span class="kw">t</span> <span class="kw">t</span>))) ξfile-list))
         ((<span class="kw">string-equal</span> system-type <span class="st">&quot;darwin&quot;</span>)
    (<span class="kw">mapc</span>
     (<span class="kw">lambda</span> (fPath) (shell-command (<span class="kw">format</span> <span class="st">&quot;open </span>\&quot;<span class="st">%s</span>\&quot;<span class="st">&quot;</span> fPath)))  ξfile-list))
         ((<span class="kw">string-equal</span> system-type <span class="st">&quot;gnu/linux&quot;</span>)
    (<span class="kw">mapc</span>
     (<span class="kw">lambda</span> (fPath) (<span class="kw">let</span> ((process-connection-type <span class="kw">nil</span>)) (start-process <span class="st">&quot;&quot;</span> <span class="kw">nil</span> <span class="st">&quot;xdg-open&quot;</span> fPath))) ξfile-list))))))</code></pre></div>
<h4>open in WM/DE file manafer</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/dired-open-in-desktop </span>()
    <span class="st">&quot;Show current file in desktop (OS&#39;s file manager).&quot;</span>
    (interactive)
    (<span class="kw">cond</span>
     ((<span class="kw">string-equal</span> system-type <span class="st">&quot;windows-nt&quot;</span>)
      (w32-shell-execute <span class="st">&quot;explore&quot;</span> (replace-regexp-in-string <span class="st">&quot;/&quot;</span> <span class="st">&quot;</span>\\<span class="st">&quot;</span> default-directory <span class="kw">t</span> <span class="kw">t</span>)))
     ((<span class="kw">string-equal</span> system-type <span class="st">&quot;darwin&quot;</span>) (shell-command <span class="st">&quot;open .&quot;</span>))
     ((<span class="kw">string-equal</span> system-type <span class="st">&quot;gnu/linux&quot;</span>)
      (<span class="kw">let</span> ((process-connection-type <span class="kw">nil</span>)) (start-process <span class="st">&quot;&quot;</span> <span class="kw">nil</span> <span class="st">&quot;xdg-open&quot;</span> <span class="st">&quot;.&quot;</span>))
      <span class="co">;; (shell-command &quot;xdg-open .&quot;) ;; 2013-02-10 this sometimes froze emacs till the folder is closed. ⁖ with nautilus</span>
      ) ))</code></pre></div>
<h4>get marked files size</h4>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z/dired-get-size </span>()
   (interactive)
   (<span class="kw">let</span> ((files (dired-get-marked-files)))
     (with-temp-buffer
       (<span class="kw">apply</span> &#39;call-process <span class="st">&quot;/usr/bin/du&quot;</span> <span class="kw">nil</span> <span class="kw">t</span> <span class="kw">nil</span> <span class="st">&quot;-sch&quot;</span> files)
       (message <span class="st">&quot;Size of all marked files: %s&quot;</span>
          (<span class="kw">progn</span> 
        (re-search-backward <span class="st">&quot;</span>\\<span class="st">(^[0-9.,]+[A-Za-z]+</span>\\<span class="st">).*total$&quot;</span>)
         (match-string <span class="dv">1</span>))))))</code></pre></div>
<h3>dired omit</h3>
<p>Omitting a file means removing it from the directory listing. Omitting is useful for keeping Dired buffers free of “uninteresting” files (for instance, auto-save, auxiliary, backup, and revision control files) so that the user can concentrate on the interesting files. To activate it, add this to your .emacs</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (setq-default dired-omit-mode <span class="kw">t</span>)</code></pre></div>
<p>To toggle the mode, bind it to a keystroke that you like</p>
<p>(define-key dired-mode-map (kbd &quot;C-o&quot;) 'dired-omit-mode)</p>
<p>dired-omit-files contains the regex of the files to hide in Dired Mode. For example, if you want to hide the files that begin with . and #, set that variable like this</p>
<p>(setq-default dired-omit-files &quot;^<br />
.?#<br />
|^<br />
.$<br />
|^<br />
.<br />
.$<br />
|^<br />
.&quot;)</p>
<p>The variable dired-omit-extensions holds the list of all file extensions to hide in Dired Omit Mode. You can modify the list to add more file extensions to hide or remove the ones that you would like to show.</p>
<p>(add-to-list 'dired-omit-extension &quot;.example&quot;) (delete 'dired-omit-extension &quot;.example&quot;)</p>
<h4>start and toggle</h4>
<p>@Note: If you are using Dired Omit Mode with dired+, remember to put the config of Dired Omit Mode before loading (require) dired+ since some feature of dired+ use the config from Dired Omit Mode (for example for displaying the file names).@</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;To activate it, add this to your .emacs</span>
  (setq-default dired-omit-mode <span class="kw">t</span>)
  <span class="co">;To toggle the mode, bind it to a keystroke that you like</span>
  (define-key dired-mode-map (kbd <span class="st">&quot;C-o&quot;</span>) &#39;dired-omit-mode)</code></pre></div>
<h3>TODO wdired mode</h3>
<p>functions to get tab etc to work</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> my-mark-file-name-for-rename </span>()
      <span class="st">&quot;Mark file name on current line except its extension&quot;</span>
      (interactive)

      <span class="co">;; get the file file name first</span>
      <span class="co">;; full-name: full file name</span>
      <span class="co">;; extension: extension of the file</span>
      <span class="co">;; base-name: file name without extension</span>
      (<span class="kw">let</span> ((full-name (file-name-nondirectory (dired-get-filename)))
      extension base-name)

        <span class="co">;; check if it&#39;s a dir or a file</span>
        <span class="co">;; TODO not use if, use switch case check for symlink</span>
        (<span class="kw">if</span> (file-directory-p full-name)
      (<span class="kw">progn</span>
        <span class="co">;; if file name is directory, mark file name should mark the whole</span>
        <span class="co">;; file name</span>
        (call-interactively &#39;end-of-line) <span class="co">;move the end of line</span>
        (backward-char (<span class="kw">length</span> full-name)) <span class="co">;back to the beginning</span>
        (set-mark (point))
        (forward-char (<span class="kw">length</span> full-name)))
    (<span class="kw">progn</span>
      <span class="co">;; if current file is a file, mark file name mark only the base name,</span>
      <span class="co">;; exclude the extension</span>
      (<span class="kw">setq</span> extension (file-name-extension full-name))
      (<span class="kw">setq</span> base-name (file-name-sans-extension full-name))
      (call-interactively &#39;end-of-line)
      (backward-char (<span class="kw">length</span> full-name))
      (set-mark (point))
      (forward-char (<span class="kw">length</span> base-name))))))

    (<span class="kw">defun</span><span class="fu"> my-mark-file-name-forward </span>()
      <span class="st">&quot;Mark file name on the next line&quot;</span>
      (interactive)
      (deactivate-mark)
      (next-line)
      (my-mark-file-name-for-rename))

    (<span class="kw">defun</span><span class="fu"> my-mark-file-name-backward </span>()
      <span class="st">&quot;Mark file name on the next line&quot;</span>
      (interactive)
      (deactivate-mark)
      (previous-line)
      (my-mark-file-name-for-rename))
</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; (require &#39;wdired)</span>

  <span class="co">;; (eval-after-load &#39;wdired</span>
  <span class="co">;;   (progn</span>
  <span class="co">;;     (define-key wdired-mode-map (kbd &quot;TAB&quot;) &#39;my-mark-file-name-forward)</span>
  <span class="co">;;     (define-key wdired-mode-map (kbd &quot;S-&lt;tab&gt;&quot;) &#39;my-mark-file-name-backward)</span>
  <span class="co">;;     (define-key wdired-mode-map (kbd &quot;s-a&quot;) &#39;my-mark-file-name-for-rename))) ;</span></code></pre></div>
<h1>Editing</h1>
<h2>spelling</h2>
<pre><code>  ;Spelling
  (autoload &#39;flyspell-mode &quot;flyspell&quot; &quot;On-the-fly spelling checker.&quot; t)
  (autoload &#39;flyspell-delay-command &quot;flyspell&quot; &quot;Delay on command.&quot; t)
  (autoload &#39;tex-mode-flyspell-verify &quot;flyspell&quot; &quot;&quot; t) 


  (defun flyspell-check-next-highlighted-word ()
    &quot;custom function to spell check next highlighted word&quot;
    (interactive)
    (flyspell-goto-next-error)
    (ispell-word)
    )

</code></pre>
<h2>warn on large files</h2>
<p>set currently to 100mb</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; warn when opening files bigger than 100MB</span>
  (<span class="kw">setq</span> large-file-warning-threshold <span class="dv">100000000</span>)</code></pre></div>
<h1>LateX</h1>
<h3>Auctex</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> TeX-parse-self <span class="kw">t</span>) <span class="co">; Enable parse on load.</span>
  (<span class="kw">setq</span> TeX-auto-save <span class="kw">t</span>) <span class="co">; Enable parse on save.</span>
  (<span class="kw">setq</span> TeX-PDF-mode <span class="kw">t</span>)<span class="co">; PDF mode (rather than DVI-mode)</span>

  (add-hook &#39;TeX-mode-hook &#39;flyspell-mode)<span class="co">; Enable Flyspell mode for TeX modes such as AUCTeX. Highlights all misspelled words.</span>

  (<span class="kw">setq</span> TeX-command-BibTeX <span class="st">&quot;Biber&quot;</span>)

  (eval-after-load <span class="st">&quot;tex&quot;</span>
  &#39;(add-to-list &#39;TeX-command-list
  &#39;(<span class="st">&quot;Biber&quot;</span> <span class="st">&quot;biber %s&quot;</span> TeX-run-Biber <span class="kw">nil</span> <span class="kw">t</span> :help <span class="st">&quot;Run Biber&quot;</span>) <span class="kw">t</span>))
</code></pre></div>
<h3>bullets</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-latex-bullets </span>()
  <span class="st">&quot;This inserts the LaTeX \itemize environment into a document - LaTeX will</span>
<span class="st">  take care of the wrapping of each item for me&quot;</span>
  (interactive)
  (insert-file-contents <span class="st">&quot;/home/zeltak/Uni/bgu_courses/planner_gis/bullets.tex&quot;</span>))
</code></pre></div>
<h1>Aliases</h1>
<h2>settings</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defalias &#39;yes-or-no-p &#39;y-or-n-p) <span class="co">; y or n is enough</span>
  (defalias &#39;list-buffers &#39;ibuffer) <span class="co">; always use ibuffer</span>
  (defalias &#39;~ &#39;make-backup)
  (defalias &#39;lp &#39;list-packages)
  (defalias &#39;lm &#39;lini)
  (defalias &#39;rr &#39;regex-replace)
  (defalias &#39;em &#39;evil-mode)
  (defalias &#39;iss &#39;ispell) <span class="co">;check spelling on buffer or region if marked</span>
  (defalias &#39;bks &#39;bmkp-save-menu-list-state) <span class="co">;check spelling on buffer or region if marked</span>
</code></pre></div>
<h2>Editing</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">
  (defalias &#39;sl &#39;sort-lines)
  (defalias &#39;rr &#39;reverse-region)
  (defalias &#39;rs &#39;replace-string)
  (defalias &#39;g &#39;grep)
  (defalias &#39;gf &#39;grep-find)
  (defalias &#39;fd &#39;find-dired)
  (defalias &#39;rb &#39;revert-buffer)
  (defalias &#39;sh &#39;shell)
  (defalias &#39;ps &#39;powershell)
  (defalias &#39;fb &#39;flyspell-buffer)
  (defalias &#39;sbc &#39;set-background-color)
  (defalias &#39;rof &#39;recentf-open-files)
  (defalias &#39;lcd &#39;list-colors-display)
</code></pre></div>
<h2>major/minor modes</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">; major modes</span>
  (defalias &#39;hm &#39;html-mode)
  (defalias &#39;tm &#39;text-mode)
  (defalias &#39;elm &#39;emacs-lisp-mode)
  (defalias &#39;om &#39;org-mode)
  (defalias &#39;ssm &#39;shell-script-mode)
  (defalias &#39;html6-mode &#39;xah-html6-mode)

  <span class="co">; minor modes</span>
  (defalias &#39;wsm &#39;whitespace-mode)
  (defalias &#39;gwsm &#39;global-whitespace-mode)
  (defalias &#39;dsm &#39;desktop-save-mode)
  (defalias &#39;acm &#39;auto-complete-mode)
  (defalias &#39;vlm &#39;visual-line-mode)
  (defalias &#39;glm &#39;global-linum-mode)</code></pre></div>
<h2>Code</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">; elisp</span>
  (defalias &#39;eb &#39;eval-buffer)
  (defalias &#39;er &#39;eval-region)
  (defalias &#39;ed &#39;eval-defun)
  (defalias &#39;eis &#39;elisp-index-search)
  (defalias &#39;lf &#39;load-file)


  <span class="co">;escapes</span>
  (defalias &#39;\\ &#39;escape-quotes-region)
  (defalias &#39;\[ &#39;remove-square-brackets)
  (defalias &#39;\<span class="st">&quot; &#39;replace-straight-quotes)</span></code></pre></div>
<h1>Abbriviations</h1>
<h2>global</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; stop asking whether to save newly added abbrev when quitting emacs</span>
  (<span class="kw">setq</span> save-abbrevs <span class="kw">t</span>)
  <span class="co">;; turn on abbrev mode globally</span>
  (setq-default abbrev-mode <span class="kw">t</span>)</code></pre></div>
<h2>personal abbriviations</h2>
<h3>new collected abbrv</h3>
<p>to quickly peak at the personal file look here:</p>
<p><a href="/home/zeltak/.emacs.d/abbrv/personal_abbrv.txt">file:/home/zeltak/.emacs.d/abbrv/personal_abbrv.txt</a></p>
<p>to set</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> abbrev-file-name <span class="st">&quot;/home/zeltak/.emacs.d/abbrv/personal_abbrv.txt&quot;</span>)</code></pre></div>
<p>to autoload it</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">load</span> <span class="st">&quot;/home/zeltak/.emacs.d/abbrv/personal_abbrv.txt&quot;</span>)</code></pre></div>
<h3>loads a huge common abbreviations file</h3>
<p><a href="/home/zeltak/.emacs.d/avvrv/common_abbrv.txt">file:/home/zeltak/.emacs.d/avvrv/common_abbrv.txt</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">load</span> <span class="st">&quot;/home/zeltak/.emacs.d/abbrv/common_abbrv.txt&quot;</span>)</code></pre></div>
<h3>misc abbrv file (general stuff to quick add)</h3>
<p><a href="/home/zeltak/.emacs.d/abbrv/misc_abbrv.txt">file:/home/zeltak/.emacs.d/abbrv/misc_abbrv.txt</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">load</span> <span class="st">&quot;/home/zeltak/.emacs.d/abbrv/misc_abbrv.txt&quot;</span>)</code></pre></div>
<h1>minor modes</h1>
<h2>vimrc mode</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (define-generic-mode &#39;vimrc-generic-mode
      &#39;()
      &#39;()
      &#39;((<span class="st">&quot;^[</span>\t<span class="st"> ]*:?</span>\\<span class="st">(!</span>\\<span class="st">|ab</span>\\<span class="st">|map</span>\\<span class="st">|unmap</span>\\<span class="st">)[^</span>\r\n\&quot;<span class="st">]*</span>\&quot;<span class="st">[^</span>\r\n\&quot;<span class="st">]*</span>\\<span class="st">(</span>\&quot;<span class="st">[^</span>\r\n\&quot;<span class="st">]*</span>\&quot;<span class="st">[^</span>\r\n\&quot;<span class="st">]*</span>\\<span class="st">)*$&quot;</span>
         (<span class="dv">0</span> font-lock-warning-face))
        (<span class="st">&quot;</span>\\<span class="st">(^</span>\\<span class="st">|[</span>\t<span class="st"> ]</span>\\<span class="st">)</span>\\<span class="st">(</span>\&quot;<span class="st">.*</span>\\<span class="st">)$&quot;</span>
        (<span class="dv">2</span> font-lock-comment-face))
        (<span class="st">&quot;</span>\&quot;\\<span class="st">([^</span>\n\r\&quot;\\<span class="st">]</span>\\<span class="st">|</span>\\<span class="st">.</span>\\<span class="st">)*</span>\&quot;<span class="st">&quot;</span>
         (<span class="dv">0</span> font-lock-string-face)))
      &#39;(<span class="st">&quot;/vimrc</span>\\<span class="st">&#39;&quot;</span> <span class="st">&quot;</span>\\<span class="st">.vim</span>\\<span class="st">(rc</span>\\<span class="st">)?</span>\\<span class="st">&#39;&quot;</span>)
      &#39;((<span class="kw">lambda</span> ()
    (modify-syntax-entry ?\<span class="st">&quot; &quot;</span>.<span class="st">&quot;)))</span>
<span class="st">      &quot;</span>Generic mode for Vim configuration files.<span class="st">&quot;)</span></code></pre></div>
<h1>gnus</h1>
<p>look here as a starting point for setup :</p>
<p><a href="https://github.com/redguardtoo/mastering-emacs-in-one-year-guide/blob/master/gnus-guide-en.org" class="uri">https://github.com/redguardtoo/mastering-emacs-in-one-year-guide/blob/master/gnus-guide-en.org</a></p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp"></code></pre></div>
<h1>mu4e</h1>
<h3>base setup</h3>
<p>for ubuntu</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">when</span> (<span class="kw">string=</span> system-name <span class="st">&quot;zuni&quot;</span>)
  (add-to-list &#39;load-path <span class="st">&quot;~/mu/mu4e/&quot;</span>)
  )</code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">

  (<span class="kw">require</span> &#39;mu4e)
  (<span class="kw">require</span> &#39;mu4e-contrib) 
  <span class="co">;for below make sure the (mu4e-maildirs-extension) is installed from melpa/git</span>
  (mu4e-maildirs-extension)
  <span class="co">;; list of my email addresses.</span>
  (<span class="kw">setq</span> mu4e-user-mail-address-list &#39;(<span class="st">&quot;ikloog@gmail.com&quot;</span>
                    <span class="st">&quot;ikloog@bgu.ac.il&quot;</span>
                    <span class="st">&quot;ekloog@hsph.harvard.edu&quot;</span>))
</code></pre></div>
<h3>fetching and indexing</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> mu4e-update-interval <span class="dv">60</span>)
  (<span class="kw">setq</span> mu4e-headers-auto-update <span class="kw">t</span>)
  (<span class="kw">setq</span> mu4e-index-update-error-warning  <span class="kw">t</span>)
  (<span class="kw">setq</span> mu4e-index-update-error-continue   <span class="kw">t</span>)</code></pre></div>
<p>OLD:</p>
<pre class="example"><code>(setq mu4e-get-mail-command &quot;offlineimap&quot;
      mu4e-update-interval 120
    mu4e-headers-auto-update t)
</code></pre>
<h3>personal info</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; something about ourselves</span>
  (<span class="kw">setq</span>
     user-mail-address <span class="st">&quot;ikloog@gmail.com&quot;</span>
     user-full-name  <span class="st">&quot;itai kloog &quot;</span>
     mu4e-compose-signature
      (concat
        <span class="st">&quot;itai kloog</span>\n<span class="st">&quot;</span>
        <span class="st">&quot;http://www.example.com</span>\n<span class="st">&quot;</span>))

  (<span class="kw">setq</span> mu4e-compose-signature-auto-include &#39;t)</code></pre></div>
<h3>mail folders</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; default</span>
  (<span class="kw">setq</span> mu4e-maildir <span class="st">&quot;~/Maildir&quot;</span>)

  (<span class="kw">setq</span> mu4e-drafts-folder <span class="st">&quot;/[Gmail].Drafts&quot;</span>)
  (<span class="kw">setq</span> mu4e-sent-folder   <span class="st">&quot;/[Gmail].Sent Mail&quot;</span>)
  (<span class="kw">setq</span> mu4e-trash-folder  <span class="st">&quot;/[Gmail].Trash&quot;</span>)

  (<span class="kw">setq</span> mu4e-attachment-dir  <span class="st">&quot;~/Downloads&quot;</span>)
</code></pre></div>
<h3>keybinds</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; setup some handy shortcuts</span>
  <span class="co">;; you can quickly switch to your Inbox -- press ``ji&#39;&#39;</span>
  <span class="co">;; then, when you want archive some messages, move them to</span>
  <span class="co">;; the &#39;All Mail&#39; folder by pressing ``ma&#39;&#39;.</span>

  (<span class="kw">setq</span> mu4e-maildir-shortcuts
      &#39;( (<span class="st">&quot;/INBOX&quot;</span>               . ?i)
         (<span class="st">&quot;/[Gmail].Sent Mail&quot;</span>   . ?s)
         (<span class="st">&quot;/[Gmail].Trash&quot;</span>       . ?t)
         (<span class="st">&quot;/[Gmail].All Mail&quot;</span>    . ?a)))

</code></pre></div>
<h3>composing</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  mu4e-compose-dont-reply-to-self <span class="kw">t</span>                  <span class="co">; don&#39;t reply to myself</span></code></pre></div>
<h3>orgmode integration</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;org-mu4e)</code></pre></div>
<h3>sending</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;smtpmail)
  (<span class="kw">setq</span> message-send-mail-function &#39;smtpmail-send-it
     starttls-use-gnutls <span class="kw">t</span>
     smtpmail-starttls-credentials &#39;((<span class="st">&quot;smtp.gmail.com&quot;</span> <span class="dv">587</span> <span class="kw">nil</span> <span class="kw">nil</span>))
     smtpmail-auth-credentials
       &#39;((<span class="st">&quot;smtp.gmail.com&quot;</span> <span class="dv">587</span> <span class="st">&quot;ikloog@gmail.com&quot;</span> <span class="kw">nil</span>))
     smtpmail-default-smtp-server <span class="st">&quot;smtp.gmail.com&quot;</span>
     smtpmail-smtp-server <span class="st">&quot;smtp.gmail.com&quot;</span>
     smtpmail-smtp-service <span class="dv">587</span>)

  <span class="co">;; don&#39;t save messages to Sent Messages, Gmail/IMAP takes care of this</span>
  (<span class="kw">setq</span> mu4e-sent-messages-behavior &#39;delete)

  <span class="co">;; alternatively, for emacs-24 you can use:</span>
  <span class="co">;;(setq message-send-mail-function &#39;smtpmail-send-it</span>
  <span class="co">;;     smtpmail-stream-type &#39;starttls</span>
  <span class="co">;;     smtpmail-default-smtp-server &quot;smtp.gmail.com&quot;</span>
  <span class="co">;;     smtpmail-smtp-server &quot;smtp.gmail.com&quot;</span>
  <span class="co">;;     smtpmail-smtp-service 587)</span></code></pre></div>
<h3>view settings</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> mu4e-date-format-long <span class="st">&quot;%d/%m/%Y (%H:%M:%S)&quot;</span>)
  (<span class="kw">setq</span> mu4e-headers-date-format <span class="st">&quot;%d/%m/%Y (%H:%M:%S)&quot;</span>)
  <span class="co">;can define a horizontal or vertical split </span>
  (<span class="kw">setq</span> mu4e-split-view &#39;horizontal)


  <span class="co">;; use &#39;fancy&#39; non-ascii characters in various places in mu4e</span>
  (<span class="kw">setq</span> mu4e-use-fancy-chars <span class="kw">t</span>)
  <span class="co">;; attempt to show images when viewing messages</span>
  (<span class="kw">setq</span> mu4e-view-show-images <span class="kw">t</span>)
  (<span class="kw">when</span> (<span class="kw">fboundp</span> &#39;imagemagick-register-types)
        (imagemagick-register-types))
  <span class="co">;preffer html  </span>
  (<span class="kw">setq</span> mu4e-view-prefer-html <span class="kw">t</span>)

  <span class="co">;; Silly mu4e only shows names in From: by default. Of course we also  want the addresses.</span>
  (<span class="kw">setq</span> mu4e-view-show-addresses <span class="kw">t</span>)

  <span class="co">;; mu4e-action-view-in-browser is built into mu4e</span>
  <span class="co">;; by adding it to these lists of custom actions</span>
  <span class="co">;; it can be invoked by first pressing a, then selecting</span>
  (add-to-list &#39;mu4e-headers-actions
         &#39;(<span class="st">&quot;in browser&quot;</span> . mu4e-action-view-in-browser) <span class="kw">t</span>)
  (add-to-list &#39;mu4e-view-actions
         &#39;(<span class="st">&quot;in browser&quot;</span> . mu4e-action-view-in-browser) <span class="kw">t</span>)

  <span class="co">;; the headers to show in the headers list -- a pair of a field</span>
  <span class="co">;; and its width, with `nil&#39; meaning &#39;unlimited&#39;</span>
  <span class="co">;; (better only use that for the last field.</span>
  <span class="co">;; These are the defaults:</span>
  (<span class="kw">setq</span> mu4e-headers-fields
      &#39;( (:date          .  <span class="dv">25</span>)
         (:flags         .   <span class="dv">6</span>)
         (:from          .  <span class="dv">22</span>)
         (:subject       .  <span class="kw">nil</span>)))


  <span class="co">;; don&#39;t keep message buffers around</span>
  (<span class="kw">setq</span> message-kill-buffer-on-exit <span class="kw">t</span>)
</code></pre></div>
<h3>html</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">require</span> &#39;mu4e-contrib) 
  (<span class="kw">setq</span> mu4e-html2text-command &#39;mu4e-shr2text) 
  <span class="co">;(setq mu4e-html2text-command &quot;w3m -I utf8 -O utf8 -T text/html&quot;)</span></code></pre></div>
<h3>misc</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; don&#39;t keep message buffers around</span>
  (<span class="kw">setq</span> message-kill-buffer-on-exit <span class="kw">t</span>)

  <span class="co">;; don&#39;t save message to Sent Messages, Gmail/IMAP takes care of this</span>
  (<span class="kw">setq</span> mu4e-sent-messages-behavior &#39;delete)
  <span class="co">;; (See the documentation for `mu4e-sent-messages-behavior&#39; if you have</span>
  <span class="co">;; additional non-Gmail addresses and want assign them different</span>
  <span class="co">;; behavior.)</span>
</code></pre></div>
<h3>Faces</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defgroup mu4e-faces <span class="kw">nil</span> 
    <span class="st">&quot;Type faces (fonts) used in mu4e.&quot;</span> 
    :group &#39;mu4e 
    :group &#39;faces) 

  (defface mu4e-basic-face 
    &#39;((<span class="kw">t</span> :inherit font-lock-keyword-face)) 
    <span class="st">&quot;Basic Face.&quot;</span> 
    :group &#39;mu4e-faces) 

  (defface mu4e-list-default 
    &#39;((<span class="kw">t</span> :inherit mu4e-basic-face)) 
    <span class="st">&quot;Basic list Face.&quot;</span> 
    :group &#39;mu4e-faces) 

  (defface mu4e-rw-default 
    &#39;((<span class="kw">t</span> :inherit mu4e-basic-face)) 
    <span class="st">&quot;Basic rw Face.&quot;</span> 
    :group &#39;mu4e-faces) </code></pre></div>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;; basic face from where the rest inherits </span>
   &#39;(mu4e-basic-face ((<span class="kw">t</span> :inherit font-lock-keyword-face :weight normal :foreground <span class="st">&quot;Gray10&quot;</span>))) 

  <span class="co">;; read-write group </span>
   &#39;(mu4e-rw-default ((<span class="kw">t</span> :inherit mu4e-basic-face))) <span class="co">;; face from where all the read/write faces inherits </span>
   &#39;(mu4e-header-face ((<span class="kw">t</span> :inherit mu4e-rw-default))) 
   &#39;(mu4e-header-marks-face ((<span class="kw">t</span> :inherit mu4e-rw-default))) 
   &#39;(mu4e-header-title-face ((<span class="kw">t</span> :inherit mu4e-rw-default))) 
   &#39;(mu4e-header-highlight-face ((<span class="kw">t</span> :inherit mu4e-rw-default :foreground <span class="st">&quot;Black&quot;</span> :background <span class="st">&quot;LightGray&quot;</span>))) 
   &#39;(mu4e-compose-header-face ((<span class="kw">t</span> :inherit mu4e-rw-default))) 
   &#39;(mu4e-compose-separator-face ((<span class="kw">t</span> :inherit mu4e-rw-default :foreground <span class="st">&quot;Gray30&quot;</span> :weight bold))) 
   &#39;(mu4e-footer-face ((<span class="kw">t</span> :inherit mu4e-rw-default))) 
   &#39;(mu4e-contact-face ((<span class="kw">t</span> :inherit mu4e-rw-default :foreground <span class="st">&quot;Black&quot;</span>))) 
   &#39;(mu4e-cited<span class="dv">-1</span>-face ((<span class="kw">t</span> :inherit mu4e-rw-default :foreground <span class="st">&quot;Gray10&quot;</span>))) 
   &#39;(mu4e-cited<span class="dv">-2</span>-face  ((<span class="kw">t</span> :inherit mu4e-cited<span class="dv">-1</span>-face :foreground <span class="st">&quot;Gray20&quot;</span>))) 
   &#39;(mu4e-cited<span class="dv">-3</span>-face   ((<span class="kw">t</span> :inherit mu4e-cited<span class="dv">-2</span>-face :foreground <span class="st">&quot;Gray30&quot;</span>))) 
   &#39;(mu4e-cited<span class="dv">-4</span>-face    ((<span class="kw">t</span> :inherit mu4e-cited<span class="dv">-3</span>-face :foreground <span class="st">&quot;Gray40&quot;</span>))) 
   &#39;(mu4e-cited<span class="dv">-5</span>-face     ((<span class="kw">t</span> :inherit mu4e-cited<span class="dv">-4</span>-face :foreground <span class="st">&quot;Gray50&quot;</span>))) 
   &#39;(mu4e-cited<span class="dv">-6</span>-face      ((<span class="kw">t</span> :inherit mu4e-cited<span class="dv">-5</span>-face :foreground <span class="st">&quot;Gray60&quot;</span>))) 
   &#39;(mu4e-cited<span class="dv">-7</span>-face       ((<span class="kw">t</span> :inherit mu4e-cited<span class="dv">-6</span>-face :foreground <span class="st">&quot;Gray70&quot;</span>))) 
   &#39;(mu4e-link-face ((<span class="kw">t</span> :inherit mu4e-rw-default :foreground <span class="st">&quot;Blue&quot;</span> :weight bold))) 
   &#39;(mu4e-system-face ((<span class="kw">t</span> :inherit mu4e-rw-defaul :foreground <span class="st">&quot;DarkOrchid&quot;</span>))) 
   &#39;(mu4e-url-number-face ((<span class="kw">t</span> :inherit mu4e-rw-default :weight bold))) 
   &#39;(mu4e-attach-number-face ((<span class="kw">t</span> :inherit mu4e-rw-default :weight bold :foreground <span class="st">&quot;Blue&quot;</span>))) 

  <span class="co">;; lists (headers) group </span>
   &#39;(mu4e-list-default ((<span class="kw">t</span> :inherit mu4e-basic-face))) <span class="co">;; basic list face from where lists inherits </span>
   &#39;(mu4e-draft-face ((<span class="kw">t</span> :inherit mu4e-list-default))) 
   &#39;(mu4e-flagged-face ((<span class="kw">t</span> :inherit mu4e-list-default :weight bold :foreground <span class="st">&quot;Black&quot;</span>))) 
   &#39;(mu4e-forwarded-face ((<span class="kw">t</span> :inherit mu4e-list-default))) 
   &#39;(mu4e-list-default-face ((<span class="kw">t</span> :inherit mu4e-list-default))) 
   &#39;(mu4e-title-face ((<span class="kw">t</span> :inherit mu4e-list-default))) 
   &#39;(mu4e-trashed-face ((<span class="kw">t</span> :inherit mu4e-list-default))) 
   &#39;(mu4e-warning-face ((<span class="kw">t</span> :inherit mu4e-list-default :foreground <span class="st">&quot;OrangeRed1&quot;</span>))) 
   &#39;(mu4e-modeline-face ((<span class="kw">t</span> :inherit mu4e-list-default))) 
   &#39;(mu4e-moved-face ((<span class="kw">t</span> :inherit mu4e-list-default))) 
   &#39;(mu4e-ok-face ((<span class="kw">t</span> :inherit mu4e-list-default :foreground <span class="st">&quot;ForestGreen&quot;</span>))) 
   &#39;(mu4e-read-face ((<span class="kw">t</span> :inherit mu4e-list-default :foreground <span class="st">&quot;Gray80&quot;</span>))) 
   &#39;(mu4e-region-code-face ((<span class="kw">t</span> :inherit mu4e-list-default :background <span class="st">&quot;Gray25&quot;</span>))) 
   &#39;(mu4e-replied-face ((<span class="kw">t</span> :inherit mu4e-list-default :foreground <span class="st">&quot;Black&quot;</span>))) 
   &#39;(mu4e-unread-face ((<span class="kw">t</span> :inherit mu4e-list-default :foreground <span class="st">&quot;Blue&quot;</span>))) 
   &#39;(mu4e-highlight-face ((<span class="kw">t</span> :inherit mu4e-unread-face))) 

   &#39;(mu4e-special-header-value-face ((<span class="kw">t</span> :inherit mu4e-contact-face))) 
   &#39;(mu4e-header-key-face ((<span class="kw">t</span> :inherit mu4e-contact-face :foreground <span class="st">&quot;Gray50&quot;</span>))) 
   &#39;(mu4e-header-value-face ((<span class="kw">t</span> :inherit mu4e-contact-face))) 
   &#39;(message-cited-text ((<span class="kw">t</span> :inherit mu4e-rw-default :foreground <span class="st">&quot;Gray10&quot;</span>))) 
</code></pre></div>
<h1>Extensions</h1>
<h2>Xha menu</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">if</span> (<span class="kw">string=</span> system-name <span class="st">&quot;voices&quot;</span>) 
  (<span class="kw">progn</span>

  (<span class="kw">defvar</span><span class="fu"> xah-filelist </span><span class="kw">nil</span> <span class="st">&quot;alist for files i need to open frequently. Key is a short abbrev, Value is file path.&quot;</span>)
  (<span class="kw">setq</span> xah-filelist
        &#39;(
    (<span class="st">&quot;t&quot;</span> . <span class="st">&quot;~/org/files/agenda/TODO.org&quot;</span> )
    (<span class="st">&quot;r&quot;</span> . <span class="st">&quot;~/org/files/agenda/Research.org&quot;</span> )
    (<span class="st">&quot;z&quot;</span> . <span class="st">&quot;~/org/files/agenda/z1.org&quot;</span> )
    (<span class="st">&quot;k &quot;</span> . <span class="st">&quot;~/org/files/help/keys.org&quot;</span> )
    (<span class="st">&quot;l&quot;</span> . <span class="st">&quot;~/org/files/Tech/linux.org&quot;</span> )
    (<span class="st">&quot;f&quot;</span> . <span class="st">&quot;~/org/files/agenda/food.org&quot;</span> )
    (<span class="st">&quot;v&quot;</span> . <span class="st">&quot;~/org/files/Home/travel.org&quot;</span> )
    (<span class="st">&quot;h&quot;</span> . <span class="st">&quot;~/org/files/Home/home.org&quot;</span> )
    (<span class="st">&quot;m&quot;</span> . <span class="st">&quot;~/org/files/from-mobile.org&quot;</span> )
    (<span class="st">&quot;v&quot;</span> . <span class="st">&quot;~/org/files/files/agenda/travel.org&quot;</span> )
    (<span class="st">&quot;h&quot;</span> . <span class="st">&quot;~/org/files/files/Home/home.org&quot;</span> )
    (<span class="st">&quot;p&quot;</span> . <span class="st">&quot;~/org/files/files/uni/papers/papers.org&quot;</span> )
    (<span class="st">&quot;E&quot;</span> . <span class="st">&quot;~/.emacs.d/init.el&quot;</span> )
    (<span class="st">&quot;B&quot;</span> . <span class="st">&quot;/home/zeltak/.config/beets/config.yaml&quot;</span> )
    (<span class="st">&quot;S&quot;</span> . <span class="st">&quot;~/.config/sxhkd/sxhkdrc&quot;</span> )
    (<span class="st">&quot;I&quot;</span> . <span class="st">&quot;~/.i3/config&quot;</span> )
    (<span class="st">&quot;X&quot;</span> . <span class="st">&quot;~/.xinitrc&quot;</span> )
    (<span class="st">&quot;B&quot;</span> . <span class="st">&quot;~/.interrobangrc&quot;</span> )
    (<span class="st">&quot;Z&quot;</span> . <span class="st">&quot;~/.zshrc&quot;</span> )
    (<span class="st">&quot;o&quot;</span> . <span class="st">&quot;~/org/attach/&quot;</span> )
    ) )
  )

  (<span class="kw">progn</span>

  (<span class="kw">defvar</span><span class="fu"> xah-filelist </span><span class="kw">nil</span> <span class="st">&quot;alist for files i need to open frequently. Key is a short abbrev, Value is file path.&quot;</span>)
  (<span class="kw">setq</span> xah-filelist
        &#39;(
    (<span class="st">&quot;e&quot;</span> . <span class="st">&quot;~/.emacs.d/settings.org&quot;</span>  )
    ) )

  )
  )
</code></pre></div>
<h2>Xah menu function</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> z-open-file-fast </span>(openCode)
    <span class="st">&quot;Prompt to open a file from a pre-defined set.&quot;</span>
    (interactive
     (<span class="kw">list</span> (ido-completing-read <span class="st">&quot;Open:&quot;</span> (<span class="kw">mapcar</span> (<span class="kw">lambda</span> (x) (<span class="kw">car</span> x)) xah-filelist)))
     )
    (find-file (<span class="kw">cdr</span> (<span class="kw">assoc</span> openCode xah-filelist)) ) )

  <span class="co">;(global-set-key (kbd &quot;XXX&quot;) &#39;z-open-file-fast)</span>
</code></pre></div>
<h2>menu per machine</h2>
<p>(if (string= system-name &quot;voices&quot;) (progn COMMAND1 COMMAND2 )</p>
<p>(progn COMMAND1 COMMAND2 ) )</p>
<p>#+END<sub>EXAMPLE</sub></p>
<h2>edit with emacs</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;load-path <span class="st">&quot;/home/zeltak/.emacs.g/extra/edit-server/&quot;</span>)
  (<span class="kw">require</span> &#39;edit-server)
  (edit-server-start)</code></pre></div>
<h1>R/ESS</h1>
<h2>load ess</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-to-list &#39;load-path <span class="st">&quot;/home/zeltak/.emacs.g/ESS/lisp/&quot;</span>)
  (<span class="kw">load</span> <span class="st">&quot;ess-site&quot;</span>)</code></pre></div>
<h2>output</h2>
<h3>make scrolling always hit bottom</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> comint-scroll-to-bottom-on-input <span class="kw">t</span>)
  (<span class="kw">setq</span> comint-scroll-to-bottom-on-output <span class="kw">t</span>)
  (<span class="kw">setq</span> comint-move-point-for-output <span class="kw">t</span>)</code></pre></div>
<h2>default dirs</h2>
<h3>transfile file</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  <span class="co">;don&#39;t ask to save file</span>
  <span class="co">;(setq ess-ask-about-transfile nil)</span>
  (<span class="kw">setq</span> ess-ask-about-transfile <span class="kw">nil</span>)</code></pre></div>
<h3>default directory</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> ess-ask-for-ess-directory <span class="kw">nil</span>)
  <span class="co">;define deault ess dir</span>
  (<span class="kw">setq</span> ess-directory <span class="st">&quot;/home/zeltak/ZH_tmp/&quot;</span>)</code></pre></div>
<h3>local process name</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> ess-local-process-name <span class="st">&quot;Runi&quot;</span>)</code></pre></div>
<h3>history file</h3>
<p>global command history file and have:</p>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> ess-history-directory <span class="st">&quot;~/.essrhist/&quot;</span>)</code></pre></div>
<h2>functions</h2>
<h3>clear shell function</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> clear-shell </span>()
     (interactive)
     (<span class="kw">let</span> ((old-max comint-buffer-maximum-size))
       (<span class="kw">setq</span> comint-buffer-maximum-size <span class="dv">0</span>)
       (comint-truncate-buffer)
       (<span class="kw">setq</span> comint-buffer-maximum-size old-max))) </code></pre></div>
<h3>This recalls the R statement from your R statement history, but it tries to match it with the one which is already on your line.</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (add-hook &#39;inferior-ess-mode-hook
      &#39;(<span class="kw">lambda</span> <span class="kw">nil</span>
      (define-key inferior-ess-mode-map [\C-up]
          &#39;comint-previous-matching-input-from-input)
      (define-key inferior-ess-mode-map [\C-down]
          &#39;comint-next-matching-input-from-input)
      (define-key inferior-ess-mode-map [\C-x \t]
          &#39;comint-dynamic-complete-filename)
       )
   )</code></pre></div>
<p>This recalls the R statement from your R statement history, but it tries to match it with the one which is already on your line. So, for example, typing pl in R process and pressing \C-up (that’s control and the up arrow) will cycle through all the statements which start with pl, so it will recall for example all the plot(... commands.</p>
<h3>allow ess to run procceses in background</h3>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">setq</span> ess-eval-visibly &#39;nowait)</code></pre></div>
<h1>test</h1>
<h2>helm org wiki</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (defgroup helm-org-wiki <span class="kw">nil</span>
        <span class="st">&quot;Simple jump-to-org-file package.&quot;</span>
        :group &#39;org
        :prefix <span class="st">&quot;helm-org-wiki-&quot;</span>)
      (defcustom helm-org-wiki-directory <span class="st">&quot;~/org/files/&quot;</span>
        <span class="st">&quot;Directory where files for `helm-org-wiki&#39; are stored.&quot;</span>
        :group &#39;helm-org-wiki
        <span class="kw">:type</span> &#39;directory)
      (<span class="kw">defun</span><span class="fu"> helm-org-wiki-files </span>()
        <span class="st">&quot;Return .org files in `helm-org-wiki-directory&#39;.&quot;</span>
        (<span class="kw">let</span> ((default-directory helm-org-wiki-directory))
    (<span class="kw">mapcar</span> &#39;file-name-sans-extension
        (file-expand-wildcards <span class="st">&quot;*.org&quot;</span>))))
      (<span class="kw">defvar</span><span class="fu"> helm-source-org-wiki</span>
        `((name . <span class="st">&quot;Projects&quot;</span>)
    (candidates . helm-org-wiki-files)
    (action . ,(<span class="kw">lambda</span> (x)
              (find-file (expand-file-name
                  (<span class="kw">format</span> <span class="st">&quot;%s.org&quot;</span> x)
                  helm-org-wiki-directory))))))
      (<span class="kw">defvar</span><span class="fu"> helm-source-org-wiki-not-found</span>
        `((name . <span class="st">&quot;Create org-wiki&quot;</span>)
    (dummy)
    (action . (<span class="kw">lambda</span> (x)
            (helm-switch-to-buffer
             (find-file
              (<span class="kw">format</span> <span class="st">&quot;%s/%s.org&quot;</span>
                  helm-org-wiki-directory x)))))))
      <span class="co">;;;###autoload</span>
      (<span class="kw">defun</span><span class="fu"> helm-org-wiki </span>()
        <span class="st">&quot;Select an org-file to jump to.&quot;</span>
        (interactive)
        (helm :sources
        &#39;(helm-source-org-wiki
          helm-source-org-wiki-not-found)))
      (<span class="kw">provide</span> &#39;helm-org-wiki)</code></pre></div>
<h2>helm agenda</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> helm-agenda-candidates </span>(query)
    (<span class="kw">let</span> ((results &#39;()))
      (<span class="kw">mapc</span> (<span class="kw">lambda</span> (f)
        (with-current-buffer (find-file-noselect f)
    (org-map-entries
     (<span class="kw">lambda</span> ()
       (add-to-list &#39;results
            (<span class="kw">cons</span>
             (concat
              (file-name-nondirectory f) <span class="st">&quot; | &quot;</span>
              (<span class="kw">make-string</span> (<span class="kw">nth</span> <span class="dv">1</span> (org-heading-components)) ?*)
              <span class="st">&quot; &quot;</span>
              (org-get-heading))
             (point-marker))))
     query))) (org-agenda-files))
      results))


  (<span class="kw">defun</span><span class="fu"> helm-query-agenda </span>(query)
    <span class="st">&quot;Helm interface to headlines with TODO status in current buffer.&quot;</span>
    (interactive <span class="st">&quot;sQuery: &quot;</span>)
    (<span class="kw">let</span> ((candidates (helm-agenda-candidates query)))
      (helm :sources &#39;(((name . <span class="st">&quot;TODO headlines&quot;</span>)
              (candidates . candidates)
              (action . ((<span class="st">&quot;open&quot;</span> . (<span class="kw">lambda</span> (m)
                         (switch-to-buffer (marker-buffer m))
                         (goto-char m)
                         (show-children))))))))))</code></pre></div>
<h2>config stuff</h2>
<h3>org appoint</h3>
<pre class="example"><code> Add org-mode appointments to the diary

Diary offers reminders, which can be useful when scheduling appointments.

(defadvice org-agenda-redo (after ext:org-agenda-redo-add-appts)
  &quot;Pressing `r&#39; on the agenda will also add appointments.&quot;
  (setq appt-time-msg-list nil)
  (org-agenda-to-appt))



</code></pre>
<h3>scroll line</h3>
<p>However, this doesn't work when running Emacs as a Daemon. So instead I specify it in the default-frame-alist.</p>
<p>(vertical-scroll-bars . nil)</p>
<h3>prelude functions</h3>
<p><a href="https://github.com/seth/my-emacs-dot-d/blob/master/emacs-init.org" class="uri">https://github.com/seth/my-emacs-dot-d/blob/master/emacs-init.org</a></p>
<h2>function to connect to R remotly</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (<span class="kw">defun</span><span class="fu"> zconn </span>()
    (interactive)
    (eshell)
    (insert <span class="st">&quot;export TERM=screen-256color-bce&quot;</span>)
    (insert <span class="st">&quot;ssu zuni&quot;</span>)
    (comint-send-input))</code></pre></div>
<h2>connect to ssh link in xterm in org file</h2>
<p>One day after being particularly frustrated when I couldn’t get into a box, I was adding yet another entry to ~/.ssh/config only to realize it was in there twice already, I decided to turn this problem into a nail so I could use my universal hammer, emacs.</p>
<pre class="example"><code>(defun jgk/xterm-ssh (host)
  &quot;Spawn a xterm with a ssh to the host&quot;
  (start-process-shell-command &quot;*org-xterm-ssh*&quot; &quot;ssh-xterm&quot; &quot;xterm&quot; &quot;-e&quot;
                               (concat &quot;&#39;ssh -AY &quot;  host &quot;&#39;&quot;)))
</code></pre>
<p>I now have an org file for each project I work on and can create links that will let me ssh into a system with a ‘click’</p>
<pre class="example"><code>[[elisp:(jgk/xterm-ssh &quot;username@192.168.15.218&quot;)][Magical Mystery Machine]]
</code></pre>
<p>Since it is in org mode I can now categorize and tag these links. I can take notes and use tramp to open directories.</p>
<p>I am slowly adding systems in as I need them. I have found the ability to keep notes and a basic log of what and why I was there to be invaluable.</p>
<p>If you need to access a lot of random systems you should try this, it has made my life sane</p>
<h2>Emacs deamon</h2>
<pre class="example"><code>The super secret ingredient to all of this is emacs server and emacsclient. Emacs server allows you to connect to a running instance of emacs to do things (like edit files or run elisp functions) without starting a whole new emacs instance. That makes it really fast. You can start emacs server by running M-x server-start or have it happen automatically when emacs starts by putting (server-start) in $HOME/.emacs. You can even use emacs –daemon to start emacs in the background when you log in or with the @reboot tag in cron to start it when the machine starts. The –daemon option has the fringe benefit of leaving emacs running even if you log out.The super secret ingredient to all of this is emacs server and emacsclient. Emacs server allows you to connect to a running instance of emacs to do things (like edit files or run elisp functions) without starting a whole new emacs instance. That makes it really fast. You can start emacs server by running M-x server-start or have it happen automatically when emacs starts by putting (server-start) in $HOME/.emacs. You can even use emacs –daemon to start emacs in the background when you log in or with the @reboot tag in cron to start it when the machine starts. The –daemon option has the fringe benefit of leaving emacs running even if you log out.
</code></pre>
<h2>WL</h2>
<div class="sourceCode"><pre class="sourceCode commonlisp"><code class="sourceCode commonlisp">  (autoload &#39;wl <span class="st">&quot;wl&quot;</span> <span class="st">&quot;Wanderlust&quot;</span> <span class="kw">t</span>)
  (autoload &#39;wl-draft <span class="st">&quot;wl&quot;</span> <span class="st">&quot;Write draft with Wanderlust.&quot;</span> <span class="kw">t</span>)</code></pre></div>
</body>
</html>
